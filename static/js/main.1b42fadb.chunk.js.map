{"version":3,"sources":["components/AnimeCard/AnimeCard.module.css","components/FullAnimeInfo/InfoSection/TitleSection/TitleSection.module.css","components/AnimeMiniCard/AnimeMiniCard.module.css","components/AnimeList/AnnualAnimeList/SeasonCards/SeasonCard/SeasonCard.module.css","pages/Home/Home.module.css","components/Topbar/Topbar.module.css","components/FullAnimeInfo/InfoSection/DetailSection/RatingDetail/RatingDetail.module.css","assets/images/logo.png","pages/Error/Error.module.css","components/FullAnimeInfo/InfoSection/DetailSection/CharacterDetail/CharacterCard/CharacterCard.module.css","components/FullAnimeInfo/InfoSection/DetailSection/TagDetail/TagDetail.module.css","assets/images/nocover.jpg","components/FullAnimeInfo/InfoSection/DetailSection/DetailSection.module.css","components/FullAnimeInfo/InfoSection/DetailSection/ProductionDetail/ProductionDetail.module.css","components/FullAnimeInfo/InfoSection/DetailSection/EpisodeDetail/EpisodeDetail.module.css","components/FullAnimeInfo/InfoSection/DetailSection/CharacterDetail/CharacterDetail.module.css","components/FullAnimeInfo/InfoSection/DetailSection/StaffDetail/StaffCard/StaffCard.module.css","components/FullAnimeInfo/InfoSection/DetailSection/StaffDetail/StaffDetail.module.css","assets/images/profile_placeholder.png","components/AnimeColumnList/AnimeColumnList.module.css","pages/Loading/Loading.module.css","components/Layout/Layout.module.css","components/Setting/Setting.module.css","components/AnimeList/AnnualAnimeList/AnnualAnimeList.module.css","components/FullAnimeInfo/FullAnimeInfo.module.css","components/Sidebar/Sidebar.module.css","components/AnimeList/WeeklyAnimeList/WeeklyAnimeList.module.css","assets/images/weekdays/sunday.svg","assets/images/weekdays/monday.svg","assets/images/weekdays/tuesday.svg","assets/images/weekdays/wednesday.svg","assets/images/weekdays/thursday.svg","assets/images/weekdays/friday.svg","assets/images/weekdays/saturday.svg","assets/images/loading.svg","assets/images/season_empty.jpg","assets/images/not_air.jpg","assets/images/seasons/spring.svg","assets/images/seasons/summer.svg","assets/images/seasons/autumn.svg","assets/images/seasons/winter.svg","components/AnimeList/AnnualAnimeList/SeasonCards/SeasonCards.module.css","components/AnimeList/AnnualAnimeList/PaginationAnimeList/PaginationAnimeList.module.css","assets/images/myne_sit.png","assets/images/myne_cry.png","components/FullAnimeInfo/InfoSection/InfoSection.module.css","components/FullAnimeInfo/InfoSection/DetailSection/EpisodeDetail/EpisodeButton/EpisodeButton.module.css","assets/images/CharacterPlaceholder.jpg","components/Breadcrumb/Breadcrumb.module.css","utils/utils.js","store/actions/apis/BangumiData.js","store/actions/ActionTypes.js","service/Initialization.js","components/Sidebar/Sidebar.js","components/Reset/Reset.js","components/Setting/Setting.js","components/Topbar/Topbar.js","service/api/BangumiSubject.js","service/api/BangumiApi.js","service/api/Netabare.js","service/api/DataMix.js","service/AnimeDataService.js","components/AnimeMiniCard/AnimeMiniCard.js","components/AnimeColumnList/AnimeColumnList.js","components/AnimeList/WeeklyAnimeList/WeeklyAnimeList.js","components/AnimeCard/AnimeCard.js","components/AnimeList/AnimeList.js","components/AnimeCard/AnimeCardSkeleton.js","components/AnimeList/AnimeListSkeleton.js","components/AnimeList/SeasonAnimeList/SeasonAnimeList.js","components/AnimeList/AnnualAnimeList/SeasonCards/SeasonCard/SeasonCard.js","components/AnimeList/AnnualAnimeList/SeasonCards/SeasonCards.js","components/AnimeList/AnnualAnimeList/PaginationAnimeList/PaginationAnimeList.js","components/AnimeList/AnnualAnimeList/AnnualAnimeList.js","pages/Home/Home.js","components/AnimeList/FavoritedAnimeList/FavoritedAnimeList.js","pages/Error/Error.js","components/FullAnimeInfo/InfoSection/TitleSection/TitleSection.js","components/FullAnimeInfo/InfoSection/DetailSection/ProductionDetail/ProductionDetail.js","components/FullAnimeInfo/InfoSection/DetailSection/EpisodeDetail/EpisodeButton/EpisodeButton.js","components/FullAnimeInfo/InfoSection/DetailSection/EpisodeDetail/EpisodeDetail.js","components/FullAnimeInfo/InfoSection/DetailSection/CharacterDetail/CharacterCard/CharacterCard.js","components/FullAnimeInfo/InfoSection/DetailSection/CharacterDetail/CharacterDetail.js","components/FullAnimeInfo/InfoSection/DetailSection/StaffDetail/StaffCard/StaffCard.js","components/FullAnimeInfo/InfoSection/DetailSection/StaffDetail/StaffDetail.js","components/FullAnimeInfo/InfoSection/DetailSection/RatingDetail/RatingDetail.js","components/FullAnimeInfo/InfoSection/DetailSection/TagDetail/TagDetail.js","components/FullAnimeInfo/InfoSection/DetailSection/DetailSection.js","components/FullAnimeInfo/InfoSection/InfoSection.js","components/FullAnimeInfo/FullAnimeInfo.js","router/index.js","components/Breadcrumb/Breadcrumb.js","pages/Loading/Loading.js","components/Layout/Layout.js","serviceWorker.js","store/reducers/BangumiDataReducer.js","index.js"],"names":["module","exports","getSeasonRange","year","month","startMonth","endMonth","endYear","slice","translateBreadcrumb","breadcrumb","translateData","weekly","favorite","initializedCollapseKey","key","location","path","pathname","start","Date","end","parseInt","curr","setInitialization","initialized","type","initialization","dispatch","localVersion","localStorage","getItem","lastestVersion","setItem","JSON","stringify","cardApi","pageApi","cors","proxy","url","axios","get","then","res","data","tags","latest","version","siteMeta","items","filter","item","undefined","sites","find","i","site","years","forEach","b","begin","getFullYear","includes","push","init","connect","state","bangumiData","props","useLocation","history","useHistory","useState","collapseKeys","setCollapseKeys","React","selectedItem","setSelectedItem","parse","yearList","min","Math","max","Collapse","in","unmountOnExit","f","map","m","ListItem","selected","button","onClick","clickHandler","ListItemText","reverse","ExpandMore","ExpandLess","genenerateYearList","link","isMobile","closeSidebar","Drawer","anchor","open","openSidebar","variant","onClose","List","className","styles","list","style","marginTop","ListSubheader","disableSticky","Divider","Reset","Dialog","close","maxWidth","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","color","clear","window","reload","Setting","setCardApi","setPageApi","setCors","corsUrl","setCorsUrl","helperText","setHelperText","FormControl","component","FormLabel","RadioGroup","value","onChange","event","target","FormControlLabel","control","Radio","label","divider","TextField","id","defaultValue","disabled","margin","Topbar","openResetAlert","setOpenResetAlert","openMenu","setOpenMenu","backToHome","AppBar","appbar","position","Toolbar","toolbar","IconButton","edge","aria-label","toggleSidebar","Menu","Fragment","logo","src","alt","Typography","name","right","rightItem","GitHub","Cached","Settings","fetchBangumiSubjectData","a","catch","err","console","log","response","reassembleBasicData","size","reassembledData","nameCn","image","replace","score","rating","getBangumiSubjectDataFull","getBangumiSubjectDataBasic","rawData","basicData","fetchBangumiApiData","code","images","large","getBangumiApiDataFull","getBangumiApiDataBasic","fetchNetabareData","EMPTY_OBJECT","subject","getNetabareDataFull","getNetabareDataBasic","subjectApiMix","bgmSbjData","production","info","cover","subjectNetabareMix","AnimeDataService","getBangumiDataBasic","API","getBangumiDataFull","this","AnimeMiniCard","animeData","setAnimeData","anchorEl","setAnchorEl","menuOpen","setMenuOpen","isFav","setIsFav","Boolean","ads","bangumiId","anime","useEffect","title","titleTranslate","bangumiRating","menuItem","MenuItem","siteHandler","Info","animeMenuIcon","PlayCircleFilled","sort","unshift","openTargetSite","officialSite","dmhy","urlTemplate","GetApp","goFullInfoPage","Card","card","CardMedia","coverImage","NoCoverPlaceholderImage","CardContent","content","CardActions","actions","favBtn","favList","splice","indexOf","Favorite","favIcon","FavoriteBorder","moreBtn","currentTarget","MoreHoriz","elevation","animeMenu","keepMounted","TransitionComponent","Fade","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","AnimeColumnList","weekdayIcon","SundayIcon","MondayIcon","TuesdayIcon","WednesdayIcon","ThursdayIcon","FridayIcon","SaturdayIcon","column","icon","weekday","l","WeeklyAnimeList","fullItems","range","getMonth","selectedItems","day","getDay","weeklyAnimeList","AnimeCard","memo","loadingPlaceHolderImage","cardContent","Rating","precision","readOnly","Box","ratingNum","cardActions","MoreVert","AnimeList","AnimeCardSkeleton","Skeleton","height","animation","width","ratingSkl","AnimeListSkeleton","SeasonAnimeList","loading","setLoading","seasonItems","setSeasonItems","useParams","SeasonCard","bottomButton","buttonStyle","setButtonStyle","setCoverImage","imageStyle","setImageStyle","prevYear","ref","useRef","current","usePrevious","cardStyle","seasonStarted","seasonIcon","season","SpringIcon","SummerIcon","AutumnIcon","WinterIcon","randomId","length","floor","random","getRandomAnime","NotFoundImage","left","leftCard","center","centerCard","rightCard","pointer","onMouseOver","moveButtonUp","imgTransform","onMouseOut","NotAirImage","buttonText","buttonTextSeason","ButtonGroup","character","getAnimePerPageByResolution","screen","PaginationAnimeList","animes","setAnimes","currentPage","setCurrentPage","currentAnimes","setCurrentAnimes","animePerPage","indexOfLastAnime","indexOfFirstAnime","Pagination","pagination","count","ceil","page","showFirstButton","showLastButton","a11yProps","index","TabPanel","children","other","role","hidden","AnnualAnimeList","setValue","seasons","seasonsFullWidth","Tabs","newValue","indicatorColor","textColor","Tab","SeasonCards","Home","home","Logo","align","paragraph","Link","href","ArrowBackIosRounded","arrowIcon","badges","badge","myne","Myne","FavoritedAnimeList","setItems","filteredItems","Error","error","buttons","startIcon","History","goBack","TitleSection","toString","links","titleCN","titleSection","titleInfo","basicInfo","titleJP","time","AccessTime","fontSize","airDate","CalendarToday","summaryInfo","summary","ProductionDetail","infoList","match","parsedInfo","productionDetail","header","HtmlTooltip","withStyles","theme","tooltip","backgroundColor","typography","pxToRem","border","Tooltip","EpisodeButton","eps","airdate","status","data-tip","data-for","disableElevation","disableRipple","EpisodeDetail","episodeDetail","episodeList","episodes","CharacterCard","characterImage","CharacterPlaceholderImage","cardImage","setCardImage","gender","birth","bloodtype","bwh","characterCard","actors","ProfilePlaceholderImage","charaInfo","alias","kana","CharacterDetail","characterDetail","characterList","characters","StaffCard","staffCard","profileImage","staff","medium","staffInfo","jobs","job","StaffDetail","staffDetail","staffList","staffs","RatingDetail","ratingChart","LinearProgress","bar","total","valueBuffer","ratingDetail","TagDetail","tagsDetail","tag","arrow","DetailSection","detailSection","crt","InfoSection","infoSection","name_cn","Div","styled","div","FullAnimeInfo","bangumiInfo","setBangumiInfo","bgmId","skeleton","fullInfoPage","Router","exact","ErrorPage","Breadcrumb","crumbs","split","linkHandler","crumbLinks","Breadcrumbs","separator","NavigateNext","BangumiDataLoading","loadingText","Layout","siderbarHandler","setState","prevState","contentsAreaFullWidth","contentsArea","Loading","PureComponent","action","hostname","defaultState","reducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","bangumiDataReducer","store","createStore","applyMiddleware","ReduxThunk","ReactDOM","render","StylesProvider","injectFirst","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"iGACAA,EAAOC,QAAU,CAAC,KAAO,wBAAwB,MAAQ,yBAAyB,YAAc,+BAA+B,WAAa,8BAA8B,OAAS,0BAA0B,UAAY,6BAA6B,YAAc,+BAA+B,OAAS,0BAA0B,QAAU,2BAA2B,UAAY,6BAA6B,cAAgB,iCAAiC,SAAW,4BAA4B,UAAY,+B,wBCAxfD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,WAAa,iCAAiC,UAAY,gCAAgC,UAAY,gCAAgC,QAAU,8BAA8B,KAAO,2BAA2B,OAAS,6BAA6B,MAAQ,4BAA4B,KAAO,2BAA2B,YAAc,kCAAkC,QAAU,8BAA8B,QAAU,8BAA8B,QAAU,8BAA8B,KAAO,2BAA2B,cAAgB,sC,mBCA1lBD,EAAOC,QAAU,CAAC,KAAO,4BAA4B,OAAS,8BAA8B,WAAa,kCAAkC,QAAU,+BAA+B,MAAQ,6BAA6B,QAAU,+BAA+B,QAAU,+BAA+B,OAAS,8BAA8B,QAAU,+BAA+B,QAAU,+BAA+B,UAAY,mC,kBCAhbD,EAAOC,QAAU,CAAC,KAAO,yBAAyB,QAAU,4BAA4B,WAAa,+BAA+B,aAAe,iCAAiC,SAAW,6BAA6B,WAAa,+BAA+B,UAAY,8BAA8B,aAAe,iCAAiC,aAAe,iCAAiC,WAAa,+BAA+B,WAAa,+BAA+B,iBAAmB,uC,8BCA7fD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,KAAO,mBAAmB,MAAQ,oBAAoB,UAAY,wBAAwB,OAAS,qBAAqB,OAAS,qBAAqB,MAAQ,oBAAoB,KAAO,qB,kBCArOD,EAAOC,QAAU,CAAC,QAAU,wBAAwB,MAAQ,sBAAsB,UAAY,0BAA0B,OAAS,uBAAuB,KAAO,qBAAqB,KAAO,uB,2BCA3LD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,OAAS,6BAA6B,QAAU,8BAA8B,YAAc,kCAAkC,UAAY,gCAAgC,IAAM,4B,mBCDpPD,EAAOC,QAAU,IAA0B,kC,sBCC3CD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,KAAO,oBAAoB,QAAU,uBAAuB,OAAS,wB,gBCApHD,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,eAAiB,sCAAsC,UAAY,iCAAiC,KAAO,4BAA4B,OAAS,gC,gBCAvND,EAAOC,QAAU,CAAC,WAAa,8BAA8B,OAAS,0BAA0B,QAAU,2BAA2B,KAAO,wBAAwB,IAAM,yB,qBCD1KD,EAAOC,QAAU,IAA0B,qC,gBCC3CD,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,KAAO,4BAA4B,OAAS,8BAA8B,MAAQ,+B,gBCAzJD,EAAOC,QAAU,CAAC,OAAS,iCAAiC,QAAU,kCAAkC,iBAAmB,2CAA2C,WAAa,uC,gBCAnLD,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,OAAS,8BAA8B,QAAU,+BAA+B,YAAc,qC,gBCArKD,EAAOC,QAAU,CAAC,gBAAkB,yCAAyC,OAAS,gCAAgC,QAAU,iCAAiC,cAAgB,yC,gBCAjLD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,aAAe,gCAAgC,UAAY,6BAA6B,IAAM,yB,gBCAzJD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,OAAS,4BAA4B,QAAU,6BAA6B,UAAY,iC,0BCDzJD,EAAOC,QAAU,09K,gBCCjBD,EAAOC,QAAU,CAAC,OAAS,gCAAgC,KAAO,8BAA8B,QAAU,mC,gBCA1GD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,KAAO,sBAAsB,YAAc,6BAA6B,QAAU,2B,gBCAvID,EAAOC,QAAU,CAAC,aAAe,6BAA6B,sBAAwB,wC,uBCAtFD,EAAOC,QAAU,CAAC,QAAU,2B,gBCA5BD,EAAOC,QAAU,CAAC,KAAO,gC,gBCAzBD,EAAOC,QAAU,CAAC,aAAe,oCAAoC,SAAW,kC,qCCAhFD,EAAOC,QAAU,CAAC,KAAO,sBAAsB,YAAc,6BAA6B,SAAW,4B,mBCArGD,EAAOC,QAAU,CAAC,gBAAkB,2C,gBCDpCD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,0C,gBCA3CD,EAAOC,QAAU,IAA0B,qC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCA3CD,EAAOC,QAAU,IAA0B,oC,gBCC3CD,EAAOC,QAAU,CAAC,OAAS,4BAA4B,OAAS,4BAA4B,gBAAkB,qCAAqC,OAAS,4BAA4B,OAAS,4BAA4B,OAAS,4BAA4B,OAAS,8B,gBCA3QD,EAAOC,QAAU,CAAC,WAAa,0C,gBCD/BD,EAAOC,QAAU,IAA0B,sC,gBCA3CD,EAAOC,QAAU,IAA0B,sC,iBCC3CD,EAAOC,QAAU,CAAC,YAAc,mC,gBCAhCD,EAAOC,QAAU,CAAC,OAAS,gC,iBCD3BD,EAAOC,QAAU,IAA0B,kD,oBCC3CD,EAAOC,QAAU,CAAC,WAAa,iC,4RCOlBC,EAAiB,SAACC,EAAMC,GACnC,IAAIC,EAAa,EACfC,EAAW,EACXC,EAAUJ,EAiBZ,OAfIC,GAAS,GAAKA,EAAQ,GACxBC,EAAa,EACbC,EAAW,GACFF,GAAS,GAAKA,EAAQ,GAC/BC,EAAa,EACbC,EAAW,GACFF,GAAS,GAAKA,EAAQ,IAC/BC,EAAa,EACbC,EAAW,IACFF,GAAS,KAClBC,EAAa,GACbC,EAAW,EACXC,KAGK,CACLJ,EAAO,KAAO,IAAME,GAAYG,OAAO,GAAK,oBAC5CD,EAAU,KAAO,IAAMD,GAAUE,OAAO,GAAK,sBAkBpCC,EAAsB,SAACC,GAClC,IAAMC,EAAgB,CACpBC,OAAQ,2BACRC,SAAU,4BAGZ,OAAOF,EAAcD,GAAcC,EAAcD,GAAcA,GA+BpDI,EAAyB,SAACC,EAAKC,GAC1C,IAAMC,EAAOD,EAASE,SAASV,MAAM,EAAG,GAClCW,EAAQ,IAAIC,KAAKL,EAAIP,MAAM,EAAG,GAAI,GACtCa,EAAM,IAAID,KAAKL,EAAIP,MAAM,GAAI,GAC/B,GAAIc,SAASL,GAAO,CAClB,IAAMM,EAAO,IAAIH,KAAKH,EAAM,GAC5B,OAAOE,GAASI,GAAQA,GAAQF,ICtFvBG,EAAoB,SAACC,GAChC,MAAO,CACLC,KCP0B,iBDQ1BD,YAAaA,IAIJE,EAAiB,WAC5B,OAAO,SAACC,GACN,IAAMC,EAAeC,aAAaC,QAAQ,cACtCC,EAAiB,MERtBF,aAAaC,QAAQ,YACpBD,aAAaG,QACX,UACAC,KAAKC,UAAU,CACbC,QAAS,UACTC,QAAS,UACTC,KAAM,CACJC,MAAO,SACPC,IAAK,4CAZZV,aAAaC,QAAQ,aAAeD,aAAaG,QAAQ,WAAY,MFiBpEQ,IACGC,IAAI,yDACJC,MAAK,SAACC,GACLZ,EAAiBY,EAAIC,KAAKC,KAAKC,OAC3BlB,IAAiBG,EACnBS,IACGC,IADH,mEAIGC,MAAK,SAACC,GECuB,IAACI,EAASH,EAATG,EFAGhB,EEAMa,EFAUD,EAAIC,KEChEf,aAAaG,QAAQ,aAAce,GACnClB,aAAaG,QAAQ,eAAgBC,KAAKC,UAAUU,EAAKI,WACzDnB,aAAaG,QACX,WACAC,KAAKC,UAAoCU,EAAKK,MH6EnCC,QACX,SAACC,GAAD,YAA2DC,IAAjDD,EAAKE,MAAMC,MAAK,SAACC,GAAD,MAAkB,YAAXA,EAAEC,aG5FA,SAACP,GACtC,IAAIQ,EAAQ,GACZR,EAAMS,SAAQ,SAACC,GACb,IAAMzD,EAAO,IAAIiB,KAAKwC,EAAEC,OAAOC,cAC1BJ,EAAMK,SAAS5D,IAAOuD,EAAMM,KAAK7D,MAExC2B,aAAaG,QAAQ,QAASC,KAAKC,UAAUuB,IFIjCO,CAA6BrB,EAAIC,KAAKK,OACtCtB,EAASJ,GAAkB,OAG/BI,EAASJ,GAAkB,S,sKGkHtB0C,eANS,SAACC,GACvB,MAAO,CACLT,MAAOS,EAAMC,YAAYV,SAIdQ,EAjIC,SAACG,GACf,IAAMrD,EAAWsD,cACXC,EAAUC,cAFS,EAGeC,mBAAS,CAC/C,SAAY3D,EAAuB,WAAYE,GAC/C,SAAYF,EAAuB,WAAYE,GAC/C,SAAYF,EAAuB,WAAYE,GAC/C,SAAYF,EAAuB,WAAYE,GAC/C,SAAYF,EAAuB,WAAYE,GAC/C,SAAYF,EAAuB,WAAYE,GAC/C,SAAYF,EAAuB,WAAYE,KAVxB,mBAGlB0D,EAHkB,KAGJC,EAHI,OAYeC,IAAMH,SAASzD,EAASE,UAZvC,mBAYlB2D,EAZkB,KAYJC,EAZI,KAanBpB,EAAQxB,KAAK6C,MAAMjD,aAAaC,QAAQ,UAwDxCiD,EAAWtB,EA/CU,WAMzB,IALA,IAAMuB,EAAMC,KAAKD,IAAL,MAAAC,KAAI,YAAQxB,IAClByB,EAAMD,KAAKC,IAAL,MAAAD,KAAI,YAAQxB,IAClBvC,EAA6B,GAArBG,SAAS2D,EAAM,IAEzBD,EAAW,GALgB,WAMtBxB,GACPwB,EAAShB,KACP,kBAACoB,EAAA,EAAD,CACEC,GAAIX,EAAa,GAAKlB,GAAKA,EAAI,IAC/BzC,IAAK,IAAMyC,GAAKA,EAAI,GACpB8B,eAAa,GAEZ5B,EACEP,QAAO,SAACoC,GAAD,OAAOA,GAAK/B,GAAK+B,EAAI/B,EAAI,MAChCgC,KAAI,SAACC,GACJ,OACE,kBAACC,EAAA,EAAD,CACE3E,IAAK0E,EACLE,SAAUd,IAAiB,IAAMY,EACjCG,QAAM,EACNC,QAAS,kBAAMC,EAAa,IAAML,KAElC,kBAACM,EAAA,EAAD,KAAeN,OAIpBO,YAGPhB,EAAShB,KACP,kBAAC0B,EAAA,EAAD,CACEE,QAAM,EACN7E,IAAK,GAAKyC,GAAKA,EAAI,GACnBqC,QAAS,kBAzCQ9E,EAyCc,GAAKyC,GAAKA,EAAI,QAxCnDmB,EAAgB,2BACXD,GADU,kBAEZ3D,GAAO2D,EAAa3D,MAHD,IAACA,IA2CjB,kBAACgF,EAAA,EAAD,KACGvC,EADH,MACSA,EAAI,GAEZkB,EAAa,GAAKlB,GAAKA,EAAI,IAAM,kBAACyC,EAAA,EAAD,MAAiB,kBAACC,EAAA,EAAD,SAjChD1C,EAAIrC,EAAOqC,GAAK2B,EAAK3B,GAAK,GAAK,EAA/BA,GAsCT,OAAOwB,EAASgB,UAGOG,GAAuB,GAE1CL,EAAe,SAACM,GACpB7B,EAAQP,KAAKoC,GACbtB,EAAgBsB,GAChBC,YAAYhC,EAAMiC,gBAGpB,OACE,kBAACC,EAAA,EAAD,CACEC,OAAO,OACPC,KAAMpC,EAAMqC,YACZC,QAASN,WAAW,YAAc,aAClCO,QAASvC,EAAMiC,cAEf,kBAAC,IAAD,KACE,kBAACO,EAAA,EAAD,CACEC,UAAWC,IAAOC,KAClBC,MAAO,CAAEC,WAAYb,YAAY,SAEjC,kBAACX,EAAA,EAAD,CACEE,QAAM,EACND,SAA2B,MAAjBd,EACVgB,QAAS,kBAAMC,EAAa,OAE5B,kBAACC,EAAA,EAAD,sBAEF,kBAACL,EAAA,EAAD,CACEE,QAAM,EACND,SAA2B,cAAjBd,EACVgB,QAAS,kBAAMC,EAAa,eAE5B,kBAACC,EAAA,EAAD,kCAEF,kBAACoB,EAAA,EAAD,CAAeC,eAAa,GAA5B,4BACA,kBAACC,EAAA,EAAD,MACA,kBAAC3B,EAAA,EAAD,CACEE,QAAM,EACND,SAA2B,YAAjBd,EACVgB,QAAS,kBAAMC,EAAa,aAE5B,kBAACC,EAAA,EAAD,kCAEF,kBAACoB,EAAA,EAAD,CAAeC,eAAa,GAA5B,4BACA,kBAACC,EAAA,EAAD,MACCrC,EAASQ,KAAI,SAACC,GACb,OAAOA,W,sKCxFJ6B,GApCD,SAACjD,GACb,IAAME,EAAUC,cAShB,OACE,kBAAC+C,GAAA,EAAD,CACEd,KAAMpC,EAAMoC,KACZG,QAASvC,EAAMmD,MACfC,SAAS,KACTC,kBAAgB,qBAChBC,mBAAiB,4BAEjB,kBAACC,GAAA,EAAD,KAAc,oDACd,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,8UAIF,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAQnC,QAASxB,EAAMmD,MAAOb,QAAQ,WAAWsB,MAAM,aAAvD,gBAGA,kBAACD,GAAA,EAAD,CAAQnC,QAzBA,WACZ/D,aAAaoG,QACb7D,EAAMmD,QACNjD,EAAQP,KAAK,KACbmE,OAAOnH,SAASoH,UAqBYzB,QAAQ,WAAWsB,MAAM,WAAjD,mB,iFCsHOI,GA3IC,SAAChE,GAAW,IAAD,EACKI,mBAC5BvC,KAAK6C,MAAMjD,aAAaC,QAAQ,YAAYK,SAFrB,mBAClBA,EADkB,KACTkG,EADS,OAIK7D,mBAC5BvC,KAAK6C,MAAMjD,aAAaC,QAAQ,YAAYM,SALrB,mBAIlBA,EAJkB,KAITkG,EAJS,OAOD9D,mBACtBvC,KAAK6C,MAAMjD,aAAaC,QAAQ,YAAYO,KAAKC,OAR1B,mBAOlBD,EAPkB,KAOZkG,EAPY,OAUK/D,mBAC5BvC,KAAK6C,MAAMjD,aAAaC,QAAQ,YAAYO,KAAKE,KAX1B,mBAUlBiG,EAVkB,KAUTC,EAVS,OAaWjE,mBAAS,IAbpB,mBAalBkE,EAbkB,KAaNC,EAbM,KAyDzB,OACE,kBAACrB,GAAA,EAAD,CACEd,KAAMpC,EAAMoC,KACZG,QAASvC,EAAMmD,MACfC,SAAS,KACTC,kBAAgB,qBAChBC,mBAAiB,4BAEjB,kBAACC,GAAA,EAAD,qBACA,kBAACC,GAAA,EAAD,KACE,kBAACgB,GAAA,EAAD,CAAaC,UAAU,YACrB,kBAACC,GAAA,EAAD,CAAWD,UAAU,UAArB,qCACA,kBAACE,GAAA,EAAD,CAAYC,MAAO7G,EAAS8G,SA5BP,SAACC,GAC5Bb,EAAWa,EAAMC,OAAOH,SA4BhB,kBAACI,GAAA,EAAD,CACEC,QAAS,kBAACC,GAAA,EAAD,CAAOtB,MAAM,YACtBgB,MAAM,UACNO,MAAM,kCAER,kBAACH,GAAA,EAAD,CACEC,QAAS,kBAACC,GAAA,EAAD,CAAOtB,MAAM,YACtBgB,MAAM,cACNO,MAAM,sBAER,kBAACH,GAAA,EAAD,CACEC,QAAS,kBAACC,GAAA,EAAD,CAAOtB,MAAM,YACtBgB,MAAM,WACNO,MAAM,eAGV,kBAACnC,EAAA,EAAD,CAASP,UAAWC,KAAO0C,UAC3B,kBAACV,GAAA,EAAD,CAAWD,UAAU,UAArB,+BACA,kBAACE,GAAA,EAAD,CAAYC,MAAO5G,EAAS6G,SA5CP,SAACC,GAC5BZ,EAAWY,EAAMC,OAAOH,SA4ChB,kBAACI,GAAA,EAAD,CACEC,QAAS,kBAACC,GAAA,EAAD,CAAOtB,MAAM,YACtBgB,MAAM,UACNO,MAAM,wCAER,kBAACH,GAAA,EAAD,CACEC,QAAS,kBAACC,GAAA,EAAD,CAAOtB,MAAM,YACtBgB,MAAM,WACNO,MAAM,iCAGV,kBAACnC,EAAA,EAAD,CAASP,UAAWC,KAAO0C,UAC3B,kBAACV,GAAA,EAAD,CAAWD,UAAU,UAArB,gCACA,kBAACE,GAAA,EAAD,CAAYC,MAAO3G,EAAM4G,SAtDP,SAACC,GACzBX,EAAQW,EAAMC,OAAOH,SAsDb,kBAACI,GAAA,EAAD,CACEC,QAAS,kBAACC,GAAA,EAAD,CAAOtB,MAAM,YACtBgB,MAAM,SACNO,MAAM,yDAER,kBAACH,GAAA,EAAD,CACEC,QAAS,kBAACC,GAAA,EAAD,CAAOtB,MAAM,YACtBgB,MAAM,SACNO,MACE,kBAACE,GAAA,EAAD,CACEC,GAAG,kBACHH,MAAM,qBACNI,aAAuB,WAATtH,EAAoBmG,EAAU,GAC5CoB,SAAmB,WAATvH,EACVwH,OAAO,QACPnD,QAAQ,WACRgC,WAAYA,EACZO,SApEa,SAACC,GAC5BT,EAAWS,EAAMC,OAAOH,OACG,KAAvBE,EAAMC,OAAOH,OAAcL,EAAc,YAyE3C,kBAACb,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAQnC,QAASxB,EAAMmD,MAAOb,QAAQ,WAAWsB,MAAM,aAAvD,gBAGA,kBAACD,GAAA,EAAD,CAAQnC,QApHA,WACC,WAATvD,GAAiC,KAAZmG,GAIvB3G,aAAaG,QACX,UACAC,KAAKC,UAAU,CACbC,QAASA,EACTC,QAASA,EACTC,KAAM,CACJC,MAAOD,EACPE,IACW,WAATF,EAC0B,MAAtBmG,EAAQjI,OAAO,GACbiI,EAAU,IACVA,EACF,2CAIZpE,EAAMmD,QACNW,OAAOnH,SAASoH,UApBhBQ,EAAc,sCAkHYjC,QAAQ,WAAWsB,MAAM,WAAjD,mBC3CO8B,GA/FA,SAAC1F,GAAW,IAAD,EACoBI,oBAAS,GAD7B,mBACjBuF,EADiB,KACDC,EADC,OAEQxF,oBAAS,GAFjB,mBAEjByF,EAFiB,KAEPC,EAFO,KAGpB5F,EAAUC,cAsBR4F,EAAa,WACjB7F,EAAQP,KAAK,MAGf,OACE,kBAACqG,EAAA,EAAD,CAAQvD,UAAWC,IAAOuD,OAAQC,SAAS,UACzC,kBAACC,EAAA,EAAD,CAAS1D,UAAWC,IAAO0D,SACzB,kBAACC,EAAA,EAAD,CACEC,KAAK,QACL1C,MAAM,UACN2C,aAAW,OACX/E,QAASxB,EAAMwG,eAEf,kBAACC,EAAA,EAAD,QAEAzE,YACA,kBAAC,IAAM0E,SAAP,KACE,yBACEjE,UAAWC,IAAOiE,KAClBC,IAAKD,KACLE,IAAI,OACJrF,QAASuE,IAEX,kBAACe,EAAA,EAAD,CACErE,UAAWC,IAAOqE,KAClBzE,QAAQ,KACRd,QAASuE,GAHX,YASJ,yBAAKtD,UAAWC,IAAOsE,OACrB,kBAACX,EAAA,EAAD,CACE5D,UAAWC,IAAOuE,UAClBX,KAAK,MACL1C,MAAM,UACN2C,aAAW,SACX/E,QA1CY,WACpBsC,OAAO1B,KAAK,+CA2CJ,kBAAC8E,EAAA,EAAD,OAEF,kBAACb,EAAA,EAAD,CACE5D,UAAWC,IAAOuE,UAClBX,KAAK,MACL9E,QAjES,WACjBoE,GAAkB,IAiEVhC,MAAM,UACN2C,aAAW,UAEX,kBAACY,EAAA,EAAD,OAEF,kBAACd,EAAA,EAAD,CACE5D,UAAWC,IAAOuE,UAClBzF,QAjEU,WAClBsE,GAAY,IAiEJQ,KAAK,MACL1C,MAAM,UACN2C,aAAW,QAEX,kBAACa,EAAA,EAAD,OAEDzB,GACC,kBAAC,GAAD,CAAYvD,KAAMuD,EAAgBxC,MA7EzB,WACjByC,GAAkB,MA8EXC,GAAY,kBAAC,GAAD,CAAazD,KAAMyD,EAAU1C,MAvEhC,WAChB2C,GAAY,U,8LCzBVuB,GAAuB,yCAAG,WAAO/B,GAAP,gBAAAgC,EAAA,sEACPlJ,IACpBC,IADoB,0EACmDpB,SAASqI,EAAK,KADjE,YACyEA,EADzE,UAEpBiC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAR,6BAAkCpC,EAAlC,SAHY,cACxBqC,EADwB,yBAKvBA,EAAWA,EAASnJ,KAAO,MALJ,2CAAH,sDAQvBoJ,GAAsB,SAACpJ,GAC3B,IR0KmCL,EAAK0J,EQ1KpCC,EAAkB,GAKtB,OAJAA,EAAgBf,KAAOvI,EAAOA,EAAKuI,KAAO,KAC1Ce,EAAgBC,OAAS,KACzBD,EAAgBE,MAAQxJ,GAAOA,EAAKwJ,ORuKD7J,EQvK8BK,EAAKwJ,MRuK9BH,EQvKqC,IRwKtE1J,EAAI8J,QAAQ,yBAAZ,WAA0CJ,EAA1C,OQxKkF,GACzFC,EAAgBI,MAAQ1J,GAAQA,EAAK2J,OAAS3J,EAAK2J,OAAOD,MAAa,EAChEJ,GAGIM,GAAyB,yCAAG,WAAO9C,GAAP,UAAAgC,EAAA,sEAC1BD,GAAwB/B,GADE,mFAAH,sDAIzB+C,GAA0B,yCAAG,WAAO/C,GAAP,kBAAAgC,EAAA,6DACpCgB,EAAU,KAD0B,SAElCjB,GAAwB/B,GAAIhH,MAAK,SAACE,GAAD,OAAW8J,EAAU9J,KAFpB,cAGlC+J,EAAYX,GAAoBU,GAHE,kBAIjCC,GAJiC,2CAAH,sDCvBjCC,GAAmB,yCAAG,WAAOlD,EAAIuC,EAAMzD,GAAjB,gBAAAkD,EAAA,sEACHlJ,IACpBC,IADoB,UACb+F,EADa,sCACwBkB,EADxB,0BAC4CuC,IAChEN,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAHJ,cACpBG,EADoB,yBAKI,QAAvBA,EAASnJ,KAAKiK,KAAiBd,EAASnJ,KAAO,MAL5B,2CAAH,0DAQnBoJ,GAAsB,SAACpJ,GAC3B,IAAIsJ,EAAkB,GAKtB,OAJAA,EAAgBf,KAAOvI,EAAOA,EAAKuI,KAAO,KAC1Ce,EAAgBC,OAASvJ,GAA4B,KAApBA,EAAI,QAAqBA,EAAI,QAAsB,KACpFsJ,EAAgBE,MAAQxJ,GAAQA,EAAKkK,OAASlK,EAAKkK,OAAOC,MAAc,GACxEb,EAAgBI,MAAQ1J,GAAQA,EAAK2J,OAAS3J,EAAK2J,OAAOD,MAAa,EAChEJ,GAGIc,GAAqB,yCAAG,WAAOtD,EAAIlB,GAAX,UAAAkD,EAAA,sEACtBkB,GAAoBlD,EAAI,QAASlB,GADX,mFAAH,wDAIrByE,GAAsB,yCAAG,WAAOvD,EAAIlB,GAAX,kBAAAkD,EAAA,6DAChCgB,EAAU,KADsB,SAE9BE,GAAoBlD,EAAI,QAASlB,GAAS9F,MAAK,SAACE,GAAD,OAAW8J,EAAU9J,KAFtC,cAG9B+J,EAAYX,GAAoBU,GAHF,kBAI7BC,GAJ6B,2CAAH,wDCrB7BO,GAAiB,yCAAG,WAAOxD,GAAP,kBAAAgC,EAAA,6DAClByB,EAAe,CAAEC,QAAS,GAAI9I,QAAS,IADrB,SAED9B,IACpBC,IADoB,wCACiBiH,IACrCiC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAJN,cAElBG,EAFkB,yBAMjBA,EAASnJ,OAASuK,EAAepB,EAASnJ,KAAKwK,QAAU,MANxC,2CAAH,sDASjBpB,GAAsB,SAACpJ,GAC3B,IAAIsJ,EAAkB,GAStB,OARAA,EAAgBf,KAAOvI,EAAOA,EAAKuI,KAAO,KAC1Ce,EAAgBC,OAASvJ,GACD,KAApBA,EAAI,QACFA,EAAI,QAEN,KACJsJ,EAAgBE,MAAQxJ,GAAQA,EAAKkK,OAASlK,EAAKkK,OAAOC,MAAc,GACxEb,EAAgBI,MAAQ1J,GAAQA,EAAK2J,OAAS3J,EAAK2J,OAAOD,MAAa,EAChEJ,GAGImB,GAAmB,yCAAG,WAAO3D,GAAP,UAAAgC,EAAA,sEACpBwB,GAAkBxD,GADE,mFAAH,sDAInB4D,GAAoB,yCAAG,WAAO5D,GAAP,kBAAAgC,EAAA,6DAC9BgB,EAAU,KADoB,SAE5BQ,GAAkBxD,GAAIhH,MAAK,SAACE,GAAD,OAAW8J,EAAU9J,KAFpB,cAG5B+J,EAAYX,GAAoBU,GAHJ,kBAI3BC,GAJ2B,2CAAH,sDCxBpBY,GAAa,yCAAG,WAAO7D,EAAIlB,GAAX,kBAAAkD,EAAA,sEACVsB,GAAsBtD,EAAIlB,GADhB,cACvB5F,EADuB,gBAEF4J,GAA0B9C,GAFxB,cAErB8D,EAFqB,OAG3B5K,EAAK6K,WAAaD,EAAaA,EAAWE,KAAO,GACjD9K,EAAKC,KAAO2K,EAAaA,EAAW3K,KAAO,GAC3CD,EAAK+K,MAAQ/K,EAAKkK,OAASlK,EAAKkK,OAAOC,MAAQ,GALpB,kBAMpBnK,GANoB,4CAAH,wDASbgL,GAAkB,yCAAG,WAAOlE,GAAP,kBAAAgC,EAAA,sEACf2B,GAAoB3D,GADL,cAC5B9G,EAD4B,gBAEP4J,GAA0B9C,GAFnB,cAE1B8D,EAF0B,OAGhC5K,EAAK6K,WAAaD,EAAaA,EAAWE,KAAO,GACjD9K,EAAKC,KAAO2K,EAAaA,EAAW3K,KAAO,GAC3CD,EAAK+K,MAAQ/K,EAAKkK,OAASlK,EAAKkK,OAAOC,MAAQ,GALf,kBAMzBnK,GANyB,4CAAH,sDCXViL,GACnB,aAAe,IAAD,gCAMdC,oBAAsB,SAACpE,GACrB,OAAQ,EAAKvH,SACX,IAAK,UACH,OAAO4L,GAA+BrE,GACxC,IAAK,cACH,OAAOqE,GAA2BrE,EAAI,EAAKlB,SAC7C,IAAK,WACH,OAAOuF,GAAyBrE,GAClC,QACE,OAAO,OAfC,KAmBdsE,mBAAqB,SAACtE,GACpB,OAAQ,EAAKtH,SACX,IAAK,UACH,OAAO2L,GAAkBrE,EAAI,EAAKlB,SACpC,IAAK,WACH,OAAOuF,GAAuBrE,GAChC,QACE,OAAO,OAzBXuE,KAAK9L,QAAUF,KAAK6C,MAAMjD,aAAaC,QAAQ,YAAYK,QAC3D8L,KAAK7L,QAAUH,KAAK6C,MAAMjD,aAAaC,QAAQ,YAAYM,QAC3D6L,KAAKzF,QAAUvG,KAAK6C,MAAMjD,aAAaC,QAAQ,YAAYO,KAAKE,K,wCC4LrD2L,GAvKO,SAAC9J,GAAW,IAAD,EACGI,mBAAS,MADZ,mBACxB2J,EADwB,KACbC,EADa,OAEC5J,mBAAS,MAFV,mBAExB6J,EAFwB,KAEdC,EAFc,OAGC9J,oBAAS,GAHV,mBAGxB+J,EAHwB,KAGdC,EAHc,OAILhK,oBAAS,GAJJ,mBAIxBiK,EAJwB,KAIjBC,EAJiB,KAKzBpK,EAAUC,cACViC,EAAOmI,QAAQN,GACfO,EAAM,IAAIf,GACV7K,EAAWf,KAAK6C,MAAMjD,aAAaC,QAAQ,iBAC3C+M,EAAYzK,EAAM0K,MAAMzL,MAAMC,MAAK,SAACC,GAAD,MAAkB,YAAXA,EAAEC,QAAoBkG,GAEtEqF,qBAAU,WACHZ,GACHS,EAAId,oBAAoBe,GAAWnM,MAAK,SAACE,GACvCwL,EAAaxL,QAEhB,CAACgM,EAAKT,EAAWU,IAEpBE,qBAAU,WACQ9M,KAAK6C,MAAMjD,aAAaC,QAAQ,aACpCgC,SAAS+K,IAAYH,GAAS,KACzC,CAACG,IAEJ,IAAMG,EAAQ5K,EAAM0K,MAAMG,eAAe,WACrC7K,EAAM0K,MAAMG,eAAe,WAC3Bd,EACAA,EAAUhC,OACRgC,EAAUhC,OACVgC,EAAUhD,KACZ/G,EAAM0K,MAAME,MAEVE,EAAiBf,EAAoC,IAApBA,EAAU7B,MAAc,IAAM6B,EAAU7B,MAA5C,EAE/B6C,EAAW/K,EAAM0K,MAAMzL,MACxBkC,KAAI,SAAC/B,GACJ,OACE,kBAAC4L,GAAA,EAAD,CACEtO,IAAK0C,EAAKA,KACVoC,QAAS,kBAAMyJ,EAAY7L,EAAKA,KAAMA,EAAKkG,MAE5B,YAAdlG,EAAKA,KACJ,kBAAC8L,GAAA,EAAD,CAAMzI,UAAWC,KAAOyI,gBAExB,kBAACC,GAAA,EAAD,CAAkB3I,UAAWC,KAAOyI,gBAErCvM,EAASQ,EAAKA,MAAMwL,UAI1BS,MAAK,SAAC/D,EAAG/H,GAAJ,MAAqB,YAAV+H,EAAE5K,IAAoB,EAAI,KAE7CqO,EAASO,QACP,kBAACN,GAAA,EAAD,CACEtO,IAAI,WACJ8E,QAAS,kBAAM+J,EAAevL,EAAM0K,MAAMc,gBAE1C,kBAAC,KAAD,CAAM/I,UAAWC,KAAOyI,gBAJ1B,6BAQFJ,EAASpL,KACP,kBAACqL,GAAA,EAAD,CACEtO,IAAI,OACJ8E,QAAS,kBACP+J,EAAe3M,EAAS6M,KAAKC,YAAYzD,QAAQ,SAAU2C,MAG7D,kBAACe,GAAA,EAAD,CAAQlJ,UAAWC,KAAOyI,gBAN5B,6BAWF,IAAMI,EAAiB,SAACpN,GACtB2F,OAAO1B,KAAKjE,IAGR8M,EAAc,SAAC7L,EAAMkG,GACzBxB,OAAO1B,KAAKxD,EAASQ,GAAMsM,YAAYzD,QAAQ,SAAU3C,KAuBrDsG,EAAiB,WACrB1L,EAAQP,KAAK,YAAc8K,IAG7B,OACE,kBAAC,IAAM/D,SAAP,KACE,kBAACmF,GAAA,EAAD,CAAMvJ,QAAQ,WAAWG,UAAWC,KAAOoJ,MACzC,kBAACC,GAAA,EAAD,CACEtJ,UAAWC,KAAOsJ,WAClBvH,UAAU,MACVuD,MACE+B,GACwB,KAApBA,EAAU/B,MACR+B,EAAU/B,MAEZiE,KAENzK,QAASoK,IAEX,kBAAC9E,EAAA,EAAD,CAAYrE,UAAWC,KAAOyF,OAAQ7F,QAAQ,WAAWwI,GACzD,kBAACoB,GAAA,EAAD,CAAazJ,UAAWC,KAAOyJ,SAC7B,kBAACrF,EAAA,EAAD,CACErE,UAAWC,KAAOkI,MAClBtI,QAAQ,UACRd,QAASoK,GAERhB,GAEH,kBAACwB,GAAA,EAAD,CAAa3J,UAAWC,KAAO2J,SAC7B,kBAAChG,EAAA,EAAD,CAAY5D,UAAWC,KAAO4J,OAAQzE,KAAK,QAAQrG,QAxCjD,WACV,IAAI+K,EAAU1O,KAAK6C,MAAMjD,aAAaC,QAAQ,aAC1C6O,EAAQ7M,SAAS+K,GACnB8B,EAAQC,OAAOD,EAAQE,QAAQhC,GAAY,GAE3C8B,EAAQ5M,KAAK8K,GAEfhN,aAAaG,QAAQ,WAAYC,KAAKC,UAAUyO,IAChDjC,GAAUD,KAiCCA,EAAQ,kBAACqC,GAAA,EAAD,CAAUjK,UAAWC,KAAOiK,UAAc,kBAACC,GAAA,EAAD,CAAgBnK,UAAWC,KAAOiK,WAEvF,kBAACtG,EAAA,EAAD,CACE5D,UAAWC,KAAOmK,QAClBhF,KAAK,QACLrG,QAvDY,SAACsD,GACvBoF,EAAYpF,EAAMgI,eAClB1C,GAAaD,KAuDH,kBAAC4C,GAAA,EAAD,UAKR,kBAAC,KAAD,CACEC,UAAW,EACXvK,UAAWC,KAAOuK,UAClB3H,GAAG,cACH4H,aAAW,EACXjD,SAAUA,EACV7H,KAAMA,EACNG,QAhEmB,WACvB2H,EAAY,OAgERiD,oBAAqBC,KACrBC,mBAAoB,KACpBC,aAAc,CACZC,SAAU,SACVC,WAAY,SAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,UAGbzC,K,uKC9IM2C,GAhCS,SAAC1N,GACvB,IAAM2N,EAAc,CAClBC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,MAaF,OACE,yBAAKzL,UAAWC,KAAOyL,QACrB,yBAAK1L,UAAWC,KAAO0L,KAAMxH,IAAK+G,EAAY3N,EAAMqO,SAAUxH,IAAI,iBAClE,kBAACC,EAAA,EAAD,CAAYrE,UAAWC,KAAO2L,QAAS/L,QAAQ,MAbjC,CAChB,qBACA,qBACA,qBACA,qBACA,qBACA,qBACA,sBAMkEtC,EAAMqO,UACrErO,EAAM2C,KAAKxB,KAAI,SAACmN,GAAD,OACd,kBAAC,GAAD,CAAe5R,IAAKsD,EAAM2C,KAAK8J,QAAQ6B,GAAI5D,MAAO4D,SCK3CC,GAvCS,SAACvO,GAgBvB,IAfA,IAAMwO,EAAY3Q,KAAK6C,MAAMjD,aAAaC,QAAQ,aAE5C+Q,EAAQ5S,GACZ,IAAIkB,MAAO0C,eACX,IAAI1C,MAAO2R,WAAa,GAGpBC,EAAgBH,EAAU1P,QAC9B,SAACC,GAAD,OACE,IAAIhC,KAAKgC,EAAKS,QAAU,IAAIzC,KAAK0R,EAAM,KACvC,IAAI1R,KAAKgC,EAAKS,OAAS,IAAIzC,KAAK0R,EAAM,OAGtC9L,EAAO,GAdsB,WAgBxBiM,GACPjM,EAAKhD,KACHgP,EAAc7P,QAAO,SAACK,GACpB,OAAO,IAAIpC,KAAKoC,EAAEK,OAAOqP,WAAaD,OAHnCA,EAAM,EAAGA,EAAM,EAAGA,IAAQ,EAA1BA,GAQT,OACE,yBAAKnM,UAAWC,KAAOoM,iBACpBnM,EAAKxB,KAAI,SAACmN,GACT,OACE,kBAAC,GAAD,CACE5R,IAAKiG,EAAK8J,QAAQ6B,GAClB3L,KAAM2L,EACND,QAAS1L,EAAK8J,QAAQ6B,U,uECiLnBS,GAtLGxO,IAAMyO,MAAK,SAAChP,GAAW,IAAD,EACJI,mBAAS,MADL,mBAC/B2J,EAD+B,KACpBC,EADoB,OAEN5J,oBAAS,GAFH,mBAE/B+J,EAF+B,KAErBC,EAFqB,OAGNhK,mBAAS,MAHH,mBAG/B6J,EAH+B,KAGrBC,EAHqB,OAIZ9J,oBAAS,GAJG,mBAI/BiK,EAJ+B,KAIxBC,EAJwB,KAKhCpK,EAAUC,cACViC,EAAOmI,QAAQN,GACfrL,EAAWf,KAAK6C,MAAMjD,aAAaC,QAAQ,iBAC3C8M,EAAM,IAAIf,GAEhBkB,qBAAU,WACHZ,GACHS,EAAId,oBAAoB1J,EAAMyK,WAAWnM,MAAK,SAACE,GAC7CwL,EAAaxL,QAGhB,CAACgM,EAAKT,EAAW/J,EAAMyK,YAE1BE,qBAAU,WACQ9M,KAAK6C,MAAMjD,aAAaC,QAAQ,aACpCgC,SAASM,EAAMyK,YAAYH,GAAS,KAC/C,CAACtK,EAAMyK,YAEV,IAAMG,EAAQ5K,EAAM0K,MAAMG,eAAe,WACrC7K,EAAM0K,MAAMG,eAAe,WAC3Bd,EACAA,EAAUhC,OACRgC,EAAUhC,OACVgC,EAAUhD,KACZ/G,EAAM0K,MAAME,MAEVE,EAAiBf,EAAgBA,EAAU7B,MAAd,EAE/B6C,EAAW/K,EAAM0K,MAAMzL,MACxBkC,KAAI,SAAC/B,GACJ,OACE,kBAAC4L,GAAA,EAAD,CACEtO,IAAK0C,EAAKA,KACVqD,UAAWC,KAAOqI,SAClBvJ,QAAS,kBAAMyJ,EAAY7L,EAAKA,KAAMA,EAAKkG,MAE5B,YAAdlG,EAAKA,KACJ,kBAAC8L,GAAA,EAAD,CAAMzI,UAAWC,KAAOyI,gBAExB,kBAACC,GAAA,EAAD,CAAkB3I,UAAWC,KAAOyI,gBAErCvM,EAASQ,EAAKA,MAAMwL,UAI1BS,MAAK,SAAC/D,EAAG/H,GAAJ,MAAqB,YAAV+H,EAAE5K,IAAoB,EAAI,KAE7CqO,EAASO,QACP,kBAACN,GAAA,EAAD,CACEtO,IAAI,WACJ+F,UAAWC,KAAOqI,SAClBvJ,QAAS,kBAAM+J,EAAevL,EAAM0K,MAAMc,gBAE1C,kBAAC,KAAD,CAAM/I,UAAWC,KAAOyI,gBAL1B,6BASFJ,EAASpL,KACP,kBAACqL,GAAA,EAAD,CACEtO,IAAI,OACJ+F,UAAWC,KAAOqI,SAClBvJ,QAAS,kBACP+J,EAAe3M,EAAS6M,KAAKC,YAAYzD,QAAQ,SAAU2C,MAG7D,kBAACe,GAAA,EAAD,CAAQlJ,UAAWC,KAAOyI,gBAP5B,6BAYF,IAAMI,EAAiB,SAACpN,GACtB2F,OAAO1B,KAAKjE,IAGR8M,EAAc,SAAC7L,EAAMkG,GACzBxB,OAAO1B,KAAKxD,EAASQ,GAAMsM,YAAYzD,QAAQ,SAAU3C,KAuBrDsG,EAAiB,WACrB1L,EAAQP,KAAK,YAAcK,EAAMyK,YAGnC,OACE,kBAAC,IAAM/D,SAAP,KACE,kBAACmF,GAAA,EAAD,CAAMpJ,UAAWC,KAAOoJ,MACtB,kBAACC,GAAA,EAAD,CACEtJ,UAAWC,KAAOsJ,WAClBhE,MACE+B,EACIA,EAAU/B,MACR+B,EAAU/B,MACViE,KACFgD,KAENrE,MAAOA,EACPpJ,QAASoK,IAEX,kBAACM,GAAA,EAAD,CAAazJ,UAAWC,KAAOwM,aAC7B,kBAACpI,EAAA,EAAD,CACExE,QAASN,WAAW,UAAY,YAChCS,UAAWC,KAAOkI,MAClBpJ,QAASoK,GAERhB,IAGL,kBAACsB,GAAA,EAAD,CAAazJ,UAAWC,KAAOyF,QAC7B,kBAACgH,GAAA,EAAD,CACEpI,KAAK,iBACLc,KAAK,QACLtC,aAAc,EACdX,MAAOkG,EAAgB,EACvBsE,UAAW,GACX5J,UAAUsF,EACVuE,UAAQ,IAEV,kBAACC,GAAA,EAAD,CAAK7M,UAAWC,KAAO6M,WACpBzE,GAAgC,KAGrC,kBAAC9H,EAAA,EAAD,MACA,kBAACoJ,GAAA,EAAD,CAAa3J,UAAWC,KAAO8M,aAC7B,kBAACnJ,EAAA,EAAD,CAAY5D,UAAWC,KAAO4J,OAAQzE,KAAK,QAAQrG,QAvD/C,WACV,IAAI+K,EAAU1O,KAAK6C,MAAMjD,aAAaC,QAAQ,aAC1C6O,EAAQ7M,SAASM,EAAMyK,WACzB8B,EAAQC,OAAOD,EAAQE,QAAQzM,EAAMyK,WAAY,GAEjD8B,EAAQ5M,KAAKK,EAAMyK,WAErBhN,aAAaG,QAAQ,WAAYC,KAAKC,UAAUyO,IAChDjC,GAAUD,KAgDDA,EAAQ,kBAACqC,GAAA,EAAD,CAAUjK,UAAWC,KAAOiK,UAAc,kBAACC,GAAA,EAAD,CAAgBnK,UAAWC,KAAOiK,WAEvF,kBAACtG,EAAA,EAAD,CACE5D,UAAWC,KAAOmK,QAClBhF,KAAK,QACLrG,QAtEc,SAACsD,GACvBoF,EAAYpF,EAAMgI,eAClB1C,GAAaD,KAsEL,kBAACsF,GAAA,EAAD,SAIN,kBAAC,KAAD,CACEhN,UAAWC,KAAOuK,UAClB3H,GAAG,cACH4H,aAAW,EACXjD,SAAUA,EACV7H,KAAMA,EACNG,QA7EmB,WACvB2H,EAAY,OA6ERiD,oBAAqBC,KACrBE,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdC,gBAAiB,CACfF,SAAU,SACVC,WAAY,UAGbzC,OCjMM2E,GAXGnP,IAAMyO,MAAK,SAAChP,GAC5B,OACE,kBAAC,IAAM0G,SAAP,KACG1G,EAAM2C,KAAKxB,KAAI,SAACpC,GACf,IAAMrC,EAAMqC,EAAKE,MAAMC,MAAK,SAACC,GAAD,MAAkB,YAAXA,EAAEC,QAAoBkG,GACzD,OAAO,kBAAC,GAAD,CAAW5I,IAAKA,EAAKgO,MAAO3L,EAAM0L,UAAW/N,W,UC+B7CiT,GAlCW,WACxB,OACE,kBAAC9D,GAAA,EAAD,CAAMpJ,UAAWC,KAAOoJ,MACtB,kBAAC8D,GAAA,EAAD,CACEC,OAAQ,IACRvN,QAAQ,OACRwN,UAAU,OACVrN,UAAWC,KAAOsJ,aAEpB,kBAACE,GAAA,EAAD,CAAazJ,UAAWC,KAAOwM,aAC7B,kBAACU,GAAA,EAAD,CAAUtN,QAAQ,OAAOwN,UAAU,OAAOrN,UAAWC,KAAOkI,SAE9D,kBAACsB,GAAA,EAAD,CAAazJ,UAAWC,KAAOyF,QAC7B,kBAACyH,GAAA,EAAD,CACEtN,QAAQ,OACRwN,UAAU,OACVC,MAAM,MACNtN,UAAWC,KAAOsN,aAGtB,kBAAChN,EAAA,EAAD,MACA,kBAACoJ,GAAA,EAAD,CAAa3J,UAAWC,KAAO8M,aAC7B,kBAACI,GAAA,EAAD,CACEtN,QAAQ,SACRwN,UAAU,OACVD,OAAQ,GACRE,MAAO,GACPtN,UAAWC,KAAOiK,aCbbsD,GAhBW,WAGxB,IAFA,IAAItN,EAAO,GAEFxD,EAAI,EAAGA,EAAI,GAAIA,IACtBwD,EAAKhD,KAAKR,GAGZ,OACE,kBAAC,IAAMuH,SAAP,KACG/D,EAAKxB,KAAI,SAACmN,GAAD,OACR,kBAAC,GAAD,CAAmB5R,IAAK4R,SCuBjB4B,GA7BS,WAAO,IAAD,EACE9P,oBAAS,GADX,mBACrB+P,EADqB,KACZC,EADY,OAEUhQ,mBAAS,IAFnB,mBAErBiQ,EAFqB,KAERC,EAFQ,OAGNC,cAAhBzU,EAHsB,EAGtBA,KAAMC,EAHgB,EAGhBA,MACRmE,EAAUC,cAsBd,OApBKlD,SAASnB,IAAUmB,SAASlB,IAC/BmE,EAAQ+H,QAAQ,UAGlB0C,qBAAU,WAER,IAAM8D,EAAQ5S,EAAeC,EAAMC,GAK7B4S,EAHY9Q,KAAK6C,MAAMjD,aAAaC,QAAQ,aAGlBoB,QAC9B,SAACC,GAAD,OACE,IAAIhC,KAAKgC,EAAKS,QAAU,IAAIzC,KAAK0R,EAAM,KACvC,IAAI1R,KAAKgC,EAAKS,OAAS,IAAIzC,KAAK0R,EAAM,OAE1C6B,EAAe3B,GACfyB,GAAW,KACV,CAACrU,EAAOuU,EAAgBxU,IAEpBqU,EAAU,kBAAC,GAAD,MAAwB,kBAAC,GAAD,CAAWxN,KAAM0N,K,+MC6E7CG,OA9FI,SAACxQ,GAAW,IAAD,EACUI,mBAASsC,KAAO+N,cAD1B,mBACrBC,EADqB,KACRC,EADQ,OAEQvQ,mBAAS,IAFjB,mBAErB4L,EAFqB,KAET4E,EAFS,OAGQxQ,mBAASsC,KAAOsJ,YAHxB,mBAGrB6E,EAHqB,KAGTC,EAHS,KAItBnU,EAAWsD,cACXC,EAAUC,cACV4Q,EAgFR,SAAqBnM,GACnB,IAAMoM,EAAMC,mBAIZ,OAHAtG,qBAAU,WACRqG,EAAIE,QAAUtM,KAEToM,EAAIE,QArFMC,CAAYnR,EAAMlE,MAC7B0O,EAAM,IAAIf,GAEZ2H,EAAY1O,KAAOoJ,KACjBuF,EACJ,IAAItU,KAAKiD,EAAMlE,KAAMmB,SAAS+C,EAAMjE,OAAS,GAAK,IAAIgB,KAClDuU,EACa,WAAjBtR,EAAMuR,OACFC,KACiB,WAAjBxR,EAAMuR,OACNE,KACiB,WAAjBzR,EAAMuR,OACNG,KACAC,KAENhH,qBAAU,WACR,GAAmB,KAAfqB,GAAqB+E,IAAa/Q,EAAMlE,KAAM,CAChD,IAAI8V,ErBuBoB,SAAC9V,EAAMC,GACnC,IAAM0S,EAAQ5S,EAAeoB,SAASnB,GAAOmB,SAASlB,IAEhD8C,EAAQhB,KAAK6C,MAAMjD,aAAaC,QAAQ,aAAaoB,QACzD,SAACC,GAAD,OACE,IAAIhC,KAAKgC,EAAKS,QAAU,IAAIzC,KAAK0R,EAAM,KACvC,IAAI1R,KAAKgC,EAAKS,OAAS,IAAIzC,KAAK0R,EAAM,OAG1C,OAAwB,IAAjB5P,EAAMgT,OACT,EACAhT,EAAMgC,KAAKiR,MAAMjR,KAAKkR,SAAWlT,EAAMgT,SAAS5S,MAAMC,MACpD,SAACC,GAAD,MAAkB,YAAXA,EAAEC,QACTkG,GqBpCa0M,CAAehS,EAAMlE,KAAMkE,EAAMjE,OAC/B,IAAb6V,EACFpH,EAAId,oBAAoBkI,GAAUtT,MAAK,SAACE,GACtCoS,EAAcpS,EAAKwJ,UAElB4I,EAAcqB,SAEpB,CAACzH,EAAKwB,EAAY+E,EAAU/Q,EAAMjE,MAAOiE,EAAMlE,OAG9CkE,EAAMkS,KAAMd,GAAa,IAAM1O,KAAOyP,SACjCnS,EAAMoS,OAAQhB,GAAa,IAAM1O,KAAO2P,WACxCrS,EAAMgH,QAAOoK,GAAa,IAAM1O,KAAO4P,WAE5CjB,IAAeD,GAAa,IAAM1O,KAAO6P,SAoB7C,OACE,kBAAC1G,GAAA,EAAD,CACEpJ,UAAW2O,EACXoB,YArBqB,WACnBnB,IACFV,EAAeD,EAAc,IAAMhO,KAAO+P,cAC1C3B,EAAcD,EAAa,IAAMnO,KAAOgQ,gBAmBxCC,WAfqB,WACvBhC,EAAejO,KAAO+N,cACtBK,EAAcpO,KAAOsJ,aAcnBxK,QATmB,WACjB6P,GAAenR,EAAQP,KAAKhD,EAASE,SAAW,IAAMmD,EAAMjE,SAU9D,kBAACgQ,GAAA,EAAD,CACEtJ,UAAWoO,EACXpM,UAAU,MACVuD,MAAOqJ,EAAgBrF,EAAa4G,OAEtC,yBAAKnQ,UAAWiO,GACd,yBAAKjO,UAAWC,KAAOmQ,YACrB,yBACEpQ,UAAWC,KAAO4O,WAClB1K,IAAK0K,EACLzK,IAAK7G,EAAMuR,SAEb,uBAAG9O,UAAWC,KAAOoQ,kBAClB9S,EAAMlE,KAAO,SAAMmB,SAAS+C,EAAMjE,OAAS,oB,qBClDzCyU,GAtCI,SAACxQ,GAClB,OACE,kBAAC,IAAM0G,SAAP,KACE,kBAAC1D,EAAA,EAAD,MACA,kBAAC+P,GAAA,EAAD,CAAatQ,UAAWC,KAAO6O,QAC7B,kBAAC,GAAD,CACEA,OAAO,SACPyB,UAAU,SACVd,MAAI,EACJpW,KAAMkE,EAAMlE,KACZC,MAAM,OAER,kBAAC,GAAD,CACEwV,OAAO,SACPyB,UAAU,SACVZ,QAAM,EACNtW,KAAMkE,EAAMlE,KACZC,MAAM,OAER,kBAAC,GAAD,CACEwV,OAAO,SACPyB,UAAU,SACVZ,QAAM,EACNtW,KAAMkE,EAAMlE,KACZC,MAAM,OAER,kBAAC,GAAD,CACEwV,OAAO,SACPyB,UAAU,SACVhM,OAAK,EACLlL,KAAMkE,EAAMlE,KACZC,MAAM,U,+BCkBVkX,GAA8B,WAClC,OAAqD,EAA9ChW,UAAU6G,OAAOoP,OAAOnD,MAAQ,KAAO,MAGjCoD,GAnDa,SAACnT,GAAW,IAAD,EACPI,oBAAS,GADF,mBAC9B+P,EAD8B,KACrBC,EADqB,OAEThQ,mBAAS,IAFA,mBAE9BgT,EAF8B,KAEtBC,EAFsB,OAGCjT,mBAAS,GAHV,mBAG9BkT,EAH8B,KAGjBC,EAHiB,OAIKnT,mBAAS,IAJd,mBAI9BoT,EAJ8B,KAIfC,EAJe,OAKdrT,mBAAS6S,MAAzBS,EAL8B,oBAOrC/I,qBAAU,WACRlD,QAAQC,IAAI,SAEZ,IvBqB2B5L,EuBrBrB2S,EvBsBD,EADsB3S,EuBrBEkE,EAAMlE,MvBsBtB,yBAA0BA,EAAO,wBuBlBxC6S,EAFY9Q,KAAK6C,MAAMjD,aAAaC,QAAQ,aAElBoB,QAC9B,SAACC,GAAD,OACE,IAAIhC,KAAKgC,EAAKS,QAAU,IAAIzC,KAAK0R,EAAM,KACvC,IAAI1R,KAAKgC,EAAKS,OAAS,IAAIzC,KAAK0R,EAAM,OAE1C4E,EAAU1E,KACT,CAAC3O,EAAMlE,OAEV6O,qBAAU,WACR,IAAMgJ,EAAmBL,EAAcI,EACjCE,EAAoBD,EAAmBD,EACvCvX,EAAQiX,EAAOjX,MAAMyX,EAAmBD,GAC9CF,EAAiBtX,GACjBiU,GAAW,KACV,CAACsD,EAAcN,EAAQE,IAI1B,OACE,6BACGnD,EAAU,kBAAC,GAAD,MAAwB,kBAAC,GAAD,CAAWxN,KAAM6Q,IACpD,kBAACK,GAAA,EAAD,CACEpR,UAAWC,KAAOoR,WAClBC,MAAOlT,KAAKmT,KAAKZ,EAAOvB,OAAS6B,GACjCO,KAAMX,EACNzO,SAToB,SAACC,EAAOF,GAAR,OAAkB2O,EAAe3O,IAUrDsP,iBAAe,EACfC,gBAAc,MCFtB,SAASC,GAAUC,GACjB,MAAO,CACL/O,GAAG,uBAAD,OAAyB+O,GAC3B,gBAAgB,4BAAhB,OAA6CA,IAIjD,SAASC,GAAStU,GAAQ,IAChBuU,EAAqCvU,EAArCuU,SAAU3P,EAA2B5E,EAA3B4E,MAAOyP,EAAoBrU,EAApBqU,MAAUG,EADZ,aACsBxU,EADtB,8BAGvB,OACE,uCACEyU,KAAK,WACLC,OAAQ9P,IAAUyP,EAClB/O,GAAE,mCAA8B+O,GAChChR,kBAAA,8BAAwCgR,IACpCG,GAEH5P,IAAUyP,GAAS,6BAAME,IAKjBI,OA9DS,SAAC3U,GAAW,IAC5BlE,EAASyU,cAATzU,KACFoE,EAAUC,cAEVlD,SAASnB,IACXoE,EAAQ+H,QAAQ,UALe,MAQP1H,IAAMH,SAAS,GARR,mBAQ1BwE,EAR0B,KAQnBgQ,EARmB,KAcjC,OACE,yBACEnS,UAAWzC,EAAMqC,YAAcK,KAAOmS,QAAUnS,KAAOoS,kBAEvD,kBAACC,GAAA,EAAD,CACEnQ,MAAOA,EACPC,SAVe,SAACC,EAAOkQ,GAC3BJ,EAASI,IAULC,eAAe,UACfC,UAAU,UACV5S,QAAQ,YACRiE,aAAW,2BAEX,kBAAC4O,GAAA,EAAD,eAAKhQ,MAAM,4BAAWiP,GAAU,KAChC,kBAACe,GAAA,EAAD,eAAKhQ,MAAM,4BAAWiP,GAAU,MAElC,kBAACE,GAAD,CAAU1P,MAAOA,EAAOyP,MAAO,GAC7B,kBAACe,GAAD,CAAatZ,KAAMA,KAErB,kBAACwY,GAAD,CAAU1P,MAAOA,EAAOyP,MAAO,GAC7B,kBAAC,GAAD,CAAqBvY,KAAMA,O,6DCuBpBuZ,GAxDF,WACX,OACE,yBAAK5S,UAAWC,KAAO4S,MACrB,yBAAK7S,UAAWC,KAAOiE,KAAMC,IAAK2O,KAAM1O,IAAI,SAC5C,kBAACC,EAAA,EAAD,CAAYrE,UAAWC,KAAOkI,MAAOtI,QAAQ,KAAKkT,MAAM,UAAxD,WAGA,kBAAC1O,EAAA,EAAD,CAAY2O,WAAS,EAACD,MAAM,UAA5B,+GAEE,kBAACE,GAAA,EAAD,CAAMC,KAAK,gDAAX,gBAFF,SAKG,kBAACD,GAAA,EAAD,CAAMC,KAAK,kCAAX,eALH,8CAQA,kBAAC7O,EAAA,EAAD,CAAY2O,WAAS,EAACD,MAAM,UAC1B,kBAACI,GAAA,EAAD,CAAqBnT,UAAWC,KAAOmT,YADzC,oGAIA,kBAAC/O,EAAA,EAAD,CAAY2O,WAAS,EAACD,MAAM,UAA5B,mKAGA,yBAAK/S,UAAWC,KAAOoT,QACrB,kBAACJ,GAAA,EAAD,CAAMC,KAAK,iEACT,yBACElT,UAAWC,KAAOqT,MAClBlP,IAAI,SACJD,IAAI,oFAGR,kBAAC8O,GAAA,EAAD,CAAMC,KAAK,6CACT,yBACElT,UAAWC,KAAOqT,MAClBlP,IAAI,uCACJD,IAAI,0HAGR,kBAAC8O,GAAA,EAAD,CAAMC,KAAK,wDACT,yBACElT,UAAWC,KAAOqT,MAClBlP,IAAI,eACJD,IAAI,kkBAGR,kBAAC8O,GAAA,EAAD,CAAMC,KAAK,qDACT,yBACE9O,IAAI,uCACJD,IAAI,uIAIV,yBAAKnE,UAAWC,KAAOsT,KAAMpP,IAAKqP,KAAMpP,IAAI,WCxBnCqP,GA7BY,WAAO,IAAD,EACD9V,oBAAS,GADR,mBACxB+P,EADwB,KACfC,EADe,OAELhQ,mBAAS,IAFJ,mBAExBvB,EAFwB,KAEjBsX,EAFiB,KAgB/B,OAZAxL,qBAAU,WACR,IAAMnO,EAAWqB,KAAK6C,MAAMjD,aAAaC,QAAQ,aAC3C0Y,EAAgBvY,KAAK6C,MAAMjD,aAAaC,QAAQ,aAAaoB,QACjE,SAACC,GACC,OAAOvC,EAASkD,SACdX,EAAKE,MAAMC,MAAK,SAACC,GAAD,MAAkB,YAAXA,EAAEC,QAAoBkG,OAInD6Q,EAASC,GACThG,GAAW,KACV,IACID,EACL,kBAAC,GAAD,MAEA,kBAAC,IAAMzJ,SAAP,KACE,kBAACI,EAAA,EAAD,CAAYxE,QAAQ,QAAQkT,MAAM,UAAlC,6EAGA,kBAACxS,EAAA,EAAD,MACA,kBAAC,GAAD,CAAWL,KAAM9D,M,mDCmBRwX,GAzCD,WACZ,IAAInW,EAAUC,cAUd,OACE,yBAAKsC,UAAWC,KAAO4T,OACrB,yBAAK7T,UAAWC,KAAOsT,KAAMpP,IAAKqP,KAAMpP,IAAI,SAC5C,kBAACC,EAAA,EAAD,CAAYxE,QAAQ,KAAKmT,WAAS,EAACD,MAAM,UAAzC,gEAGA,yBAAK/S,UAAWC,KAAO6T,SACrB,kBAAC5S,GAAA,EAAD,CACElB,UAAWC,KAAOnB,OAClBe,QAAQ,WACRsB,MAAM,UACN4S,UAAW,kBAACC,GAAA,EAAD,MACXjV,QAhBO,WACbtB,EAAQwW,WAUJ,kCASA,kBAAC/S,GAAA,EAAD,CACElB,UAAWC,KAAOnB,OAClBe,QAAQ,WACRsB,MAAM,UACN4S,UAAW,kBAAC,KAAD,MACXhV,QA7BO,WACbtB,EAAQP,KAAK,OAuBT,+B,sGC8GOgX,GAjIM,SAAC3W,GAAW,I5BoFOsF,E4BpFR,EACJlF,oBAAS,GADL,mBACvBiK,EADuB,KAChBC,EADgB,KAExB+D,E5ByGC,CAAC,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,qBAAO,sB4BzGjBrO,EAAMqO,Q5B0G7B,G4BzGJzP,EAAWf,KAAK6C,MAAMjD,aAAaC,QAAQ,iBAC3Cc,G5BgFgC8G,E4BhFDtF,EAAMsF,GAAGsR,W5BiFvC/Y,KAAK6C,MAAMjD,aAAaC,QAAQ,aAAaoB,QAClD,SAACC,GAAD,OAAUA,EAAKE,MAAMC,MAAK,SAACC,GAAD,MAAkB,YAAXA,EAAEC,QAAoBkG,KAAOA,M4BjF5DuR,EAAQ,KAEZlM,qBAAU,WACQ9M,KAAK6C,MAAMjD,aAAaC,QAAQ,aACpCgC,SAASM,EAAMsF,GAAGsR,aAAatM,GAAS,KACnD,CAACtK,EAAMsF,KAEU,IAAhB9G,EAAKqT,UACPgF,EAAQrY,EAAK,GAAGS,MACbkC,KAAI,SAAC/B,GACJ,OACE,kBAACsW,GAAA,EAAD,CACEjT,UAAWC,KAAOX,KAClB6B,MAAM,UACNlH,IAAK0C,EAAKA,KACVoC,QAAS,kBAAMyJ,EAAY7L,EAAKA,KAAMA,EAAKkG,MAE1C1G,EAASQ,EAAKA,MAAMwL,UAI1BS,MAAK,SAAC/D,EAAG/H,GAAJ,MAAqB,YAAV+H,EAAE5K,IAAoB,EAAI,MAEvC4O,QACJ,kBAACoK,GAAA,EAAD,CACEjT,UAAWC,KAAOX,KAClBrF,IAAI,WACJkH,MAAM,UACNpC,QAAS,kBAAM+J,EAAe/M,EAAK,GAAGgN,gBAJxC,6BAUFqL,EAAMlX,KACJ,kBAAC+V,GAAA,EAAD,CACEjT,UAAWC,KAAOX,KAClB6B,MAAM,UACNlH,IAAI,OACJ8E,QAAS,kBACP+J,EACE3M,EAAS6M,KAAKC,YAAYzD,QAAQ,SAAUjI,EAAM8W,YANxD,8BAeJ,IAAMvL,EAAiB,SAACpN,GACtB2F,OAAO1B,KAAKjE,IAGR8M,EAAc,SAAC7L,EAAMkG,GACzBxB,OAAO1B,KAAKxD,EAASQ,GAAMsM,YAAYzD,QAAQ,SAAU3C,KAc3D,OACE,yBAAK7C,UAAWC,KAAOqU,cACrB,yBAAKtU,UAAWC,KAAOsJ,WAAYpF,IAAK5G,EAAMgI,MAAOnB,IAAI,eACzD,yBAAKpE,UAAWC,KAAOsU,WACrB,yBAAKvU,UAAWC,KAAOuU,WACrB,kBAACnQ,EAAA,EAAD,CAAYxE,QAAQ,KAAKG,UAAWC,KAAOoU,SACtB,KAAlB9W,EAAM8W,QAAiB9W,EAAM8W,QAAU9W,EAAMkX,QAC9C,kBAAC7Q,EAAA,EAAD,CAAY5D,UAAWC,KAAOiK,QAAS9E,KAAK,QAAQrG,QAlBlD,WACV,IAAI+K,EAAU1O,KAAK6C,MAAMjD,aAAaC,QAAQ,aAC1C6O,EAAQ7M,SAASM,EAAMsF,GAAGsR,YAC5BrK,EAAQC,OAAOD,EAAQE,QAAQzM,EAAMsF,GAAGsR,YAAa,GAErDrK,EAAQ5M,KAAKK,EAAMsF,GAAGsR,YAExBnZ,aAAaG,QAAQ,WAAYC,KAAKC,UAAUyO,IAChDjC,GAAUD,KAWCA,EAAQ,kBAACqC,GAAA,EAAD,MAAe,kBAACE,GAAA,EAAD,QAG5B,kBAAC9F,EAAA,EAAD,CAAYxE,QAAQ,YAAYG,UAAWC,KAAOwU,SAC/ClX,EAAMkX,SAET,kBAACpQ,EAAA,EAAD,CAAYrE,UAAWC,KAAOoI,cAAexI,QAAQ,aAArD,4BAEE,kBAAC6M,GAAA,EAAD,CACE1M,UAAWC,KAAOyF,OAClBpB,KAAK,iBACLc,KAAK,QACL/G,IAAK,GACLyE,aAAc,EACdX,MAAO5E,EAAMmI,OACbiH,UAAW,GACX5J,UAAUxF,EAAMmI,OAChBkH,UAAQ,IAETrP,EAAMmI,QAET,kBAACrB,EAAA,EAAD,CAAYrE,UAAWC,KAAOyU,KAAM7U,QAAQ,aAC1C,kBAAC8U,GAAA,EAAD,CAAYC,SAAS,QAAQ5U,UAAWC,KAAO0L,OAC9CpO,EAAMsX,QACN,MACD,kBAACC,GAAA,EAAD,CAAeF,SAAS,QAAQ5U,UAAWC,KAAO0L,OACjDC,GAEH,kBAACvH,EAAA,EAAD,CAAYrE,UAAWC,KAAOmU,MAAOvU,QAAQ,aAC1CuU,EAAM1V,KAAI,SAACY,GACV,MAAO,CACLA,EACA8U,EAAMpK,QAAQ1K,KAAU8U,EAAMhF,OAAS,EAAI,GAAK,YAKxD,yBAAKpP,UAAWC,KAAO8U,aACrB,kBAAC1Q,EAAA,EAAD,CAAYxE,QAAQ,YAAYG,UAAWC,KAAO+U,SAC/CzX,EAAMyX,a,wCC1GJC,GA1BU,SAAC1X,GACxB,IAAM2X,EAAW3X,EAAMsJ,KAAKsO,MAAM,mCAE5BC,EACJF,GAAYA,EAASxW,KAAI,SAACC,GAAD,OAAOA,EAAE6G,QAAQ,gBAAiB,OAE7D,OACE,yBAAKxF,UAAWC,KAAOoV,kBACrB,kBAAChR,EAAA,EAAD,CAAYxE,QAAQ,QAAQG,UAAWC,KAAOqV,QAA9C,4BACA,kBAAC/U,EAAA,EAAD,CAASP,UAAWC,KAAO0C,UAC1BuS,GACCE,EAAW1W,KAAI,SAACC,GACd,OACE,kBAAC0F,EAAA,EAAD,CACErE,UAAWC,KAAOmV,WAClBnb,IAAKmE,KAAKkR,SACVzP,QAAQ,aAEPlB,Q,2DClBT4W,GAAcC,cAAW,SAACC,GAAD,MAAY,CACzCC,QAAS,CACPC,gBAAiB,UACjBxU,MAAO,sBACPR,SAAU,IACViU,SAAUa,EAAMG,WAAWC,QAAQ,IACnCC,OAAQ,wBANQN,CAQhBO,MA0CWC,GAxCO,SAACzY,GACrB,OAEE,kBAACgY,GAAD,CACEpN,MACE,kBAAC,IAAMlE,SAAP,KACE,2BACG,SAAM1G,EAAM0Y,IAAIrN,KAAO,SAAK,IACH,KAAzBrL,EAAM0Y,IAAN,QACG,KAAO1Y,EAAM0Y,IAAN,QACY,KAAnB1Y,EAAM0Y,IAAI3R,KACV,SAAM/G,EAAM0Y,IAAI3R,KAChB,IAEN,8BACG,iCAAU/G,EAAM0Y,IAAIC,QACC,QAArB3Y,EAAM0Y,IAAIE,OAAmB,GAAK,0BAKzC,kBAACjV,GAAA,EAAD,CACEkV,YAAA,EACAC,WAAU,GAAK9Y,EAAM0Y,IAAIpT,GACzB7C,UAAWC,KAAOnB,OAClBe,QAA8B,QAArBtC,EAAM0Y,IAAIE,OAAmB,YAAc,WACpD/Q,KAAK,QACLjE,MAAM,UACNmV,kBAAgB,EAChBC,eAAa,EACbxX,QAAS,WACPsC,OAAO1B,KAAKpC,EAAM0Y,IAAIva,OAGvBN,KAAKC,UAAUkC,EAAM0Y,IAAIrN,SC3BnB4N,GAhBO,SAACjZ,GACrB,OACE,yBAAKyC,UAAWC,KAAOwW,eACrB,kBAACpS,EAAA,EAAD,CAAYxE,QAAQ,QAAQG,UAAWC,KAAOqV,QAA9C,4BAGA,kBAAC/U,EAAA,EAAD,CAASP,UAAWC,KAAO0C,UAC3B,yBAAK3C,UAAWC,KAAOyW,aACpBnZ,EAAMoZ,SAASjY,KAAI,SAACuX,GAAD,OAClB,kBAAC,GAAD,CAAeA,IAAKA,EAAKhc,IAAKgc,EAAIpT,W,iFC+E7B+T,GAvFO,SAACrZ,GACrB,IAAMsZ,EAAiBtZ,EAAMgT,UAAUtK,OACnC1I,EAAMgT,UAAUtK,OAAOC,MACvB4Q,KAH2B,EAIGnZ,mBAASkZ,GAJZ,mBAIxBE,EAJwB,KAIbC,EAJa,KAkB3BnQ,EAAO,GAkCX,OAjCItJ,EAAMgT,UAAU1J,OAClBtJ,EAAMgT,UAAU1J,KAAKoQ,QACnBpQ,EAAK3J,KACH,kBAACmH,EAAA,EAAD,CAAYpK,IAAI,SAAS4F,QAAQ,SAC9B,qBAAQtC,EAAMgT,UAAU1J,KAAKoQ,SAGpC1Z,EAAMgT,UAAU1J,KAAKqQ,OACnBrQ,EAAK3J,KACH,kBAACmH,EAAA,EAAD,CAAYpK,IAAI,QAAQ4F,QAAQ,SAC7B,qBAAQtC,EAAMgT,UAAU1J,KAAKqQ,QAGpC3Z,EAAMgT,UAAU1J,KAAKuG,QACnBvG,EAAK3J,KACH,kBAACmH,EAAA,EAAD,CAAYpK,IAAI,SAAS4F,QAAQ,SAC9B,qBAAQtC,EAAMgT,UAAU1J,KAAKuG,SAGpC7P,EAAMgT,UAAU1J,KAAKsQ,WACnBtQ,EAAK3J,KACH,kBAACmH,EAAA,EAAD,CAAYpK,IAAI,YAAY4F,QAAQ,SACjC,qBAAQtC,EAAMgT,UAAU1J,KAAKsQ,YAGpC5Z,EAAMgT,UAAU1J,KAAKuQ,KACnBvQ,EAAK3J,KACH,kBAACmH,EAAA,EAAD,CAAYpK,IAAI,MAAM4F,QAAQ,SAC3B,qBAAQtC,EAAMgT,UAAU1J,KAAKuQ,OAMpC,kBAAChO,GAAA,EAAD,CAAMpJ,UAAWC,KAAOoX,eACtB,kBAAC/N,GAAA,EAAD,CACEtJ,UAAWC,KAAO4W,eAClBtR,MAAOwR,EACPhY,QAnDY,WAEdiY,EADED,IAAcF,EAEdtZ,EAAMgT,UAAU+G,QAAU/Z,EAAMgT,UAAU+G,OAAO,GAAGrR,OAChD1I,EAAMgT,UAAU+G,OAAO,GAAGrR,OAAOC,MACjCqR,KAGOV,MA6Cb,yBAAK7W,UAAWC,KAAOuX,WACrB,kBAACnT,EAAA,EAAD,CAAYxE,QAAQ,UAAUG,UAAWC,KAAO+R,MAC7CzU,EAAMgT,UAAN,WAEH,kBAAClM,EAAA,EAAD,CAAYrE,UAAWC,KAAOqX,OAAQzX,QAAQ,WAC3CtC,EAAMgT,UAAU+G,OACb,OAAS/Z,EAAMgT,UAAU+G,OAAO,GAAGhT,KACnC,YAEN,kBAACD,EAAA,EAAD,CAAYxE,QAAQ,SAAStC,EAAMgT,UAAUjM,MAC5C/G,EAAMgT,UAAU1J,MACftJ,EAAMgT,UAAU1J,KAAK4Q,OACrBla,EAAMgT,UAAU1J,KAAK4Q,MAAMC,MACzB,kBAACrT,EAAA,EAAD,CAAYxE,QAAQ,SACjB,qBAAQtC,EAAMgT,UAAU1J,KAAK4Q,MAAMC,MAGV,KAA/Bna,EAAMgT,UAAN,QAAoC,KACnC,kBAAClM,EAAA,EAAD,CAAYxE,QAAQ,SACjB,2BAAStC,EAAMgT,UAAN,SAGb1J,KClEM8Q,GAhBS,SAACpa,GACvB,OACE,yBAAKyC,UAAWC,KAAO2X,iBACrB,kBAACvT,EAAA,EAAD,CAAYxE,QAAQ,QAAQG,UAAWC,KAAOqV,QAA9C,4BACO,kBAACjR,EAAA,EAAD,CAAYxE,QAAQ,WAApB,qFAEP,kBAACU,EAAA,EAAD,CAASP,UAAWC,KAAO0C,UAC3B,yBAAK3C,UAAWC,KAAO4X,eACpBta,EAAMua,WAAWpZ,KAAI,SAAC6R,GAAD,OACpB,kBAAC,GAAD,CAAetW,IAAKsW,EAAU1N,GAAI0N,UAAWA,U,oBCsBxCwH,GA/BG,SAACxa,GACjB,OACE,kBAAC6L,GAAA,EAAD,CAAMpJ,UAAWC,KAAO+X,WACtB,kBAAC1O,GAAA,EAAD,CACEtJ,UAAWC,KAAOgY,aAClB1S,MACEhI,EAAM2a,MAAMjS,OACR1I,EAAM2a,MAAMjS,OAAOkS,OACnBZ,KAENxY,QAAS,WACPsC,OAAO1B,KAAKpC,EAAM2a,MAAMxc,QAG5B,yBAAKsE,UAAWC,KAAOmY,WACrB,kBAAC/T,EAAA,EAAD,CAAYxE,QAAQ,SAAStC,EAAM2a,MAAM5T,MACb,KAA3B/G,EAAM2a,MAAN,QAAgC,KAC/B,kBAAC7T,EAAA,EAAD,CAAYxE,QAAQ,SACjB,2BAAStC,EAAM2a,MAAN,SAGb3a,EAAM2a,MAAMG,KAAK3Z,KAAI,SAAC4Z,GAAD,OACpB,kBAACjU,EAAA,EAAD,CAAYpK,IAAKqe,EAAKtY,UAAWC,KAAOqY,IAAKzY,QAAQ,WAClDyY,S,oBCPEC,GAhBK,SAAChb,GACnB,OACE,yBAAKyC,UAAWC,KAAOuY,aACrB,kBAACnU,EAAA,EAAD,CAAYxE,QAAQ,QAAQG,UAAWC,KAAOqV,QAA9C,4BAGA,kBAAC/U,EAAA,EAAD,CAASP,UAAWC,KAAO0C,UAC3B,yBAAK3C,UAAWC,KAAOwY,WACtBlb,EAAMmb,OAAOha,KAAI,SAACwZ,GAAD,OAChB,kBAAC,GAAD,CAAWje,IAAKie,EAAMrV,GAAIqV,MAAOA,U,8BCgC1BS,GArCM,SAACpb,GAGpB,IAFA,IAAIqb,EAAc,GAETlc,EAAI,EAAGA,EAAI,GAAIA,IACtBkc,EAAY1b,KACV,kBAAC,IAAM+G,SAAP,CAAgBhK,IAAKyC,GACnB,kBAAC2H,EAAA,EAAD,CAAYrE,UAAWC,KAAO6M,UAAWjN,QAAQ,WAC9CnD,GAEH,kBAACqZ,GAAA,EAAD,CAAS5N,MAAO5K,EAAMmI,OAAO4L,MAAb,UAAsB5U,KACpC,kBAACmc,GAAA,EAAD,CACE7Y,UAAWC,KAAO6Y,IAClBjZ,QAAQ,cACRsC,MAAO3H,SACJ+C,EAAMmI,OAAO4L,MAAb,UAAsB5U,IAAOa,EAAMmI,OAAOqT,MAAS,KAEtDC,YAAa,SAOvB,OACE,yBAAKhZ,UAAWC,KAAOgZ,cACrB,kBAAC5U,EAAA,EAAD,CAAYxE,QAAQ,QAAQG,UAAWC,KAAOqV,QAA9C,2BACO,IACL,kBAACjR,EAAA,EAAD,CAAYxE,QAAQ,WAApB,wCACUtC,EAAMmI,OAAOqT,MADvB,MAIF,kBAACxY,EAAA,EAAD,CAASP,UAAWC,KAAO0C,UAC3B,yBAAK3C,UAAWC,KAAO2Y,aAAcA,K,oBCjB5BM,GApBG,SAAC3b,GACjB,OACE,yBAAKyC,UAAWC,KAAOkZ,YACrB,kBAAC9U,EAAA,EAAD,CAAYxE,QAAQ,QAAQG,UAAWC,KAAOqV,QAA9C,sBAGA,kBAAC/U,EAAA,EAAD,CAASP,UAAWC,KAAO0C,UAC3B,yBAAK3C,UAAWC,KAAOjE,MACpBuB,EAAMvB,KAAK0C,KAAI,SAAC0a,GAAD,OACd,kBAACrD,GAAA,EAAD,CAAS9b,IAAKmf,EAAI9U,KAAM6D,MAAO,2BAASiR,EAAI9H,MAAO+H,OAAK,GACtD,kBAAChV,EAAA,EAAD,CAAYrE,UAAWC,KAAOmZ,IAAKvZ,QAAQ,aACxCuZ,EAAI9U,aCaJgV,GAnBO,SAAC/b,GACrB,OACE,yBAAKyC,UAAWC,KAAOsZ,eACrB,yBAAKvZ,UAAWC,KAAOwP,MACrB,kBAAC,GAAD,CAAkB5I,KAAMtJ,EAAMxB,KAAK6K,cAErC,yBAAK5G,UAAWC,KAAO0P,QACpBpS,EAAMxB,KAAKka,KAAO,kBAAC,GAAD,CAAeU,SAAUpZ,EAAMxB,KAAKka,MACtD1Y,EAAMxB,KAAKyd,KAAO,kBAAC,GAAD,CAAiB1B,WAAYva,EAAMxB,KAAKyd,MAC1Djc,EAAMxB,KAAKmc,OAAS,kBAAC,GAAD,CAAaQ,OAAQnb,EAAMxB,KAAKmc,SAEvD,yBAAKlY,UAAWC,KAAOsE,OACpBhH,EAAMxB,KAAK2J,QAAU,kBAAC,GAAD,CAAcA,OAAQnI,EAAMxB,KAAK2J,SACvD,kBAAC,GAAD,CAAW1J,KAAMuB,EAAMxB,KAAKC,UCCrByd,GAlBK,SAAClc,GACnB,OACE,yBAAKyC,UAAWC,KAAOyZ,aACrB,kBAAC,GAAD,CACE7W,GAAItF,EAAMxB,KAAK8G,GACf0C,MAAOhI,EAAMxB,KAAK+K,MAClBuN,QAAS9W,EAAMxB,KAAK4d,QACpBlF,QAASlX,EAAMxB,KAAKuI,KACpBuQ,QAAStX,EAAMxB,KAAN,SACT6P,QAASrO,EAAMxB,KAAN,YACT2J,OAAQnI,EAAMxB,KAAK2J,QAAUnI,EAAMxB,KAAK2J,OAAOD,MAC/CuP,QAASzX,EAAMxB,KAAKiZ,UAEtB,kBAAC,GAAD,CAAejZ,KAAMwB,EAAMxB,S,2TCVjC,IAAM6d,GAAMC,KAAOC,IAAV,MAQmB,SAACvc,GAAD,OAAWA,EAAMgI,SA8B9BwU,GAxBO,WAAO,IAAD,EACIpc,oBAAS,GADb,mBACnB+P,EADmB,KACVC,EADU,OAEYhQ,mBAAS,MAFrB,mBAEnBqc,EAFmB,KAENC,EAFM,KAGlBC,EAAUpM,cAAVoM,MACFnS,EAAM,IAAIf,GAWhB,OATAkB,qBAAU,WACH8R,GACHjS,EAAIZ,mBAAmB+S,GAAOre,MAAK,SAACE,GAClCke,EAAele,GACf4R,GAAW,QAGd,CAAC5F,EAAKiS,EAAaE,IAEfxM,EACL,kBAACP,GAAA,EAAD,CAAUnN,UAAWC,KAAOka,SAAU9M,UAAU,OAAOxN,QAAQ,SAE/D,kBAAC+Z,GAAD,CAAK5Z,UAAWC,KAAOma,aAAc7U,MAAOyU,EAAYlT,OACtD,kBAAC,GAAD,CAAa/K,KAAMie,MCdVK,GAjBA,SAAC9c,GACd,OACE,kBAAC,IAAM0G,SAAP,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO9J,KAAK,IAAImgB,OAAK,EAACtY,UAAW4Q,KACjC,kBAAC,IAAD,CAAOzY,KAAK,UAAUmgB,OAAK,EAACtY,UAAW8J,KACvC,kBAAC,IAAD,CAAO3R,KAAK,YAAYmgB,OAAK,EAACtY,UAAWyR,KACzC,kBAAC,IAAD,CAAOtZ,KAAK,SAASmgB,OAAK,EAACtY,UAAWuY,KACtC,kBAAC,IAAD,CAAOpgB,KAAK,kBAAiB6H,UAAW+X,KACxC,kBAAC,IAAD,CAAO5f,KAAK,gBAAgB6H,UAAWyL,KACvC,kBAAC,IAAD,CAAOtT,KAAK,SAAS6H,UAAWkQ,KAChC,kBAAC,IAAD,CAAO/X,KAAK,IAAI6H,UAAWuY,Q,yCCsCpBC,GApDI1c,IAAMyO,MAAK,WAC5B,IAAMnS,EAAWoD,cAAcpD,SAG/B,GAFyB,CAAC,IAAK,UAEV6C,SAAS7C,GAC5B,OAAO,KAGT,IAAMqD,EAAUC,cACV+c,EAASrgB,EAASsgB,MAAM,KAAKre,QAAO,SAACoC,GAAD,MAAa,KAANA,KAE3Ckc,EAAc,SAACrb,GACnB7B,EAAQP,KAAKoC,IAGXsb,EAAa,CACf,kBAAC3H,GAAA,EAAD,CAAMhZ,IAAI,OAAOkH,MAAM,UAAUpC,QAAS,kBAAM4b,EAAY,OAA5D,iBAsBF,OAjBAF,EAAO5d,SAAQ,SAACgP,GACV4O,EAAOzQ,QAAQ6B,KAAO4O,EAAOrL,OAAS,EAC9B,YAANvD,GACF+O,EAAW1d,KACT,kBAAC+V,GAAA,EAAD,CAAMhZ,IAAK4R,EAAG1K,MAAM,UAAUpC,QAAS,kBAAM4b,EAAY,IAAM9O,KAC5DlS,EAAoBkS,KAI3B+O,EAAW1d,KACT,kBAACmH,EAAA,EAAD,CAAYpK,IAAK4R,EAAG1K,MAAM,eACvBxH,EAAoBkS,QAO3B,kBAAC,IAAM5H,SAAP,KACE,kBAAC4W,GAAA,EAAD,CACE7a,UAAWC,KAAOrG,WAClBkhB,UAAW,kBAACC,GAAA,EAAD,CAAcnG,SAAS,UAClC9Q,aAAW,cAEV8W,GAEH,kBAACra,EAAA,EAAD,U,qBCxCSya,GATY,WACvB,OACI,yBAAKhb,UAAWC,KAAOyN,SACnB,yBAAK1N,UAAWC,KAAOiE,KAAMC,IAAK2O,KAAM1O,IAAI,SAC5C,kBAACC,EAAA,EAAD,CAAYrE,UAAWC,KAAOgb,YAAapb,QAAQ,KAAKkT,MAAM,UAA9D,gB,qBCENmI,G,4MACJ7d,MAAQ,CACNuC,aAAa,G,EAQfub,gBAAkB,WAAyB,IAAxBvb,EAAuB,uDAAT,KACX,OAAhBA,EACF,EAAKwb,UAAS,SAACC,GACb,MAAO,CAAEzb,aAAcyb,EAAUzb,gBAGnC,EAAKwb,SAAS,CAAExb,YAAaA,K,kEAV/BwH,KAAK7J,MAAM1C,iBACX0E,YAAY6H,KAAKgU,SAAS,CAAExb,aAAa,M,+BAajC,IAAD,OACP,OAAOwH,KAAK7J,MAAM5C,YAChB,kBAAC,IAAMsJ,SAAP,KACE,kBAAC,GAAD,CAAQF,cAAe,kBAAM,EAAKoX,qBAClC,kBAAC,EAAD,CACEvb,YAAawH,KAAK/J,MAAMuC,YACxBJ,aAAc,kBAAM,EAAK2b,iBAAgB,MAE3C,yBACEnb,UACET,WACIU,KAAOqb,sBACPlU,KAAK/J,MAAMuC,YACXK,KAAOsb,aACPtb,KAAOqb,uBAGb,kBAAC,GAAD,MACA,kBAAC,GAAD,QAIJ,kBAACE,GAAD,U,GA1CeC,iBA2DNre,gBAZS,SAACC,GACvB,MAAO,CACL1C,YAAa0C,EAAMC,YAAY3C,gBAIR,SAACG,GAC1B,MAAO,CACLD,eAAgB,kBAAMC,EAAS4gB,SAIpBte,CAA6C8d,IC3DxCpT,QACW,cAA7BzG,OAAOnH,SAASyhB,UAEe,UAA7Bta,OAAOnH,SAASyhB,UAEhBta,OAAOnH,SAASyhB,SAASxG,MACvB,2DChBN,IAAMyG,GAAe,CACnBjhB,aAAa,GAGTE,GAAiB,SAACwC,EAAOqe,GAC7B,OAAO,2BACFre,GADL,IAEE1C,YAAa+gB,EAAO/gB,eAaTkhB,GATC,WAAmC,IAAlCxe,EAAiC,uDAAzBue,GAAcF,EAAW,uCAChD,OAAQA,EAAO9gB,MACb,I5Cf0B,iB4CgBxB,OAAOC,GAAewC,EAAOqe,GAC/B,QACE,OAAOre,ICLPye,GAAmBza,OAAO0a,sCAAwCC,IAElEC,GAAcC,YAAgB,CAClC5e,YAAa6e,KAGTC,GAAQC,YACZJ,GACAH,GAAiBQ,YAAgBC,OAGnCC,IAASC,OACP,kBAAC,IAAD,CAAUL,MAAOA,IACf,kBAAC,IAAD,KACE,kBAACM,EAAA,EAAD,CAAgBC,aAAW,GACzB,kBAAC,GAAD,SAINC,SAASC,eAAe,SFmGpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBnhB,MAAK,SAAAohB,GACJA,EAAaC,gBAEdpY,OAAM,SAAA+O,GACL7O,QAAQ6O,MAAMA,EAAMsJ,c","file":"static/js/main.1b42fadb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"AnimeCard_card__3XOgS\",\"title\":\"AnimeCard_title__2GQ4h\",\"cardContent\":\"AnimeCard_cardContent__tRPw-\",\"coverImage\":\"AnimeCard_coverImage__1sRTf\",\"rating\":\"AnimeCard_rating__3Wtt2\",\"ratingNum\":\"AnimeCard_ratingNum__Itar7\",\"cardActions\":\"AnimeCard_cardActions__1riMV\",\"favBtn\":\"AnimeCard_favBtn__10TNV\",\"moreBtn\":\"AnimeCard_moreBtn__3gTR2\",\"animeMenu\":\"AnimeCard_animeMenu__2Vpsl\",\"animeMenuIcon\":\"AnimeCard_animeMenuIcon__1xGpq\",\"menuItem\":\"AnimeCard_menuItem__akuAr\",\"ratingSkl\":\"AnimeCard_ratingSkl__pHkPF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleSection\":\"TitleSection_titleSection__CxAMO\",\"coverImage\":\"TitleSection_coverImage__XMBov\",\"titleInfo\":\"TitleSection_titleInfo__2A7wU\",\"basicInfo\":\"TitleSection_basicInfo__3r17j\",\"favIcon\":\"TitleSection_favIcon__1tnMH\",\"icon\":\"TitleSection_icon__2nn-9\",\"rating\":\"TitleSection_rating__GNjPp\",\"links\":\"TitleSection_links__3vq9D\",\"link\":\"TitleSection_link__DOMUN\",\"summaryInfo\":\"TitleSection_summaryInfo__mEFuP\",\"summary\":\"TitleSection_summary__Jm5T3\",\"titleCN\":\"TitleSection_titleCN__28ddK\",\"titleJP\":\"TitleSection_titleJP__VFGf-\",\"time\":\"TitleSection_time__iv2k4\",\"bangumiRating\":\"TitleSection_bangumiRating__3BzbW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"AnimeMiniCard_card__1gLUa\",\"rating\":\"AnimeMiniCard_rating__13f-_\",\"coverImage\":\"AnimeMiniCard_coverImage__3mYxm\",\"content\":\"AnimeMiniCard_content__1HMRs\",\"title\":\"AnimeMiniCard_title__1cZjN\",\"divider\":\"AnimeMiniCard_divider__v4AJn\",\"actions\":\"AnimeMiniCard_actions__2Lptj\",\"favBtn\":\"AnimeMiniCard_favBtn__1Snea\",\"favIcon\":\"AnimeMiniCard_favIcon__2rCBY\",\"moreBtn\":\"AnimeMiniCard_moreBtn__1Ul6e\",\"animeMenu\":\"AnimeMiniCard_animeMenu__3P8as\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"SeasonCard_card__1NnYr\",\"pointer\":\"SeasonCard_pointer__xaMN9\",\"coverImage\":\"SeasonCard_coverImage__1TXck\",\"imgTransform\":\"SeasonCard_imgTransform__Ou-7N\",\"leftCard\":\"SeasonCard_leftCard__oUDXX\",\"centerCard\":\"SeasonCard_centerCard__2uVhW\",\"rightCard\":\"SeasonCard_rightCard__2muD8\",\"bottomButton\":\"SeasonCard_bottomButton__119ph\",\"moveButtonUp\":\"SeasonCard_moveButtonUp__19mPY\",\"seasonIcon\":\"SeasonCard_seasonIcon__KQ920\",\"buttonText\":\"SeasonCard_buttonText__37f2K\",\"buttonTextSeason\":\"SeasonCard_buttonTextSeason__2QDI5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__3rwmO\",\"logo\":\"Home_logo__225nv\",\"title\":\"Home_title__11q0R\",\"arrowIcon\":\"Home_arrowIcon__3QMhY\",\"bounce\":\"Home_bounce__3c8US\",\"badges\":\"Home_badges__2vLi8\",\"badge\":\"Home_badge__34qqF\",\"myne\":\"Home_myne__301_3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar\":\"Topbar_toolbar__3Tw29\",\"right\":\"Topbar_right__2VULv\",\"rightItem\":\"Topbar_rightItem__2-bkv\",\"appbar\":\"Topbar_appbar__2vWKZ\",\"logo\":\"Topbar_logo__1Q1U1\",\"name\":\"Topbar_name__2b1qD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ratingDetail\":\"RatingDetail_ratingDetail__2gM8a\",\"header\":\"RatingDetail_header__1VnAv\",\"divider\":\"RatingDetail_divider__1ZLOV\",\"ratingChart\":\"RatingDetail_ratingChart__2JH_P\",\"ratingNum\":\"RatingDetail_ratingNum__3fmNj\",\"bar\":\"RatingDetail_bar__oUayp\"};","module.exports = __webpack_public_path__ + \"static/media/logo.e676953a.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__2aLJQ\",\"myne\":\"Error_myne__1B6yW\",\"buttons\":\"Error_buttons__1JgB8\",\"button\":\"Error_button__1OnZ5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"characterCard\":\"CharacterCard_characterCard__3agj_\",\"characterImage\":\"CharacterCard_characterImage__29LwM\",\"charaInfo\":\"CharacterCard_charaInfo__2r8rZ\",\"role\":\"CharacterCard_role__3vPkM\",\"actors\":\"CharacterCard_actors__2aKsR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tagsDetail\":\"TagDetail_tagsDetail__3RkE2\",\"header\":\"TagDetail_header__22EJ7\",\"divider\":\"TagDetail_divider__THfhz\",\"tags\":\"TagDetail_tags__3zhW2\",\"tag\":\"TagDetail_tag__2OvwY\"};","module.exports = __webpack_public_path__ + \"static/media/nocover.6ce0da62.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailSection\":\"DetailSection_detailSection__3lxKY\",\"left\":\"DetailSection_left__3Brp-\",\"center\":\"DetailSection_center__27aEe\",\"right\":\"DetailSection_right__2uFhc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ProductionDetail_header__vv9x-\",\"divider\":\"ProductionDetail_divider__2lDYe\",\"productionDetail\":\"ProductionDetail_productionDetail__1hsuu\",\"parsedInfo\":\"ProductionDetail_parsedInfo__1Dv0b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"episodeDetail\":\"EpisodeDetail_episodeDetail__1ENFF\",\"header\":\"EpisodeDetail_header__32aUx\",\"divider\":\"EpisodeDetail_divider__15gTZ\",\"episodeList\":\"EpisodeDetail_episodeList__aX4nE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"characterDetail\":\"CharacterDetail_characterDetail__2zd4e\",\"header\":\"CharacterDetail_header__36X1t\",\"divider\":\"CharacterDetail_divider__1fNUi\",\"characterList\":\"CharacterDetail_characterList__3XwP7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"staffCard\":\"StaffCard_staffCard__2nQBf\",\"profileImage\":\"StaffCard_profileImage__2mDB0\",\"staffInfo\":\"StaffCard_staffInfo__3G3nv\",\"job\":\"StaffCard_job__25TW7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"staffDetail\":\"StaffDetail_staffDetail__vthbP\",\"header\":\"StaffDetail_header__3aaZl\",\"divider\":\"StaffDetail_divider__12bTp\",\"staffList\":\"StaffDetail_staffList__-S4DK\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAIAAAAiOjnJAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA2LTI5VDIyOjAxOjI5LTA0OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA2LTI5VDIyOjAxOjI5LTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNi0yOVQyMjowMToyOS0wNDowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkYmVlYjA1NS1iOTY3LTU1NDktOTYxNy1iMjJjNWU1MmEwNTUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowMWU1ZWNiZS00NTdhLWQ3NDMtOWEw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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"column\":\"AnimeColumnList_column__13S6Y\",\"icon\":\"AnimeColumnList_icon__2X77b\",\"weekday\":\"AnimeColumnList_weekday__3gty6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Loading_loading__1OK8Z\",\"logo\":\"Loading_logo__2zRB0\",\"loadingText\":\"Loading_loadingText__2F52v\",\"animate\":\"Loading_animate__2cx4F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentsArea\":\"Layout_contentsArea__21xEh\",\"contentsAreaFullWidth\":\"Layout_contentsAreaFullWidth__16yWE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"Setting_divider__3V2YE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"year\":\"AnnualAnimeList_year__1etHY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fullInfoPage\":\"FullAnimeInfo_fullInfoPage__3zpbO\",\"skeleton\":\"FullAnimeInfo_skeleton__2H1rf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Sidebar_list__mKT8I\",\"drawerPaper\":\"Sidebar_drawerPaper__1xn38\",\"ListItem\":\"Sidebar_ListItem__Ersyj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"weeklyAnimeList\":\"WeeklyAnimeList_weeklyAnimeList__19bys\"};","module.exports = __webpack_public_path__ + \"static/media/sunday.471b7676.svg\";","module.exports = __webpack_public_path__ + \"static/media/monday.2022dabb.svg\";","module.exports = __webpack_public_path__ + \"static/media/tuesday.ff792e59.svg\";","module.exports = __webpack_public_path__ + \"static/media/wednesday.c5e355ed.svg\";","module.exports = __webpack_public_path__ + \"static/media/thursday.ebe26385.svg\";","module.exports = __webpack_public_path__ + \"static/media/friday.92565b85.svg\";","module.exports = __webpack_public_path__ + \"static/media/saturday.4bb326a5.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading.d3377a06.svg\";","module.exports = __webpack_public_path__ + \"static/media/season_empty.fb5137d2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/not_air.1bd30696.jpg\";","module.exports = __webpack_public_path__ + \"static/media/spring.7be28865.svg\";","module.exports = __webpack_public_path__ + \"static/media/summer.6738f47d.svg\";","module.exports = __webpack_public_path__ + \"static/media/autumn.1d5b9e47.svg\";","module.exports = __webpack_public_path__ + \"static/media/winter.50821822.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"season\":\"SeasonCards_season__OE5O1\",\"button\":\"SeasonCards_button__3FwFc\",\"seasonCharacter\":\"SeasonCards_seasonCharacter__2NpCp\",\"spring\":\"SeasonCards_spring__3uw5h\",\"summer\":\"SeasonCards_summer__2tGa8\",\"autumn\":\"SeasonCards_autumn__3eY1X\",\"winter\":\"SeasonCards_winter__3SJw4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"PaginationAnimeList_pagination__cAs7M\"};","module.exports = __webpack_public_path__ + \"static/media/myne_sit.0e0ea202.png\";","module.exports = __webpack_public_path__ + \"static/media/myne_cry.44285a86.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoSection\":\"InfoSection_infoSection__1lNyQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"EpisodeButton_button__1V1ua\"};","module.exports = __webpack_public_path__ + \"static/media/CharacterPlaceholder.cfa5cba7.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"breadcrumb\":\"Breadcrumb_breadcrumb__3rl7x\"};","/** This files store utility functions for the project. */\r\n\r\n/**\r\n * Pass the year and month and give back the start and end time of the season\r\n * @param {number} year The year of the selected season\r\n * @param {number} month Any month during the selected season\r\n * @returns The begin and end time string array of the selected season\r\n */\r\nexport const getSeasonRange = (year, month) => {\r\n  let startMonth = 0,\r\n    endMonth = 0,\r\n    endYear = year;\r\n\r\n  if (month >= 1 && month < 4) {\r\n    startMonth = 1;\r\n    endMonth = 4;\r\n  } else if (month >= 4 && month < 7) {\r\n    startMonth = 4;\r\n    endMonth = 7;\r\n  } else if (month >= 7 && month < 10) {\r\n    startMonth = 7;\r\n    endMonth = 10;\r\n  } else if (month >= 10) {\r\n    startMonth = 10;\r\n    endMonth = 1;\r\n    endYear++;\r\n  }\r\n\r\n  return [\r\n    year + \"-\" + (\"0\" + startMonth).slice(-2) + \"-01T00:00:00.000Z\",\r\n    endYear + \"-\" + (\"0\" + endMonth).slice(-2) + \"-01T00:00:00.000Z\",\r\n  ];\r\n};\r\n\r\n/**\r\n * Pass the year and give back the start and end time of the year\r\n * @param {number} year The year of the selected year\r\n * @returns The begin and end time string array of the selected year\r\n */\r\nexport const getAnnualRange = (year) => {\r\n  return [year + \"-01-01T00:00:00.000Z\", ++year + \"-01-01T00:00:00.000Z\"];\r\n};\r\n\r\n/**\r\n * Translate breadcrumb to property text\r\n * @param {string} breadcrumb breadcrumb string that was originally extract from the url\r\n * @returns translated breadcrumb\r\n */\r\nexport const translateBreadcrumb = (breadcrumb) => {\r\n  const translateData = {\r\n    weekly: \"\",\r\n    favorite: \"\",\r\n  };\r\n\r\n  return translateData[breadcrumb] ? translateData[breadcrumb] : breadcrumb;\r\n};\r\n\r\n/**\r\n * Get a random anime from the season for season card display purpose\r\n * @param {number} year The year of the selected season\r\n * @param {number} month The month of the selected season\r\n * @returns a random bangumi id\r\n */\r\nexport const getRandomAnime = (year, month) => {\r\n  const range = getSeasonRange(parseInt(year), parseInt(month));\r\n\r\n  const items = JSON.parse(localStorage.getItem(\"bd_items\")).filter(\r\n    (item) =>\r\n      new Date(item.begin) >= new Date(range[0]) &&\r\n      new Date(item.begin) < new Date(range[1])\r\n  );\r\n\r\n  return items.length === 0\r\n    ? 0\r\n    : items[Math.floor(Math.random() * items.length)].sites.find(\r\n        (i) => i.site === \"bangumi\"\r\n      ).id;\r\n};\r\n\r\n/**\r\n * Check if the current location is in the decade of the selected key\r\n * @param {string} key collpase state key for the sidebar\r\n * @param {object} location current location/url\r\n * @returns boolean value for initializing the collpase state in the sidebar\r\n */\r\nexport const initializedCollapseKey = (key, location) => {\r\n  const path = location.pathname.slice(1, 5);\r\n  const start = new Date(key.slice(0, 4), 1),\r\n    end = new Date(key.slice(4), 1);\r\n  if (parseInt(path)) {\r\n    const curr = new Date(path, 1);\r\n    return start <= curr && curr <= end ? true : false;\r\n  }\r\n};\r\n\r\n/**\r\n * get bangumi-data from local storage by bangumi.tv subject id\r\n * @param {string} id bangumi.tv id\r\n * @returns anime data that matches the id\r\n */\r\nexport const getLocalBangumiDataById = (id) => {\r\n  return JSON.parse(localStorage.getItem(\"bd_items\")).filter(\r\n    (item) => item.sites.find((i) => i.site === \"bangumi\").id === id\r\n  );\r\n};\r\n\r\n/**\r\n * filter out items that do not have a bangumi.tv subject id\r\n * @param {Array} items items list from bangumi-data\r\n * @returns filtered array\r\n */\r\nexport const filterItemWithNoBangumiId = (items) => {\r\n  return items.filter(\r\n    (item) => item.sites.find((i) => i.site === \"bangumi\") !== undefined\r\n  );\r\n};\r\n\r\n/**\r\n * translate weekday number to chinese\r\n * @param {number} index number represent the weekday, mon = 1\r\n * @returns weekday in chinese\r\n */\r\nexport const translateWeekday = (index) => {\r\n  return [\"\", \"\", \"\", \"\", \"\", \"\", \"\"][\r\n    index - 1\r\n  ];\r\n};\r\n\r\n//https://awik.io/determine-color-bright-dark-using-javascript/\r\n/**\r\n * check the image is mostly light or dark\r\n * @param {string} color rgb css value string\r\n * @returns \"light\" or \"dark\"\r\n */\r\nexport const lightOrDark = (color) => {\r\n  // Variables for red, green, blue values\r\n  var r, g, b, hsp;\r\n\r\n  // Check the format of the color, HEX or RGB?\r\n  if (color.match(/^rgb/)) {\r\n    // If RGB --> store the red, green, blue values in separate variables\r\n    color = color.match(\r\n      /^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/\r\n    );\r\n\r\n    r = color[1];\r\n    g = color[2];\r\n    b = color[3];\r\n  } else {\r\n    // If hex --> Convert it to RGB: http://gist.github.com/983661\r\n    color = +(\"0x\" + color.slice(1).replace(color.length < 5 && /./g, \"$&$&\"));\r\n\r\n    r = color >> 16;\r\n    g = (color >> 8) & 255;\r\n    b = color & 255;\r\n  }\r\n\r\n  // HSP (Highly Sensitive Poo) equation from http://alienryderflex.com/hsp.html\r\n  hsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) + 0.114 * (b * b));\r\n\r\n  // Using the HSP value, determine whether the color is light or dark\r\n  if (hsp > 127.5) {\r\n    return \"light\";\r\n  } else {\r\n    return \"dark\";\r\n  }\r\n};\r\n\r\n/**\r\n * convert rgb array to rgb css value\r\n * @param {Array} colorArray array of rgb color number\r\n * @returns rgb css value string\r\n */\r\nexport const toRGB = (colorArray) => {\r\n  return \"rgb(\" + colorArray.join(\", \") + \")\";\r\n};\r\n\r\n/**\r\n * convert the image url to another url with a different size\r\n * @param {string} url bangumi image url\r\n * @param {string} size single character: \"l\" = large | \"c\" = common | \"m\" = middle | \"s\" = small | \"g\" = grid\r\n * @returns an url with a different size\r\n */\r\nexport const swapCoverPictureSize = (url, size) => {\r\n  return url.replace(/(?<=cover)(\\/)(.)(\\/)/g, `/${size}/`)\r\n}","import axios from \"axios\";\r\n\r\nimport * as actionType from \"../ActionTypes\";\r\nimport * as init from \"../../../service/Initialization\";\r\n\r\nexport const setInitialization = (initialized) => {\r\n  return {\r\n    type: actionType.INITIALIZATION,\r\n    initialized: initialized,\r\n  };\r\n};\r\n\r\nexport const initialization = () => {\r\n  return (dispatch) => {\r\n    const localVersion = localStorage.getItem(\"bd_version\");\r\n    let lastestVersion = null;\r\n\r\n    init.initializeLocalSetting();\r\n    init.initializeLocalFavorite();\r\n\r\n    axios\r\n      .get(\"https://data.jsdelivr.com/v1/package/npm/bangumi-data\")\r\n      .then((res) => {\r\n        lastestVersion = res.data.tags.latest;\r\n        if (localVersion !== lastestVersion) {\r\n          axios\r\n            .get(\r\n              `https://cdn.jsdelivr.net/npm/bangumi-data@latest/dist/data.json`\r\n            )\r\n            .then((res) => {\r\n              init.initializeLocalBangumiData(lastestVersion, res.data);\r\n              init.initializeLocalYearList(res.data.items);\r\n              dispatch(setInitialization(true));\r\n            });\r\n        } else {\r\n          dispatch(setInitialization(true));\r\n        }\r\n      });\r\n  };\r\n};\r\n","export const INITIALIZATION = \"INITIALIZATION\";\r\n","import { filterItemWithNoBangumiId } from \"../utils/utils\";\r\n\r\nexport const initializeLocalFavorite = () => {\r\n  !localStorage.getItem(\"favorite\") && localStorage.setItem(\"favorite\", \"[]\");\r\n};\r\n\r\nexport const initializeLocalSetting = () => {\r\n  !localStorage.getItem(\"setting\") &&\r\n    localStorage.setItem(\r\n      \"setting\",\r\n      JSON.stringify({\r\n        cardApi: \"default\",\r\n        pageApi: \"default\",\r\n        cors: {\r\n          proxy: \"heroku\",\r\n          url: \"https://cors-anywhere.herokuapp.com/\",\r\n        },\r\n      })\r\n    );\r\n};\r\n\r\nexport const initializeLocalYearList = (items) => {\r\n  let years = [];\r\n  items.forEach((b) => {\r\n    const year = new Date(b.begin).getFullYear();\r\n    if (!years.includes(year)) years.push(year);\r\n  });\r\n  localStorage.setItem(\"years\", JSON.stringify(years));\r\n};\r\n\r\nexport const initializeLocalBangumiData = (version, data) => {\r\n  localStorage.setItem(\"bd_version\", version);\r\n  localStorage.setItem(\"bd_site_meta\", JSON.stringify(data.siteMeta));\r\n  localStorage.setItem(\r\n    \"bd_items\",\r\n    JSON.stringify(filterItemWithNoBangumiId(data.items))\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Drawer,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Collapse,\r\n  ListSubheader,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { ExpandMore, ExpandLess } from \"@material-ui/icons\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nimport \"react-perfect-scrollbar/dist/css/styles.css\";\r\nimport styles from \"./Sidebar.module.css\";\r\nimport { initializedCollapseKey } from \"../../utils/utils\";\r\n\r\nconst Sidebar = (props) => {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [collapseKeys, setCollapseKeys] = useState({\r\n    \"19601969\": initializedCollapseKey(\"19601969\", location),\r\n    \"19701979\": initializedCollapseKey(\"19701979\", location),\r\n    \"19801989\": initializedCollapseKey(\"19801989\", location),\r\n    \"19901999\": initializedCollapseKey(\"19901999\", location),\r\n    \"20002009\": initializedCollapseKey(\"20002009\", location),\r\n    \"20102019\": initializedCollapseKey(\"20102019\", location),\r\n    \"20202029\": initializedCollapseKey(\"20202029\", location),\r\n  });\r\n  const [selectedItem, setSelectedItem] = React.useState(location.pathname);\r\n  const years = JSON.parse(localStorage.getItem(\"years\"));\r\n\r\n  const collapseHandler = (key) => {\r\n    setCollapseKeys({\r\n      ...collapseKeys,\r\n      [key]: !collapseKeys[key],\r\n    });\r\n  };\r\n\r\n  const genenerateYearList = () => {\r\n    const min = Math.min(...years); // get the first year.\r\n    const max = Math.max(...years); // get the last years.\r\n    const start = parseInt(min / 10) * 10; //get the first year of the first decade\r\n\r\n    let yearList = [];\r\n    for (let i = start; i <= max; i += 10) {\r\n      yearList.push(\r\n        <Collapse\r\n          in={collapseKeys[\"\" + i + (i + 9)]}\r\n          key={\"c\" + i + (i + 9)}\r\n          unmountOnExit\r\n        >\r\n          {years\r\n            .filter((f) => f >= i && f < i + 10)\r\n            .map((m) => {\r\n              return (\r\n                <ListItem\r\n                  key={m}\r\n                  selected={selectedItem === \"/\" + m}\r\n                  button\r\n                  onClick={() => clickHandler(\"/\" + m)}\r\n                >\r\n                  <ListItemText>{m}</ListItemText>\r\n                </ListItem>\r\n              );\r\n            })\r\n            .reverse()}\r\n        </Collapse>\r\n      );\r\n      yearList.push(\r\n        <ListItem\r\n          button\r\n          key={\"\" + i + (i + 9)}\r\n          onClick={() => collapseHandler(\"\" + i + (i + 9))}\r\n        >\r\n          <ListItemText>\r\n            {i} - {i + 9}\r\n          </ListItemText>\r\n          {collapseKeys[\"\" + i + (i + 9)] ? <ExpandMore /> : <ExpandLess />}\r\n        </ListItem>\r\n      );\r\n    }\r\n\r\n    return yearList.reverse();\r\n  };\r\n\r\n  const yearList = years ? genenerateYearList() : [];\r\n\r\n  const clickHandler = (link) => {\r\n    history.push(link);\r\n    setSelectedItem(link);\r\n    isMobile && props.closeSidebar();\r\n  };\r\n\r\n  return (\r\n    <Drawer\r\n      anchor=\"left\"\r\n      open={props.openSidebar}\r\n      variant={isMobile ? \"temporary\" : \"persistent\"}\r\n      onClose={props.closeSidebar}\r\n    >\r\n      <PerfectScrollbar>\r\n        <List\r\n          className={styles.list}\r\n          style={{ marginTop: !isMobile && \"64px\" }}\r\n        >\r\n          <ListItem\r\n            button\r\n            selected={selectedItem === \"/\"}\r\n            onClick={() => clickHandler(\"/\")}\r\n          >\r\n            <ListItemText></ListItemText>\r\n          </ListItem>\r\n          <ListItem\r\n            button\r\n            selected={selectedItem === \"/favorite\"}\r\n            onClick={() => clickHandler(\"/favorite\")}\r\n          >\r\n            <ListItemText></ListItemText>\r\n          </ListItem>\r\n          <ListSubheader disableSticky></ListSubheader>\r\n          <Divider />\r\n          <ListItem\r\n            button\r\n            selected={selectedItem === \"/weekly\"}\r\n            onClick={() => clickHandler(\"/weekly\")}\r\n          >\r\n            <ListItemText></ListItemText>\r\n          </ListItem>\r\n          <ListSubheader disableSticky></ListSubheader>\r\n          <Divider />\r\n          {yearList.map((m) => {\r\n            return m;\r\n          })}\r\n        </List>\r\n      </PerfectScrollbar>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    years: state.bangumiData.years,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Sidebar);\r\n","import React from \"react\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogActions,\r\n} from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Reset = (props) => {\r\n  const history = useHistory();\r\n\r\n  const reset = () => {\r\n    localStorage.clear();\r\n    props.close();\r\n    history.push(\"/\");\r\n    window.location.reload();\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={props.open}\r\n      onClose={props.close}\r\n      maxWidth=\"xs\"\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle>{\"\"}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          localStoragebangumi-data\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={props.close} variant=\"outlined\" color=\"secondary\">\r\n          \r\n        </Button>\r\n        <Button onClick={reset} variant=\"outlined\" color=\"primary\">\r\n          \r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default Reset;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  FormControl,\r\n  FormLabel,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  Radio,\r\n  TextField,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\n\r\nimport styles from \"./Setting.module.css\";\r\n\r\nconst Setting = (props) => {\r\n  const [cardApi, setCardApi] = useState(\r\n    JSON.parse(localStorage.getItem(\"setting\")).cardApi\r\n  );\r\n  const [pageApi, setPageApi] = useState(\r\n    JSON.parse(localStorage.getItem(\"setting\")).pageApi\r\n  );\r\n  const [cors, setCors] = useState(\r\n    JSON.parse(localStorage.getItem(\"setting\")).cors.proxy\r\n  );\r\n  const [corsUrl, setCorsUrl] = useState(\r\n    JSON.parse(localStorage.getItem(\"setting\")).cors.url\r\n  );\r\n  const [helperText, setHelperText] = useState(\"\");\r\n\r\n  const apply = () => {\r\n    if (cors === \"custom\" && corsUrl === \"\") {\r\n      setHelperText(\"URL\");\r\n      return;\r\n    } else {\r\n      localStorage.setItem(\r\n        \"setting\",\r\n        JSON.stringify({\r\n          cardApi: cardApi,\r\n          pageApi: pageApi,\r\n          cors: {\r\n            proxy: cors,\r\n            url:\r\n              cors === \"custom\"\r\n                ? corsUrl.slice(-1) !== \"/\"\r\n                  ? corsUrl + \"/\"\r\n                  : corsUrl\r\n                : \"https://cors-anywhere.herokuapp.com/\",\r\n          },\r\n        })\r\n      );\r\n      props.close();\r\n      window.location.reload();\r\n    }\r\n  };\r\n\r\n  const cardApiChangeHandler = (event) => {\r\n    setCardApi(event.target.value);\r\n  };\r\n  const pageApiChangeHandler = (event) => {\r\n    setPageApi(event.target.value);\r\n  };\r\n\r\n  const corsChangeHandler = (event) => {\r\n    setCors(event.target.value);\r\n  };\r\n\r\n  const corsUrlChangeHandler = (event) => {\r\n    setCorsUrl(event.target.value);\r\n    if (event.target.value !== \"\") setHelperText(\"\");\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={props.open}\r\n      onClose={props.close}\r\n      maxWidth=\"lg\"\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle></DialogTitle>\r\n      <DialogContent>\r\n        <FormControl component=\"fieldset\">\r\n          <FormLabel component=\"legend\">API</FormLabel>\r\n          <RadioGroup value={cardApi} onChange={cardApiChangeHandler}>\r\n            <FormControlLabel\r\n              control={<Radio color=\"primary\" />}\r\n              value=\"default\"\r\n              label=\"Bangumi-Subject()\"\r\n            />\r\n            <FormControlLabel\r\n              control={<Radio color=\"primary\" />}\r\n              value=\"bangumiCORS\"\r\n              label=\"Bangumi API(CORS)\"\r\n            />\r\n            <FormControlLabel\r\n              control={<Radio color=\"primary\" />}\r\n              value=\"netabare\"\r\n              label=\"netaba.re\"\r\n            />\r\n          </RadioGroup>\r\n          <Divider className={styles.divider} />\r\n          <FormLabel component=\"legend\">API</FormLabel>\r\n          <RadioGroup value={pageApi} onChange={pageApiChangeHandler}>\r\n            <FormControlLabel\r\n              control={<Radio color=\"primary\" />}\r\n              value=\"default\"\r\n              label=\"Bangumi-Subject + Bangumi API(CORS)\"\r\n            />\r\n            <FormControlLabel\r\n              control={<Radio color=\"primary\" />}\r\n              value=\"netabare\"\r\n              label=\"Bangumi-Subject + Netaba.re\"\r\n            />\r\n          </RadioGroup>\r\n          <Divider className={styles.divider} />\r\n          <FormLabel component=\"legend\">CORS</FormLabel>\r\n          <RadioGroup value={cors} onChange={corsChangeHandler}>\r\n            <FormControlLabel\r\n              control={<Radio color=\"primary\" />}\r\n              value=\"heroku\"\r\n              label=\"cors-anywhere heroku()\"\r\n            />\r\n            <FormControlLabel\r\n              control={<Radio color=\"primary\" />}\r\n              value=\"custom\"\r\n              label={\r\n                <TextField\r\n                  id=\"cors-custom-url\"\r\n                  label=\"\"\r\n                  defaultValue={cors === \"custom\" ? corsUrl : \"\"}\r\n                  disabled={cors === \"custom\" ? false : true}\r\n                  margin=\"dense\"\r\n                  variant=\"outlined\"\r\n                  helperText={helperText}\r\n                  onChange={corsUrlChangeHandler}\r\n                />\r\n              }\r\n            />\r\n          </RadioGroup>\r\n        </FormControl>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={props.close} variant=\"outlined\" color=\"secondary\">\r\n          \r\n        </Button>\r\n        <Button onClick={apply} variant=\"outlined\" color=\"primary\">\r\n          \r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default Setting;\r\n","import React, { useState } from \"react\";\r\nimport { AppBar, Toolbar, IconButton, Typography } from \"@material-ui/core\";\r\nimport { Menu, Settings, GitHub, Cached } from \"@material-ui/icons\";\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nimport styles from \"./Topbar.module.css\";\r\nimport logo from \"../../assets/images/logo.png\";\r\nimport ResetAlert from \"../Reset/Reset\";\r\nimport SettingMenu from \"../Setting/Setting\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Topbar = (props) => {\r\n  const [openResetAlert, setOpenResetAlert] = useState(false);\r\n  const [openMenu, setOpenMenu] = useState(false);\r\n  let history = useHistory();\r\n\r\n  const resetAlert = () => {\r\n    setOpenResetAlert(true);\r\n  };\r\n\r\n  const closeAlert = () => {\r\n    setOpenResetAlert(false);\r\n  };\r\n\r\n  const settingMenu = () => {\r\n    setOpenMenu(true);\r\n  };\r\n\r\n  const closeMenu = () => {\r\n    setOpenMenu(false);\r\n  };\r\n\r\n  const forwardGithub = () => {\r\n    window.open(\"https://github.com/developer-haku/bangumi\");\r\n  };\r\n\r\n  const backToHome = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <AppBar className={styles.appbar} position=\"static\">\r\n      <Toolbar className={styles.toolbar}>\r\n        <IconButton\r\n          edge=\"start\"\r\n          color=\"inherit\"\r\n          aria-label=\"menu\"\r\n          onClick={props.toggleSidebar}\r\n        >\r\n          <Menu />\r\n        </IconButton>\r\n        {!isMobile && (\r\n          <React.Fragment>\r\n            <img\r\n              className={styles.logo}\r\n              src={logo}\r\n              alt=\"logo\"\r\n              onClick={backToHome}\r\n            />\r\n            <Typography\r\n              className={styles.name}\r\n              variant=\"h6\"\r\n              onClick={backToHome}\r\n            >\r\n              Bangumi\r\n            </Typography>\r\n          </React.Fragment>\r\n        )}\r\n        <div className={styles.right}>\r\n          <IconButton\r\n            className={styles.rightItem}\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            aria-label=\"github\"\r\n            onClick={forwardGithub}\r\n          >\r\n            <GitHub />\r\n          </IconButton>\r\n          <IconButton\r\n            className={styles.rightItem}\r\n            edge=\"end\"\r\n            onClick={resetAlert}\r\n            color=\"inherit\"\r\n            aria-label=\"cached\"\r\n          >\r\n            <Cached />\r\n          </IconButton>\r\n          <IconButton\r\n            className={styles.rightItem}\r\n            onClick={settingMenu}\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n          >\r\n            <Settings />\r\n          </IconButton>\r\n          {openResetAlert && (\r\n            <ResetAlert open={openResetAlert} close={closeAlert} />\r\n          )}\r\n          {openMenu && <SettingMenu open={openMenu} close={closeMenu} />}\r\n        </div>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Topbar;\r\n","import axios from \"axios\";\r\n\r\nimport { swapCoverPictureSize } from \"../../utils/utils\";\r\n\r\nconst fetchBangumiSubjectData = async (id) => {\r\n  const response = await axios\r\n    .get(`https://cdn.jsdelivr.net/gh/czy0729/Bangumi-Subject@master/data/${parseInt(id / 100)}/${id}.json`)\r\n    .catch((err) => console.log(`FAILED TO FETCH ID ${id} `));\r\n  \r\n  return response ? response.data : null;\r\n};\r\n\r\nconst reassembleBasicData = (data) => {\r\n  let reassembledData = {};\r\n  reassembledData.name = data ? data.name : null;\r\n  reassembledData.nameCn = null;\r\n  reassembledData.image = data ? data.image ? swapCoverPictureSize(data.image, \"l\") : \"\" : \"\";\r\n  reassembledData.score = data ? (data.rating ? data.rating.score : 0) : 0;\r\n  return reassembledData;\r\n};\r\n\r\nexport const getBangumiSubjectDataFull = async (id) => {\r\n  return await fetchBangumiSubjectData(id);\r\n};\r\n\r\nexport const getBangumiSubjectDataBasic = async (id) => {\r\n  let rawData = null;\r\n  await fetchBangumiSubjectData(id).then((data) => (rawData = data));\r\n  const basicData = reassembleBasicData(rawData);\r\n  return basicData;\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst fetchBangumiApiData = async (id, size, corsUrl) => {\r\n  const response = await axios\r\n    .get(`${corsUrl}https://api.bgm.tv/subject/${id}?responseGroup=${size}`)\r\n    .catch((err) => console.log(err));\r\n    \r\n  return response.data.code !== \"404\" ? response.data : null;\r\n};\r\n\r\nconst reassembleBasicData = (data) => {\r\n  let reassembledData = {};\r\n  reassembledData.name = data ? data.name : null;\r\n  reassembledData.nameCn = data ? (data[\"name_cn\"] !== \"\" ? data[\"name_cn\"] : null) : null;\r\n  reassembledData.image = data ? (data.images ? data.images.large : \"\") : \"\";\r\n  reassembledData.score = data ? (data.rating ? data.rating.score : 0) : 0;\r\n  return reassembledData;\r\n};\r\n\r\nexport const getBangumiApiDataFull = async (id, corsUrl) => {\r\n  return await fetchBangumiApiData(id, \"large\", corsUrl);\r\n};\r\n\r\nexport const getBangumiApiDataBasic = async (id, corsUrl) => {\r\n  let rawData = null;\r\n  await fetchBangumiApiData(id, \"small\", corsUrl).then((data) => (rawData = data));\r\n  const basicData = reassembleBasicData(rawData);\r\n  return basicData;\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst fetchNetabareData = async (id) => {\r\n  const EMPTY_OBJECT = { subject: {}, history: [] };\r\n  const response = await axios\r\n    .get(`https://api.netaba.re/archive/${id}`)\r\n    .catch((err) => console.log(err));\r\n\r\n  return response.data !== EMPTY_OBJECT ? response.data.subject : null;\r\n};\r\n\r\nconst reassembleBasicData = (data) => {\r\n  let reassembledData = {};\r\n  reassembledData.name = data ? data.name : null;\r\n  reassembledData.nameCn = data\r\n    ? data[\"name_cn\"] !== \"\"\r\n      ? data[\"name_cn\"]\r\n      : null\r\n    : null;\r\n  reassembledData.image = data ? (data.images ? data.images.large : \"\") : \"\";\r\n  reassembledData.score = data ? (data.rating ? data.rating.score : 0) : 0;\r\n  return reassembledData;\r\n};\r\n\r\nexport const getNetabareDataFull = async (id) => {\r\n  return await fetchNetabareData(id);\r\n};\r\n\r\nexport const getNetabareDataBasic = async (id) => {\r\n  let rawData = null;\r\n  await fetchNetabareData(id).then((data) => (rawData = data));\r\n  const basicData = reassembleBasicData(rawData);\r\n  return basicData;\r\n};\r\n","import { getBangumiApiDataFull } from \"./BangumiApi\";\r\nimport { getBangumiSubjectDataFull } from \"./BangumiSubject\";\r\nimport { getNetabareDataFull } from \"./Netabare\";\r\n\r\nexport const subjectApiMix = async (id, corsUrl) => {\r\n  let data = await getBangumiApiDataFull(id, corsUrl);\r\n  const bgmSbjData = await getBangumiSubjectDataFull(id);\r\n  data.production = bgmSbjData ? bgmSbjData.info : \"\";\r\n  data.tags = bgmSbjData ? bgmSbjData.tags : [];\r\n  data.cover = data.images ? data.images.large : \"\";\r\n  return data;\r\n};\r\n\r\nexport const subjectNetabareMix = async (id) => {\r\n  let data = await getNetabareDataFull(id);\r\n  const bgmSbjData = await getBangumiSubjectDataFull(id);\r\n  data.production = bgmSbjData ? bgmSbjData.info : \"\";\r\n  data.tags = bgmSbjData ? bgmSbjData.tags : [];\r\n  data.cover = data.images ? data.images.large : \"\";\r\n  return data;\r\n};\r\n","import * as API from \"./api\";\r\n\r\nexport default class AnimeDataService {\r\n  constructor() {\r\n    this.cardApi = JSON.parse(localStorage.getItem(\"setting\")).cardApi;\r\n    this.pageApi = JSON.parse(localStorage.getItem(\"setting\")).pageApi;\r\n    this.corsUrl = JSON.parse(localStorage.getItem(\"setting\")).cors.url;\r\n  }\r\n\r\n  getBangumiDataBasic = (id) => {\r\n    switch (this.cardApi) {\r\n      case \"default\":\r\n        return API.getBangumiSubjectDataBasic(id);\r\n      case \"bangumiCORS\":\r\n        return API.getBangumiApiDataBasic(id, this.corsUrl);\r\n      case \"netabare\":\r\n        return API.getNetabareDataBasic(id);\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  getBangumiDataFull = (id) => {\r\n    switch (this.pageApi) {\r\n      case \"default\":\r\n        return API.subjectApiMix(id, this.corsUrl);\r\n      case \"netabare\":\r\n        return API.subjectNetabareMix(id);\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Typography,\r\n  CardActions,\r\n  Menu,\r\n  MenuItem,\r\n  IconButton,\r\n  Fade,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  GetApp,\r\n  Home,\r\n  Info,\r\n  PlayCircleFilled,\r\n  Favorite,\r\n  FavoriteBorder,\r\n  MoreHoriz,\r\n} from \"@material-ui/icons\";\r\n\r\nimport AnimeDataService from \"../../service/AnimeDataService\";\r\nimport styles from \"./AnimeMiniCard.module.css\";\r\nimport NoCoverPlaceholderImage from \"../../assets/images/nocover.jpg\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst AnimeMiniCard = (props) => {\r\n  const [animeData, setAnimeData] = useState(null);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [isFav, setIsFav] = useState(false);\r\n  const history = useHistory();\r\n  const open = Boolean(anchorEl);\r\n  const ads = new AnimeDataService();\r\n  const siteMeta = JSON.parse(localStorage.getItem(\"bd_site_meta\"));\r\n  const bangumiId = props.anime.sites.find((i) => i.site === \"bangumi\").id;\r\n\r\n  useEffect(() => {\r\n    if (!animeData)\r\n      ads.getBangumiDataBasic(bangumiId).then((data) => {\r\n        setAnimeData(data);\r\n      });\r\n  }, [ads, animeData, bangumiId]);\r\n\r\n  useEffect(() => {\r\n    const favList = JSON.parse(localStorage.getItem(\"favorite\"));\r\n    if (favList.includes(bangumiId)) setIsFav(true);\r\n  }, [bangumiId]);\r\n\r\n  const title = props.anime.titleTranslate[\"zh-Hans\"]\r\n    ? props.anime.titleTranslate[\"zh-Hans\"]\r\n    : animeData\r\n    ? animeData.nameCn\r\n      ? animeData.nameCn\r\n      : animeData.name\r\n    : props.anime.title;\r\n\r\n  const bangumiRating = !animeData ? 0 : animeData.score === 0 ? \"X\" : animeData.score;\r\n\r\n  let menuItem = props.anime.sites\r\n    .map((site) => {\r\n      return (\r\n        <MenuItem\r\n          key={site.site}\r\n          onClick={() => siteHandler(site.site, site.id)}\r\n        >\r\n          {site.site === \"bangumi\" ? (\r\n            <Info className={styles.animeMenuIcon} />\r\n          ) : (\r\n            <PlayCircleFilled className={styles.animeMenuIcon} />\r\n          )}\r\n          {siteMeta[site.site].title}\r\n        </MenuItem>\r\n      );\r\n    })\r\n    .sort((a, b) => (a.key === \"bangumi\" ? 0 : 1));\r\n\r\n  menuItem.unshift(\r\n    <MenuItem\r\n      key=\"official\"\r\n      onClick={() => openTargetSite(props.anime.officialSite)}\r\n    >\r\n      <Home className={styles.animeMenuIcon} />\r\n      \r\n    </MenuItem>\r\n  );\r\n  menuItem.push(\r\n    <MenuItem\r\n      key=\"dmhy\"\r\n      onClick={() =>\r\n        openTargetSite(siteMeta.dmhy.urlTemplate.replace(\"{{id}}\", title))\r\n      }\r\n    >\r\n      <GetApp className={styles.animeMenuIcon} />\r\n      \r\n    </MenuItem>\r\n  );\r\n\r\n  const openTargetSite = (url) => {\r\n    window.open(url);\r\n  };\r\n\r\n  const siteHandler = (site, id) => {\r\n    window.open(siteMeta[site].urlTemplate.replace(\"{{id}}\", id));\r\n  };\r\n\r\n  const menuOpenHandler = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setMenuOpen(!menuOpen);\r\n  };\r\n\r\n  const menuCloseHandler = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const fav = () => {\r\n    let favList = JSON.parse(localStorage.getItem(\"favorite\"));\r\n    if (favList.includes(bangumiId)) {\r\n      favList.splice(favList.indexOf(bangumiId), 1);\r\n    } else {\r\n      favList.push(bangumiId);\r\n    }\r\n    localStorage.setItem(\"favorite\", JSON.stringify(favList));\r\n    setIsFav(!isFav);\r\n  };\r\n\r\n  const goFullInfoPage = () => {\r\n    history.push(\"/bangumi/\" + bangumiId);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Card variant=\"outlined\" className={styles.card}>\r\n        <CardMedia\r\n          className={styles.coverImage}\r\n          component=\"div\"\r\n          image={\r\n            animeData\r\n              ? animeData.image !== \"\"\r\n                ? animeData.image\r\n                : NoCoverPlaceholderImage\r\n              : NoCoverPlaceholderImage\r\n          }\r\n          onClick={goFullInfoPage}\r\n        />\r\n        <Typography className={styles.rating} variant=\"caption\">{bangumiRating}</Typography>\r\n        <CardContent className={styles.content}>\r\n          <Typography\r\n            className={styles.title}\r\n            variant=\"caption\"\r\n            onClick={goFullInfoPage}\r\n          >\r\n            {title}\r\n          </Typography>\r\n          <CardActions className={styles.actions}>\r\n            <IconButton className={styles.favBtn} size=\"small\" onClick={fav}>\r\n              {isFav ? <Favorite className={styles.favIcon} /> : <FavoriteBorder className={styles.favIcon} />}\r\n            </IconButton>\r\n            <IconButton\r\n              className={styles.moreBtn}\r\n              size=\"small\"\r\n              onClick={menuOpenHandler}\r\n            >\r\n              <MoreHoriz />\r\n            </IconButton>\r\n          </CardActions>\r\n        </CardContent>\r\n      </Card>\r\n      <Menu\r\n        elevation={1}\r\n        className={styles.animeMenu}\r\n        id=\"simple-menu\"\r\n        keepMounted\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={menuCloseHandler}\r\n        TransitionComponent={Fade}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n      >\r\n        {menuItem}\r\n      </Menu>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AnimeMiniCard;\r\n","import React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nimport AnimeMiniCard from \"../AnimeMiniCard/AnimeMiniCard\";\r\nimport styles from \"./AnimeColumnList.module.css\";\r\n\r\nimport SundayIcon from \"../../assets/images/weekdays/sunday.svg\";\r\nimport MondayIcon from \"../../assets/images/weekdays/monday.svg\";\r\nimport TuesdayIcon from \"../../assets/images/weekdays/tuesday.svg\";\r\nimport WednesdayIcon from \"../../assets/images/weekdays/wednesday.svg\";\r\nimport ThursdayIcon from \"../../assets/images/weekdays/thursday.svg\";\r\nimport FridayIcon from \"../../assets/images/weekdays/friday.svg\";\r\nimport SaturdayIcon from \"../../assets/images/weekdays/saturday.svg\";\r\n\r\nconst AnimeColumnList = (props) => {\r\n  const weekdayIcon = [\r\n    SundayIcon,\r\n    MondayIcon,\r\n    TuesdayIcon,\r\n    WednesdayIcon,\r\n    ThursdayIcon,\r\n    FridayIcon,\r\n    SaturdayIcon,\r\n  ];\r\n\r\n  const weekdayCN = [\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n    \"\",\r\n  ];\r\n\r\n  return (\r\n    <div className={styles.column}>\r\n      <img className={styles.icon} src={weekdayIcon[props.weekday]} alt=\"weekday-icon\" />\r\n      <Typography className={styles.weekday} variant=\"h6\" >{weekdayCN[props.weekday]}</Typography>\r\n      {props.list.map((l) => (\r\n        <AnimeMiniCard key={props.list.indexOf(l)} anime={l} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnimeColumnList;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./WeeklyAnimeList.module.css\";\r\nimport AnimeColumnList from \"../../AnimeColumnList/AnimeColumnList\";\r\nimport { getSeasonRange } from \"../../../utils/utils\";\r\n\r\nconst WeeklyAnimeList = (props) => {\r\n  const fullItems = JSON.parse(localStorage.getItem(\"bd_items\"));\r\n\r\n  const range = getSeasonRange(\r\n    new Date().getFullYear(),\r\n    new Date().getMonth() + 1\r\n  );\r\n\r\n  const selectedItems = fullItems.filter(\r\n    (item) =>\r\n      new Date(item.begin) >= new Date(range[0]) &&\r\n      new Date(item.begin) < new Date(range[1])\r\n  );\r\n\r\n  let list = [];\r\n\r\n  for (let day = 0; day < 7; day++) {\r\n    list.push(\r\n      selectedItems.filter((i) => {\r\n        return new Date(i.begin).getDay() === day;\r\n      })\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.weeklyAnimeList}>\r\n      {list.map((l) => {\r\n        return (\r\n          <AnimeColumnList\r\n            key={list.indexOf(l)}\r\n            list={l}\r\n            weekday={list.indexOf(l)}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WeeklyAnimeList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  CardActions,\r\n  Divider,\r\n  Fade,\r\n  Typography,\r\n  CardMedia,\r\n  Menu,\r\n  MenuItem,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport { Rating } from \"@material-ui/lab\";\r\nimport {\r\n  MoreVert,\r\n  FavoriteBorder,\r\n  Favorite,\r\n  Home,\r\n  GetApp,\r\n  Info,\r\n  PlayCircleFilled,\r\n} from \"@material-ui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nimport styles from \"./AnimeCard.module.css\";\r\nimport NoCoverPlaceholderImage from \"../../assets/images/nocover.jpg\";\r\nimport loadingPlaceHolderImage from \"../../assets/images/loading.svg\";\r\nimport AnimeDataService from \"../../service/AnimeDataService\";\r\n\r\nconst AnimeCard = React.memo((props) => {\r\n  const [animeData, setAnimeData] = useState(null);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [isFav, setIsFav] = useState(false);\r\n  const history = useHistory();\r\n  const open = Boolean(anchorEl);\r\n  const siteMeta = JSON.parse(localStorage.getItem(\"bd_site_meta\"));\r\n  const ads = new AnimeDataService();\r\n\r\n  useEffect(() => {\r\n    if (!animeData) {\r\n      ads.getBangumiDataBasic(props.bangumiId).then((data) => {\r\n        setAnimeData(data);\r\n      });\r\n    }\r\n  }, [ads, animeData, props.bangumiId]);\r\n\r\n  useEffect(() => {\r\n    const favList = JSON.parse(localStorage.getItem(\"favorite\"));\r\n    if (favList.includes(props.bangumiId)) setIsFav(true);\r\n  }, [props.bangumiId]);\r\n\r\n  const title = props.anime.titleTranslate[\"zh-Hans\"]\r\n    ? props.anime.titleTranslate[\"zh-Hans\"]\r\n    : animeData\r\n    ? animeData.nameCn\r\n      ? animeData.nameCn\r\n      : animeData.name\r\n    : props.anime.title;\r\n\r\n  const bangumiRating = !animeData ? 0 : animeData.score;\r\n\r\n  let menuItem = props.anime.sites\r\n    .map((site) => {\r\n      return (\r\n        <MenuItem\r\n          key={site.site}\r\n          className={styles.menuItem}\r\n          onClick={() => siteHandler(site.site, site.id)}\r\n        >\r\n          {site.site === \"bangumi\" ? (\r\n            <Info className={styles.animeMenuIcon} />\r\n          ) : (\r\n            <PlayCircleFilled className={styles.animeMenuIcon} />\r\n          )}\r\n          {siteMeta[site.site].title}\r\n        </MenuItem>\r\n      );\r\n    })\r\n    .sort((a, b) => (a.key === \"bangumi\" ? 0 : 1));\r\n\r\n  menuItem.unshift(\r\n    <MenuItem\r\n      key=\"official\"\r\n      className={styles.menuItem}\r\n      onClick={() => openTargetSite(props.anime.officialSite)}\r\n    >\r\n      <Home className={styles.animeMenuIcon} />\r\n      \r\n    </MenuItem>\r\n  );\r\n  menuItem.push(\r\n    <MenuItem\r\n      key=\"dmhy\"\r\n      className={styles.menuItem}\r\n      onClick={() =>\r\n        openTargetSite(siteMeta.dmhy.urlTemplate.replace(\"{{id}}\", title))\r\n      }\r\n    >\r\n      <GetApp className={styles.animeMenuIcon} />\r\n      \r\n    </MenuItem>\r\n  );\r\n\r\n  const openTargetSite = (url) => {\r\n    window.open(url);\r\n  };\r\n\r\n  const siteHandler = (site, id) => {\r\n    window.open(siteMeta[site].urlTemplate.replace(\"{{id}}\", id));\r\n  };\r\n\r\n  const menuOpenHandler = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setMenuOpen(!menuOpen);\r\n  };\r\n\r\n  const menuCloseHandler = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const fav = () => {\r\n    let favList = JSON.parse(localStorage.getItem(\"favorite\"));\r\n    if (favList.includes(props.bangumiId)) {\r\n      favList.splice(favList.indexOf(props.bangumiId), 1);\r\n    } else {\r\n      favList.push(props.bangumiId);\r\n    }\r\n    localStorage.setItem(\"favorite\", JSON.stringify(favList));\r\n    setIsFav(!isFav);\r\n  };\r\n\r\n  const goFullInfoPage = () => {\r\n    history.push(\"/bangumi/\" + props.bangumiId);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Card className={styles.card}>\r\n        <CardMedia\r\n          className={styles.coverImage}\r\n          image={\r\n            animeData\r\n              ? animeData.image\r\n                ? animeData.image\r\n                : NoCoverPlaceholderImage\r\n              : loadingPlaceHolderImage\r\n          }\r\n          title={title}\r\n          onClick={goFullInfoPage}\r\n        />\r\n        <CardContent className={styles.cardContent}>\r\n          <Typography\r\n            variant={isMobile ? \"caption\" : \"subtitle2\"}\r\n            className={styles.title}\r\n            onClick={goFullInfoPage}\r\n          >\r\n            {title}\r\n          </Typography>\r\n        </CardContent>\r\n        <CardContent className={styles.rating}>\r\n          <Rating\r\n            name=\"bangumi-rating\"\r\n            size=\"small\"\r\n            defaultValue={0}\r\n            value={bangumiRating / 2}\r\n            precision={0.1}\r\n            disabled={bangumiRating ? false : true}\r\n            readOnly\r\n          />\r\n          <Box className={styles.ratingNum}>\r\n            {bangumiRating ? bangumiRating : \"\"}\r\n          </Box>\r\n        </CardContent>\r\n        <Divider />\r\n        <CardActions className={styles.cardActions}>\r\n          <IconButton className={styles.favBtn} size=\"small\" onClick={fav}>\r\n            {isFav ? <Favorite className={styles.favIcon} /> : <FavoriteBorder className={styles.favIcon} />}\r\n          </IconButton>\r\n          <IconButton\r\n            className={styles.moreBtn}\r\n            size=\"small\"\r\n            onClick={menuOpenHandler}\r\n          >\r\n            <MoreVert />\r\n          </IconButton>\r\n        </CardActions>\r\n      </Card>\r\n      <Menu\r\n        className={styles.animeMenu}\r\n        id=\"simple-menu\"\r\n        keepMounted\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={menuCloseHandler}\r\n        TransitionComponent={Fade}\r\n        anchorOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n      >\r\n        {menuItem}\r\n      </Menu>\r\n    </React.Fragment>\r\n  );\r\n});\r\n\r\nexport default AnimeCard;\r\n","import React from \"react\";\r\n\r\nimport AnimeCard from \"../AnimeCard/AnimeCard\";\r\n\r\nconst AnimeList = React.memo((props) => {\r\n  return (\r\n    <React.Fragment>\r\n      {props.list.map((item) => {\r\n        const key = item.sites.find((i) => i.site === \"bangumi\").id;\r\n        return <AnimeCard key={key} anime={item} bangumiId={key} />;\r\n      })}\r\n    </React.Fragment>\r\n  );\r\n});\r\n\r\nexport default AnimeList;\r\n","import React from \"react\";\r\nimport { Card, CardContent, CardActions, Divider } from \"@material-ui/core\";\r\nimport { Skeleton } from \"@material-ui/lab\";\r\n\r\nimport styles from \"./AnimeCard.module.css\";\r\n\r\nconst AnimeCardSkeleton = () => {\r\n  return (\r\n    <Card className={styles.card}>\r\n      <Skeleton\r\n        height={225}\r\n        variant=\"rect\"\r\n        animation=\"wave\"\r\n        className={styles.coverImage}\r\n      />\r\n      <CardContent className={styles.cardContent}>\r\n        <Skeleton variant=\"text\" animation=\"wave\" className={styles.title} />\r\n      </CardContent>\r\n      <CardContent className={styles.rating}>\r\n        <Skeleton\r\n          variant=\"text\"\r\n          animation=\"wave\"\r\n          width=\"60%\"\r\n          className={styles.ratingSkl}\r\n        />\r\n      </CardContent>\r\n      <Divider />\r\n      <CardActions className={styles.cardActions}>\r\n        <Skeleton\r\n          variant=\"circle\"\r\n          animation=\"wave\"\r\n          height={28}\r\n          width={28}\r\n          className={styles.favIcon}\r\n        />\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default AnimeCardSkeleton;\r\n","import React from \"react\";\r\n\r\nimport AnimeCardSkeleton from \"../AnimeCard/AnimeCardSkeleton\";\r\n\r\nconst AnimeListSkeleton = () => {\r\n  let list = [];\r\n\r\n  for (let i = 0; i < 60; i++) {\r\n    list.push(i);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {list.map((l) => (\r\n        <AnimeCardSkeleton key={l} />\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AnimeListSkeleton;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\n// import styles from \"./SeasonAnimeList.module.css\";\r\nimport AnimeList from \"../AnimeList\";\r\nimport AnimeListSkeleton from \"../AnimeListSkeleton\";\r\nimport { getSeasonRange } from \"../../../utils/utils\";\r\n\r\nconst SeasonAnimeList = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [seasonItems, setSeasonItems] = useState([]);\r\n  let { year, month } = useParams();\r\n  let history = useHistory();\r\n\r\n  if (!parseInt(year) || !parseInt(month)) {\r\n    history.replace(\"/error\");\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Get season begin time and end time\r\n    const range = getSeasonRange(year, month);\r\n    // Get all animes\r\n    const fullItems = JSON.parse(localStorage.getItem(\"bd_items\"));\r\n\r\n    // Filter Selected Season\r\n    const selectedItems = fullItems.filter(\r\n      (item) =>\r\n        new Date(item.begin) >= new Date(range[0]) &&\r\n        new Date(item.begin) < new Date(range[1])\r\n    );\r\n    setSeasonItems(selectedItems);\r\n    setLoading(false);\r\n  }, [month, setSeasonItems, year]);\r\n\r\n  return loading ? <AnimeListSkeleton /> : <AnimeList list={seasonItems} />;\r\n};\r\n\r\nexport default SeasonAnimeList;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Card, CardMedia } from \"@material-ui/core\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"./SeasonCard.module.css\";\r\nimport { getRandomAnime } from \"../../../../../utils/utils\";\r\nimport NotFoundImage from \"../../../../../assets/images/season_empty.jpg\";\r\nimport NotAirImage from \"../../../../../assets/images/not_air.jpg\";\r\nimport AnimeDataService from \"../../../../../service/AnimeDataService\";\r\n\r\n// Icon by mynamepong @ https://www.flaticon.com/authors/mynamepong\r\nimport SpringIcon from \"../../../../../assets/images/seasons/spring.svg\";\r\n// Icon by Freepik @ https://www.flaticon.com/authors/freepik\r\nimport SummerIcon from \"../../../../../assets/images/seasons/summer.svg\";\r\nimport AutumnIcon from \"../../../../../assets/images/seasons/autumn.svg\";\r\nimport WinterIcon from \"../../../../../assets/images/seasons/winter.svg\";\r\n\r\nconst SeasonCard = (props) => {\r\n  const [buttonStyle, setButtonStyle] = useState(styles.bottomButton);\r\n  const [coverImage, setCoverImage] = useState(\"\");\r\n  const [imageStyle, setImageStyle] = useState(styles.coverImage);\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const prevYear = usePrevious(props.year);\r\n  const ads = new AnimeDataService();\r\n\r\n  let cardStyle = styles.card;\r\n  const seasonStarted =\r\n    new Date(props.year, parseInt(props.month) - 1) < new Date();\r\n  const seasonIcon =\r\n    props.season === \"SPRING\"\r\n      ? SpringIcon\r\n      : props.season === \"SUMMER\"\r\n      ? SummerIcon\r\n      : props.season === \"AUTUMN\"\r\n      ? AutumnIcon\r\n      : WinterIcon;\r\n\r\n  useEffect(() => {\r\n    if (coverImage === \"\" || prevYear !== props.year) {\r\n      let randomId = getRandomAnime(props.year, props.month);\r\n      if (randomId !== 0)\r\n        ads.getBangumiDataBasic(randomId).then((data) => {\r\n          setCoverImage(data.image);\r\n        });\r\n      else setCoverImage(NotFoundImage);\r\n    }\r\n  }, [ads, coverImage, prevYear, props.month, props.year]);\r\n\r\n  /** code for css */\r\n  if (props.left) cardStyle += \" \" + styles.leftCard;\r\n  else if (props.center) cardStyle += \" \" + styles.centerCard;\r\n  else if (props.right) cardStyle += \" \" + styles.rightCard;\r\n\r\n  if (seasonStarted) cardStyle += \" \" + styles.pointer;\r\n\r\n  const showBottomButton = () => {\r\n    if (seasonStarted) {\r\n      setButtonStyle(buttonStyle + \" \" + styles.moveButtonUp);\r\n      setImageStyle(imageStyle + \" \" + styles.imgTransform);\r\n    }\r\n  };\r\n\r\n  const hideBottomButton = () => {\r\n    setButtonStyle(styles.bottomButton);\r\n    setImageStyle(styles.coverImage);\r\n  };\r\n\r\n  //********************************************************//\r\n\r\n  const seasonRedirect = () => {\r\n    if (seasonStarted) history.push(location.pathname + \"/\" + props.month);\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      className={cardStyle}\r\n      onMouseOver={showBottomButton}\r\n      onMouseOut={hideBottomButton}\r\n      onClick={seasonRedirect}\r\n    >\r\n      <CardMedia\r\n        className={imageStyle}\r\n        component=\"img\"\r\n        image={seasonStarted ? coverImage : NotAirImage}\r\n      />\r\n      <div className={buttonStyle}>\r\n        <div className={styles.buttonText}>\r\n          <img\r\n            className={styles.seasonIcon}\r\n            src={seasonIcon}\r\n            alt={props.season}\r\n          />\r\n          <p className={styles.buttonTextSeason}>\r\n            {props.year + \"\" + parseInt(props.month) + \"\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\n// Custom hook\r\nfunction usePrevious(value) {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n}\r\n\r\nexport default SeasonCard;\r\n","import React from \"react\";\r\nimport { ButtonGroup, Divider } from \"@material-ui/core\";\r\n\r\nimport SeasonButton from \"./SeasonCard/SeasonCard\";\r\nimport styles from \"./SeasonCards.module.css\";\r\n\r\nconst SeasonCard = (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <Divider />\r\n      <ButtonGroup className={styles.season}>\r\n        <SeasonButton\r\n          season=\"WINTER\"\r\n          character=\"\"\r\n          left\r\n          year={props.year}\r\n          month=\"01\"\r\n        />\r\n        <SeasonButton\r\n          season=\"SPRING\"\r\n          character=\"\"\r\n          center\r\n          year={props.year}\r\n          month=\"04\"\r\n        />\r\n        <SeasonButton\r\n          season=\"SUMMER\"\r\n          character=\"\"\r\n          center\r\n          year={props.year}\r\n          month=\"07\"\r\n        />\r\n        <SeasonButton\r\n          season=\"AUTUMN\"\r\n          character=\"\"\r\n          right\r\n          year={props.year}\r\n          month=\"10\"\r\n        />\r\n      </ButtonGroup>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SeasonCard;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Pagination } from \"@material-ui/lab\";\r\n\r\nimport { getAnnualRange } from \"../../../../utils/utils\";\r\nimport AnimeList from \"../../AnimeList\";\r\nimport AnimeListSkeleton from \"../../AnimeListSkeleton\";\r\nimport styles from \"./PaginationAnimeList.module.css\";\r\n\r\nconst PaginationAnimeList = (props) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [animes, setAnimes] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [currentAnimes, setCurrentAnimes] = useState([]);\r\n  const [animePerPage] = useState(getAnimePerPageByResolution());\r\n\r\n  useEffect(() => {\r\n    console.log(\"again\");\r\n    // Get season begin time and end time\r\n    const range = getAnnualRange(props.year);\r\n    // Get all animes\r\n    const fullItems = JSON.parse(localStorage.getItem(\"bd_items\"));\r\n    // Filter Selected Season\r\n    const selectedItems = fullItems.filter(\r\n      (item) =>\r\n        new Date(item.begin) >= new Date(range[0]) &&\r\n        new Date(item.begin) < new Date(range[1])\r\n    );\r\n    setAnimes(selectedItems);\r\n  }, [props.year]);\r\n\r\n  useEffect(() => {\r\n    const indexOfLastAnime = currentPage * animePerPage;\r\n    const indexOfFirstAnime = indexOfLastAnime - animePerPage;\r\n    const slice = animes.slice(indexOfFirstAnime, indexOfLastAnime);\r\n    setCurrentAnimes(slice);\r\n    setLoading(false);\r\n  }, [animePerPage, animes, currentPage]);\r\n\r\n  const pageChangeHandler = (event, value) => setCurrentPage(value);\r\n\r\n  return (\r\n    <div>\r\n      {loading ? <AnimeListSkeleton /> : <AnimeList list={currentAnimes} />}\r\n      <Pagination\r\n        className={styles.pagination}\r\n        count={Math.ceil(animes.length / animePerPage)}\r\n        page={currentPage}\r\n        onChange={pageChangeHandler}\r\n        showFirstButton\r\n        showLastButton\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst getAnimePerPageByResolution = () => {\r\n  return parseInt((window.screen.width - 250) / 160) * 3;\r\n};\r\n\r\nexport default PaginationAnimeList;\r\n","import React from \"react\";\r\nimport { Tabs, Tab } from \"@material-ui/core\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport styles from \"./AnnualAnimeList.module.css\";\r\nimport SeasonCards from \"./SeasonCards/SeasonCards\";\r\nimport PaginationAnimeList from \"./PaginationAnimeList/PaginationAnimeList\";\r\n\r\nconst AnnualAnimeList = (props) => {\r\n  let { year } = useParams();\r\n  let history = useHistory();\r\n\r\n  if(!parseInt(year)) {\r\n    history.replace(\"/error\");\r\n  }\r\n\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={props.openSidebar ? styles.seasons : styles.seasonsFullWidth}\r\n    >\r\n      <Tabs\r\n        value={value}\r\n        onChange={handleChange}\r\n        indicatorColor=\"primary\"\r\n        textColor=\"primary\"\r\n        variant=\"fullWidth\"\r\n        aria-label=\"full width tabs example\"\r\n      >\r\n        <Tab label=\"\" {...a11yProps(0)} />\r\n        <Tab label=\"\" {...a11yProps(1)} />\r\n      </Tabs>\r\n      <TabPanel value={value} index={0}>\r\n        <SeasonCards year={year} />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <PaginationAnimeList year={year} />\r\n      </TabPanel>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `scrollable-auto-tab-${index}`,\r\n    \"aria-controls\": `scrollable-auto-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`scrollable-auto-tabpanel-${index}`}\r\n      aria-labelledby={`scrollable-auto-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <div>{children}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AnnualAnimeList;\r\n","import React from \"react\";\r\nimport { Link, Typography } from \"@material-ui/core\";\r\nimport { ArrowBackIosRounded } from \"@material-ui/icons\";\r\n\r\nimport Logo from \"../../assets/images/logo.png\";\r\nimport Myne from \"../../assets/images/myne_sit.png\";\r\nimport styles from \"./Home.module.css\";\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div className={styles.home}>\r\n      <img className={styles.logo} src={Logo} alt=\"logo\" />\r\n      <Typography className={styles.title} variant=\"h2\" align=\"center\">\r\n        Bangumi\r\n      </Typography>\r\n      <Typography paragraph align=\"center\">\r\n        \r\n        <Link href=\"https://github.com/bangumi-data/bangumi-data\">\r\n          bangumi-data\r\n        </Link>\r\n        <Link href=\"https://github.com/bangumi/api\">Bangumi API</Link>\r\n        \r\n      </Typography>\r\n      <Typography paragraph align=\"center\">\r\n        <ArrowBackIosRounded className={styles.arrowIcon} />\r\n        \r\n      </Typography>\r\n      <Typography paragraph align=\"center\">\r\n        bugGitHub\r\n      </Typography>\r\n      <div className={styles.badges}>\r\n        <Link href=\"https://github.com/developer-haku/bangumi/blob/master/LICENSE\">\r\n          <img\r\n            className={styles.badge}\r\n            alt=\"GitHub\"\r\n            src=\"https://img.shields.io/github/license/developer-haku/bangumi?style=flat-square\"\r\n          />\r\n        </Link>\r\n        <Link href=\"https://github.com/developer-haku/bangumi\">\r\n          <img\r\n            className={styles.badge}\r\n            alt=\"GitHub package.json version (branch)\"\r\n            src=\"https://img.shields.io/github/package-json/v/developer-haku/bangumi/master?label=Build&logo=github&style=flat-square\"\r\n          />\r\n        </Link>\r\n        <Link href=\"https://github.com/developer-haku/bangumi/issues/new\">\r\n          <img\r\n            className={styles.badge}\r\n            alt=\"GitHub Issue\"\r\n            src=\"https://img.shields.io/badge/GitHub-%E6%8F%90%E4%BA%A4%E9%97%AE%E9%A2%98-red?style=flat-square&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xMSAxNWgydjJoLTJ6bTAtOGgydjZoLTJ6bS45OS01QzYuNDcgMiAyIDYuNDggMiAxMnM0LjQ3IDEwIDkuOTkgMTBDMTcuNTIgMjIgMjIgMTcuNTIgMjIgMTJTMTcuNTIgMiAxMS45OSAyek0xMiAyMGMtNC40MiAwLTgtMy41OC04LThzMy41OC04IDgtOCA4IDMuNTggOCA4LTMuNTggOC04IDh6Ii8%2BPC9zdmc%2B\"\r\n          />\r\n        </Link>\r\n        <Link href=\"https://www.jsdelivr.com/package/npm/bangumi-data\">\r\n          <img\r\n            alt=\"GitHub package.json version (branch)\"\r\n            src=\"https://img.shields.io/github/package-json/v/bangumi-data/bangumi-data/master?label=bangumi-data&style=flat-square&logo=jsdelivr\"\r\n          />\r\n        </Link>\r\n      </div>\r\n      <img className={styles.myne} src={Myne} alt=\"myne\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport AnimeList from \"../AnimeList\";\r\nimport AnimeListSkeleton from \"../AnimeListSkeleton\";\r\nimport { Typography, Divider } from \"@material-ui/core\";\r\n\r\nconst FavoritedAnimeList = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [items, setItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const favorite = JSON.parse(localStorage.getItem(\"favorite\"));\r\n    const filteredItems = JSON.parse(localStorage.getItem(\"bd_items\")).filter(\r\n      (item) => {\r\n        return favorite.includes(\r\n          item.sites.find((i) => i.site === \"bangumi\").id\r\n        );\r\n      }\r\n    );\r\n    setItems(filteredItems);\r\n    setLoading(false);\r\n  }, []);\r\n  return loading ? (\r\n    <AnimeListSkeleton />\r\n  ) : (\r\n    <React.Fragment>\r\n      <Typography variant=\"body1\" align=\"center\">\r\n        ~\r\n      </Typography>\r\n      <Divider />\r\n      <AnimeList list={items} />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default FavoritedAnimeList;\r\n","import React from \"react\";\r\nimport { Button, Typography } from \"@material-ui/core\";\r\nimport { Home, History } from \"@material-ui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Myne from \"../../assets/images/myne_cry.png\";\r\nimport styles from \"./Error.module.css\";\r\n\r\nconst Error = () => {\r\n  let history = useHistory();\r\n\r\n  const goHome = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const goBack = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  return (\r\n    <div className={styles.error}>\r\n      <img className={styles.myne} src={Myne} alt=\"Myne\" />\r\n      <Typography variant=\"h4\" paragraph align=\"center\">\r\n        \r\n      </Typography>\r\n      <div className={styles.buttons}>\r\n        <Button\r\n          className={styles.button}\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          startIcon={<History />}\r\n          onClick={goBack}\r\n        >\r\n          \r\n        </Button>\r\n        <Button\r\n          className={styles.button}\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          startIcon={<Home />}\r\n          onClick={goHome}\r\n        >\r\n          \r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, Typography, IconButton } from \"@material-ui/core\";\r\nimport {\r\n  AccessTime,\r\n  CalendarToday,\r\n  Favorite,\r\n  FavoriteBorder,\r\n} from \"@material-ui/icons\";\r\nimport { Rating } from \"@material-ui/lab\";\r\n\r\nimport styles from \"./TitleSection.module.css\";\r\nimport {\r\n  translateWeekday,\r\n  getLocalBangumiDataById,\r\n} from \"../../../../utils/utils\";\r\n\r\nconst TitleSection = (props) => {\r\n  const [isFav, setIsFav] = useState(false);\r\n  const weekday = translateWeekday(props.weekday);\r\n  const siteMeta = JSON.parse(localStorage.getItem(\"bd_site_meta\"));\r\n  const data = getLocalBangumiDataById(props.id.toString());\r\n  let links = null;\r\n\r\n  useEffect(() => {\r\n    const favList = JSON.parse(localStorage.getItem(\"favorite\"));\r\n    if (favList.includes(props.id.toString())) setIsFav(true);\r\n  }, [props.id]);\r\n\r\n  if (data.length === 1) {\r\n    links = data[0].sites\r\n      .map((site) => {\r\n        return (\r\n          <Link\r\n            className={styles.link}\r\n            color=\"inherit\"\r\n            key={site.site}\r\n            onClick={() => siteHandler(site.site, site.id)}\r\n          >\r\n            {siteMeta[site.site].title}\r\n          </Link>\r\n        );\r\n      })\r\n      .sort((a, b) => (a.key === \"bangumi\" ? 0 : 1));\r\n\r\n    links.unshift(\r\n      <Link\r\n        className={styles.link}\r\n        key=\"official\"\r\n        color=\"inherit\"\r\n        onClick={() => openTargetSite(data[0].officialSite)}\r\n      >\r\n        \r\n      </Link>\r\n    );\r\n\r\n    links.push(\r\n      <Link\r\n        className={styles.link}\r\n        color=\"inherit\"\r\n        key=\"dmhy\"\r\n        onClick={() =>\r\n          openTargetSite(\r\n            siteMeta.dmhy.urlTemplate.replace(\"{{id}}\", props.titleCN)\r\n          )\r\n        }\r\n      >\r\n        \r\n      </Link>\r\n    );\r\n  }\r\n\r\n  const openTargetSite = (url) => {\r\n    window.open(url);\r\n  };\r\n\r\n  const siteHandler = (site, id) => {\r\n    window.open(siteMeta[site].urlTemplate.replace(\"{{id}}\", id));\r\n  };\r\n\r\n  const fav = () => {\r\n    let favList = JSON.parse(localStorage.getItem(\"favorite\"));\r\n    if (favList.includes(props.id.toString())) {\r\n      favList.splice(favList.indexOf(props.id.toString()), 1);\r\n    } else {\r\n      favList.push(props.id.toString());\r\n    }\r\n    localStorage.setItem(\"favorite\", JSON.stringify(favList));\r\n    setIsFav(!isFav);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.titleSection}>\r\n      <img className={styles.coverImage} src={props.image} alt=\"coverimage\" />\r\n      <div className={styles.titleInfo}>\r\n        <div className={styles.basicInfo}>\r\n          <Typography variant=\"h5\" className={styles.titleCN}>\r\n            {props.titleCN !== \"\" ? props.titleCN : props.titleJP}\r\n            <IconButton className={styles.favIcon} size=\"small\" onClick={fav}>\r\n              {isFav ? <Favorite /> : <FavoriteBorder />}\r\n            </IconButton>\r\n          </Typography>\r\n          <Typography variant=\"subtitle2\" className={styles.titleJP}>\r\n            {props.titleJP}\r\n          </Typography>\r\n          <Typography className={styles.bangumiRating} variant=\"subtitle2\">\r\n            Bangumi\r\n            <Rating\r\n              className={styles.rating}\r\n              name=\"bangumi-rating\"\r\n              size=\"small\"\r\n              max={10}\r\n              defaultValue={0}\r\n              value={props.rating}\r\n              precision={0.1}\r\n              disabled={props.rating ? false : true}\r\n              readOnly\r\n            />\r\n            {props.rating}\r\n          </Typography>\r\n          <Typography className={styles.time} variant=\"subtitle2\">\r\n            <AccessTime fontSize=\"small\" className={styles.icon} />\r\n            {props.airDate}\r\n            {\" | \"}\r\n            <CalendarToday fontSize=\"small\" className={styles.icon} />\r\n            {weekday}\r\n          </Typography>\r\n          <Typography className={styles.links} variant=\"subtitle2\">\r\n            {links.map((link) => {\r\n              return [\r\n                link,\r\n                links.indexOf(link) === links.length - 1 ? \"\" : \" | \",\r\n              ];\r\n            })}\r\n          </Typography>\r\n        </div>\r\n        <div className={styles.summaryInfo}>\r\n          <Typography variant=\"subtitle2\" className={styles.summary}>\r\n            {props.summary}\r\n          </Typography>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TitleSection;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./ProductionDetail.module.css\";\r\nimport { Typography, Divider } from \"@material-ui/core\";\r\n\r\nconst ProductionDetail = (props) => {\r\n  const infoList = props.info.match(/(?<=<li>)([\\s\\S]*?)(?=<\\/li>)/gm);\r\n\r\n  const parsedInfo =\r\n    infoList && infoList.map((m) => m.replace(/(<([^>]+)>)/gi, \"\"));\r\n\r\n  return (\r\n    <div className={styles.productionDetail}>\r\n      <Typography variant=\"body1\" className={styles.header}></Typography>\r\n      <Divider className={styles.divider} />\r\n      {infoList &&\r\n        parsedInfo.map((m) => {\r\n          return (\r\n            <Typography\r\n              className={styles.parsedInfo}\r\n              key={Math.random()}\r\n              variant=\"subtitle2\"\r\n            >\r\n              {m}\r\n            </Typography>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductionDetail;\r\n","import React from \"react\";\r\nimport { Button, Tooltip, withStyles } from \"@material-ui/core\";\r\n\r\nimport styles from \"./EpisodeButton.module.css\";\r\n\r\nconst HtmlTooltip = withStyles((theme) => ({\r\n  tooltip: {\r\n    backgroundColor: \"#f5f5f9\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    maxWidth: 220,\r\n    fontSize: theme.typography.pxToRem(12),\r\n    border: \"1px solid #dadde9\",\r\n  },\r\n}))(Tooltip);\r\n\r\nconst EpisodeButton = (props) => {\r\n  return (\r\n    // <React.Fragment>\r\n    <HtmlTooltip\r\n      title={\r\n        <React.Fragment>\r\n          <p>\r\n            {\"\" + props.eps.sort + \"\"}{\" \"}\r\n            {props.eps[\"name_cn\"] !== \"\"\r\n              ? \": \" + props.eps[\"name_cn\"]\r\n              : props.eps.name !== \"\"\r\n              ? \"\" + props.eps.name\r\n              : \"\"}\r\n          </p>\r\n          <span>\r\n            {\"\" + props.eps.airdate}\r\n            {props.eps.status === \"Air\" ? \"\" : \"()\"}\r\n          </span>\r\n        </React.Fragment>\r\n      }\r\n    >\r\n      <Button\r\n        data-tip\r\n        data-for={\"\" + props.eps.id}\r\n        className={styles.button}\r\n        variant={props.eps.status === \"Air\" ? \"contained\" : \"outlined\"}\r\n        size=\"small\"\r\n        color=\"primary\"\r\n        disableElevation\r\n        disableRipple\r\n        onClick={() => {\r\n          window.open(props.eps.url);\r\n        }}\r\n      >\r\n        {JSON.stringify(props.eps.sort)}\r\n      </Button>\r\n    </HtmlTooltip>\r\n  );\r\n};\r\n\r\nexport default EpisodeButton;\r\n","import React from \"react\";\r\nimport { Typography, Divider } from \"@material-ui/core\";\r\n\r\nimport styles from \"./EpisodeDetail.module.css\";\r\nimport EpisodeButton from \"./EpisodeButton/EpisodeButton\";\r\n\r\nconst EpisodeDetail = (props) => {\r\n  return (\r\n    <div className={styles.episodeDetail}>\r\n      <Typography variant=\"body1\" className={styles.header}>\r\n        \r\n      </Typography>\r\n      <Divider className={styles.divider} />\r\n      <div className={styles.episodeList}>\r\n        {props.episodes.map((eps) => (\r\n          <EpisodeButton eps={eps} key={eps.id} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EpisodeDetail;\r\n","import React, { useState } from \"react\";\r\nimport { Card, CardMedia, Typography } from \"@material-ui/core\";\r\n\r\nimport styles from \"./CharacterCard.module.css\";\r\nimport ProfilePlaceholderImage from \"../../../../../../assets/images/profile_placeholder.png\";\r\nimport CharacterPlaceholderImage from \"../../../../../../assets/images/CharacterPlaceholder.jpg\";\r\n\r\nconst CharacterCard = (props) => {\r\n  const characterImage = props.character.images\r\n    ? props.character.images.large\r\n    : CharacterPlaceholderImage;\r\n  const [cardImage, setCardImage] = useState(characterImage);\r\n\r\n  const swapImage = () => {\r\n    if (cardImage === characterImage) {\r\n      setCardImage(\r\n        props.character.actors && props.character.actors[0].images\r\n          ? props.character.actors[0].images.large\r\n          : ProfilePlaceholderImage\r\n      );\r\n    } else {\r\n      setCardImage(characterImage);\r\n    }\r\n  };\r\n\r\n  let info = [];\r\n  if (props.character.info) {\r\n    props.character.info.gender &&\r\n      info.push(\r\n        <Typography key=\"gender\" variant=\"body2\">\r\n          {\"\" + props.character.info.gender}\r\n        </Typography>\r\n      );\r\n    props.character.info.birth &&\r\n      info.push(\r\n        <Typography key=\"birth\" variant=\"body2\">\r\n          {\"\" + props.character.info.birth}\r\n        </Typography>\r\n      );\r\n    props.character.info.height &&\r\n      info.push(\r\n        <Typography key=\"height\" variant=\"body2\">\r\n          {\"\" + props.character.info.height}\r\n        </Typography>\r\n      );\r\n    props.character.info.bloodtype &&\r\n      info.push(\r\n        <Typography key=\"bloodtype\" variant=\"body2\">\r\n          {\"\" + props.character.info.bloodtype}\r\n        </Typography>\r\n      );\r\n    props.character.info.bwh &&\r\n      info.push(\r\n        <Typography key=\"bwh\" variant=\"body2\">\r\n          {\"\" + props.character.info.bwh}\r\n        </Typography>\r\n      );\r\n  }\r\n\r\n  return (\r\n    <Card className={styles.characterCard}>\r\n      <CardMedia\r\n        className={styles.characterImage}\r\n        image={cardImage}\r\n        onClick={swapImage}\r\n      />\r\n      <div className={styles.charaInfo}>\r\n        <Typography variant=\"caption\" className={styles.role}>\r\n          {props.character[\"role_name\"]}\r\n        </Typography>\r\n        <Typography className={styles.actors} variant=\"caption\">\r\n          {props.character.actors\r\n            ? \"CV: \" + props.character.actors[0].name\r\n            : \"CV\"}\r\n        </Typography>\r\n        <Typography variant=\"body1\">{props.character.name}</Typography>\r\n        {props.character.info &&\r\n          props.character.info.alias &&\r\n          props.character.info.alias.kana && (\r\n            <Typography variant=\"body2\">\r\n              {\"\" + props.character.info.alias.kana}\r\n            </Typography>\r\n          )}\r\n        {props.character[\"name_cn\"] === \"\" ? null : (\r\n          <Typography variant=\"body2\">\r\n            {\"\" + props.character[\"name_cn\"]}\r\n          </Typography>\r\n        )}\r\n        {info}\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default CharacterCard;\r\n","import React from \"react\";\r\nimport { Typography, Divider } from \"@material-ui/core\";\r\n\r\nimport styles from \"./CharacterDetail.module.css\";\r\nimport CharacterCard from \"./CharacterCard/CharacterCard\";\r\n\r\nconst CharacterDetail = (props) => {\r\n  return (\r\n    <div className={styles.characterDetail}>\r\n      <Typography variant=\"body1\" className={styles.header}>\r\n         <Typography variant=\"caption\">()</Typography>\r\n      </Typography>\r\n      <Divider className={styles.divider} />\r\n      <div className={styles.characterList} >\r\n        {props.characters.map((character) => (\r\n          <CharacterCard key={character.id} character={character} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CharacterDetail;\r\n","import React from \"react\";\r\nimport { Card, CardMedia, Typography } from \"@material-ui/core\";\r\n\r\nimport ProfilePlaceholderImage from \"../../../../../../assets/images/profile_placeholder.png\";\r\nimport styles from \"./StaffCard.module.css\";\r\n\r\nconst StaffCard = (props) => {\r\n  return (\r\n    <Card className={styles.staffCard}>\r\n      <CardMedia\r\n        className={styles.profileImage}\r\n        image={\r\n          props.staff.images\r\n            ? props.staff.images.medium\r\n            : ProfilePlaceholderImage\r\n        }\r\n        onClick={() => {\r\n          window.open(props.staff.url);\r\n        }}\r\n      />\r\n      <div className={styles.staffInfo}>\r\n        <Typography variant=\"body1\">{props.staff.name}</Typography>\r\n        {props.staff[\"name_cn\"] === \"\" ? null : (\r\n          <Typography variant=\"body2\">\r\n            {\"\" + props.staff[\"name_cn\"]}\r\n          </Typography>\r\n        )}\r\n        {props.staff.jobs.map((job) => (\r\n          <Typography key={job} className={styles.job} variant=\"caption\">\r\n            {job}\r\n          </Typography>\r\n        ))}\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default StaffCard;\r\n","import React from \"react\";\r\nimport { Typography, Divider } from \"@material-ui/core\";\r\n\r\nimport StaffCard from \"./StaffCard/StaffCard\";\r\nimport styles from \"./StaffDetail.module.css\";\r\n\r\nconst StaffDetail = (props) => {\r\n  return (\r\n    <div className={styles.staffDetail}>\r\n      <Typography variant=\"body1\" className={styles.header}>\r\n        \r\n      </Typography>\r\n      <Divider className={styles.divider} />\r\n      <div className={styles.staffList}>\r\n      {props.staffs.map((staff) => (\r\n        <StaffCard key={staff.id} staff={staff} />\r\n      ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffDetail;\r\n","import React from \"react\";\r\nimport {\r\n  LinearProgress,\r\n  Tooltip,\r\n  Typography,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\n\r\nimport styles from \"./RatingDetail.module.css\";\r\n\r\nconst RatingDetail = (props) => {\r\n  let ratingChart = [];\r\n\r\n  for (let i = 1; i < 11; i++) {\r\n    ratingChart.push(\r\n      <React.Fragment key={i}>\r\n        <Typography className={styles.ratingNum} variant=\"caption\">\r\n          {i}\r\n        </Typography>\r\n        <Tooltip title={props.rating.count[`${i}`]}>\r\n          <LinearProgress\r\n            className={styles.bar}\r\n            variant=\"determinate\"\r\n            value={parseInt(\r\n              (props.rating.count[`${i}`] / props.rating.total) * 100\r\n            )}\r\n            valueBuffer={100}\r\n          />\r\n        </Tooltip>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.ratingDetail}>\r\n      <Typography variant=\"body1\" className={styles.header}>\r\n        {\" \"}\r\n        <Typography variant=\"caption\">\r\n          ({props.rating.total})\r\n        </Typography>\r\n      </Typography>\r\n      <Divider className={styles.divider} />\r\n      <div className={styles.ratingChart}>{ratingChart}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RatingDetail;\r\n","import React from \"react\";\r\nimport { Typography, Tooltip, Divider } from \"@material-ui/core\";\r\n\r\nimport styles from \"./TagDetail.module.css\";\r\n\r\nconst TagDetail = (props) => {\r\n  return (\r\n    <div className={styles.tagsDetail}>\r\n      <Typography variant=\"body1\" className={styles.header}>\r\n        \r\n      </Typography>\r\n      <Divider className={styles.divider} />\r\n      <div className={styles.tags}>\r\n        {props.tags.map((tag) => (\r\n          <Tooltip key={tag.name} title={\"\" + tag.count} arrow>\r\n            <Typography className={styles.tag} variant=\"subtitle2\">\r\n              {tag.name}\r\n            </Typography>\r\n          </Tooltip>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TagDetail;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./DetailSection.module.css\";\r\nimport ProductionDetail from \"./ProductionDetail/ProductionDetail\";\r\nimport EpisodeDetail from \"./EpisodeDetail/EpisodeDetail\";\r\nimport CharacterDetail from \"./CharacterDetail/CharacterDetail\";\r\nimport StaffDetail from \"./StaffDetail/StaffDetail\";\r\nimport RatingDetail from \"./RatingDetail/RatingDetail\";\r\nimport TagDetail from \"./TagDetail/TagDetail\";\r\n\r\nconst DetailSection = (props) => {\r\n  return (\r\n    <div className={styles.detailSection}>\r\n      <div className={styles.left}>\r\n        <ProductionDetail info={props.data.production} />\r\n      </div>\r\n      <div className={styles.center}>\r\n        {props.data.eps && <EpisodeDetail episodes={props.data.eps} />}\r\n        {props.data.crt && <CharacterDetail characters={props.data.crt} />}\r\n        {props.data.staff && <StaffDetail staffs={props.data.staff} />}\r\n      </div>\r\n      <div className={styles.right}>\r\n        {props.data.rating && <RatingDetail rating={props.data.rating} />}\r\n        <TagDetail tags={props.data.tags} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DetailSection;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./InfoSection.module.css\";\r\nimport TitleSection from \"./TitleSection/TitleSection\";\r\nimport DetailSection from \"../InfoSection/DetailSection/DetailSection\";\r\n\r\nconst InfoSection = (props) => {\r\n  return (\r\n    <div className={styles.infoSection}>\r\n      <TitleSection\r\n        id={props.data.id}\r\n        image={props.data.cover}\r\n        titleCN={props.data.name_cn}\r\n        titleJP={props.data.name}\r\n        airDate={props.data[\"air_date\"]}\r\n        weekday={props.data[\"air_weekday\"]}\r\n        rating={props.data.rating && props.data.rating.score}\r\n        summary={props.data.summary}\r\n      />\r\n      <DetailSection data={props.data} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InfoSection;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Skeleton } from \"@material-ui/lab\";\r\nimport styled from \"styled-components\";\r\n\r\nimport styles from \"./FullAnimeInfo.module.css\";\r\nimport InfoSection from \"./InfoSection/InfoSection\";\r\nimport AnimeDataService from \"../../service/AnimeDataService\";\r\n\r\nconst Div = styled.div`\r\n  &::before {\r\n    width: 100%;\r\n    height: 100vh;\r\n    display: block;\r\n    content: \"\";\r\n    position: fixed;\r\n    background-size: cover;\r\n    background-image: url(${(props) => props.image});\r\n    z-index: -1;\r\n    filter: blur(100px) brightness(0.7);\r\n  }\r\n`;\r\n\r\nconst FullAnimeInfo = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [bangumiInfo, setBangumiInfo] = useState(null);\r\n  const { bgmId } = useParams();\r\n  const ads = new AnimeDataService();\r\n\r\n  useEffect(() => {\r\n    if (!bangumiInfo) {\r\n      ads.getBangumiDataFull(bgmId).then((data) => {\r\n        setBangumiInfo(data);\r\n        setLoading(false);\r\n      });\r\n    }\r\n  }, [ads, bangumiInfo, bgmId]);\r\n\r\n  return loading ? (\r\n    <Skeleton className={styles.skeleton} animation=\"wave\" variant=\"rect\" />\r\n  ) : (\r\n    <Div className={styles.fullInfoPage} image={bangumiInfo.cover}>\r\n      <InfoSection data={bangumiInfo} />\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default FullAnimeInfo;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\n\r\nimport WeeklyAnimeList from \"../components/AnimeList/WeeklyAnimeList/WeeklyAnimeList\";\r\nimport SeasonAnimeList from \"../components/AnimeList/SeasonAnimeList/SeasonAnimeList\";\r\nimport AnnualAnimeList from \"../components/AnimeList/AnnualAnimeList/AnnualAnimeList\";\r\nimport Home from \"../pages/Home/Home\";\r\nimport FavoritedAnimeList from \"../components/AnimeList/FavoritedAnimeList/FavoritedAnimeList\";\r\nimport ErrorPage from \"../pages/Error/Error\";\r\nimport FullAnimeInfo from \"../components/FullAnimeInfo/FullAnimeInfo\";\r\n\r\nconst Router = (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/weekly\" exact component={WeeklyAnimeList} />\r\n        <Route path=\"/favorite\" exact component={FavoritedAnimeList} />\r\n        <Route path=\"/error\" exact component={ErrorPage} />\r\n        <Route path=\"/bangumi/:bgmId\"component={FullAnimeInfo}/>\r\n        <Route path=\"/:year/:month\" component={SeasonAnimeList} />\r\n        <Route path=\"/:year\" component={AnnualAnimeList} />\r\n        <Route path=\"*\" component={ErrorPage} />\r\n      </Switch>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from \"react\";\r\nimport { Breadcrumbs, Link, Typography, Divider } from \"@material-ui/core\";\r\nimport { NavigateNext } from \"@material-ui/icons\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"./Breadcrumb.module.css\";\r\nimport { translateBreadcrumb } from \"../../utils/utils\";\r\n\r\nconst Breadcrumb = React.memo(() => {\r\n  const pathname = useLocation().pathname;\r\n  const noBreadcrumbPath = [\"/\", \"/error\"];\r\n\r\n  if (noBreadcrumbPath.includes(pathname)) {\r\n    return null;\r\n  }\r\n\r\n  const history = useHistory();\r\n  const crumbs = pathname.split(\"/\").filter((f) => f !== \"\");\r\n\r\n  const linkHandler = (link) => {\r\n    history.push(link);\r\n  };\r\n\r\n  let crumbLinks = [\r\n    <Link key=\"home\" color=\"inherit\" onClick={() => linkHandler(\"/\")}>\r\n      \r\n    </Link>,\r\n  ];\r\n\r\n  crumbs.forEach((l) => {\r\n    if (crumbs.indexOf(l) !== crumbs.length - 1) {\r\n      if (l !== \"bangumi\")\r\n        crumbLinks.push(\r\n          <Link key={l} color=\"inherit\" onClick={() => linkHandler(\"/\" + l)}>\r\n            {translateBreadcrumb(l)}\r\n          </Link>\r\n        );\r\n    } else {\r\n      crumbLinks.push(\r\n        <Typography key={l} color=\"textPrimary\">\r\n          {translateBreadcrumb(l)}\r\n        </Typography>\r\n      );\r\n    }\r\n  });\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Breadcrumbs\r\n        className={styles.breadcrumb}\r\n        separator={<NavigateNext fontSize=\"small\" />}\r\n        aria-label=\"breadcrumb\"\r\n      >\r\n        {crumbLinks}\r\n      </Breadcrumbs>\r\n      <Divider />\r\n    </React.Fragment>\r\n  );\r\n});\r\n\r\nexport default Breadcrumb;\r\n","import React from 'react'\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nimport Logo from \"../../assets/images/logo.png\";\r\nimport styles from \"./Loading.module.css\";\r\n\r\nconst BangumiDataLoading = () => {\r\n    return (\r\n        <div className={styles.loading}>\r\n            <img className={styles.logo} src={Logo} alt=\"logo\" />\r\n            <Typography className={styles.loadingText} variant=\"h3\" align=\"center\">Loading...</Typography>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BangumiDataLoading\r\n","import React, { PureComponent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nimport * as action from \"../../store/actions\";\r\nimport Sidebar from \"../Sidebar/Sidebar\";\r\nimport Topbar from \"../Topbar/Topbar\";\r\nimport Router from \"../../router\";\r\nimport Breadcrumb from \"../Breadcrumb/Breadcrumb\";\r\nimport Loading from \"../../pages/Loading/Loading\";\r\nimport styles from \"./Layout.module.css\";\r\n\r\nclass Layout extends PureComponent {\r\n  state = {\r\n    openSidebar: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.initialization();\r\n    isMobile && this.setState({ openSidebar: false });\r\n  }\r\n\r\n  siderbarHandler = (openSidebar = null) => {\r\n    if (openSidebar === null) {\r\n      this.setState((prevState) => {\r\n        return { openSidebar: !prevState.openSidebar };\r\n      });\r\n    } else {\r\n      this.setState({ openSidebar: openSidebar });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return this.props.initialized ? (\r\n      <React.Fragment>\r\n        <Topbar toggleSidebar={() => this.siderbarHandler()} />\r\n        <Sidebar\r\n          openSidebar={this.state.openSidebar}\r\n          closeSidebar={() => this.siderbarHandler(false)}\r\n        />\r\n        <div\r\n          className={\r\n            isMobile\r\n              ? styles.contentsAreaFullWidth\r\n              : this.state.openSidebar\r\n              ? styles.contentsArea\r\n              : styles.contentsAreaFullWidth\r\n          }\r\n        >\r\n          <Breadcrumb />\r\n          <Router />\r\n        </div>\r\n      </React.Fragment>\r\n    ) : (\r\n      <Loading />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    initialized: state.bangumiData.initialized,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    initialization: () => dispatch(action.initialization()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import * as actionType from \"../actions/ActionTypes\";\r\n\r\nconst defaultState = {\r\n  initialized: false\r\n};\r\n\r\nconst initialization = (state, action) => {\r\n  return {\r\n    ...state,\r\n    initialized: action.initialized\r\n  }\r\n}\r\n\r\nconst reducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case actionType.INITIALIZATION:\r\n      return initialization(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { createStore, applyMiddleware, combineReducers, compose } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport ReduxThunk from \"redux-thunk\";\r\nimport { StylesProvider } from \"@material-ui/core\";\r\n\r\nimport \"./index.css\";\r\nimport Layout from \"./components/Layout/Layout\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport bangumiDataReducer from \"./store/reducers/BangumiDataReducer\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst rootReducer = combineReducers({\r\n  bangumiData: bangumiDataReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(ReduxThunk))\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <StylesProvider injectFirst>\r\n        <Layout />\r\n      </StylesProvider>\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}