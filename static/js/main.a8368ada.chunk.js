(this.webpackJsonpbangumi=this.webpackJsonpbangumi||[]).push([[0],[,,,,,,,,,,,,,,,function(e,a,t){e.exports={card:"AnimeCard_card__3mKKU",title:"AnimeCard_title__cmLwT",cardContent:"AnimeCard_cardContent__2cgvU",coverImage:"AnimeCard_coverImage__M5KCu",rating:"AnimeCard_rating__2D9_M",ratingNum:"AnimeCard_ratingNum__2hl96",cardActions:"AnimeCard_cardActions__3QKGL",favBtn:"AnimeCard_favBtn__3JlnM",moreBtn:"AnimeCard_moreBtn__1xbM7",animeMenu:"AnimeCard_animeMenu__261Wu",animeMenuIcon:"AnimeCard_animeMenuIcon__3m3EC",menuItem:"AnimeCard_menuItem__1G27J",ratingSkl:"AnimeCard_ratingSkl__3f8F-"}},,,,,,,function(e,a,t){e.exports={titleSection:"TitleSection_titleSection__1ZckJ",coverImage:"TitleSection_coverImage__2Le7j",titleInfo:"TitleSection_titleInfo__VBKDK",basicInfo:"TitleSection_basicInfo__r5tPk",favIcon:"TitleSection_favIcon__3wQTv",icon:"TitleSection_icon__2I8XQ",rating:"TitleSection_rating__2BNAe",links:"TitleSection_links__TGMiN",link:"TitleSection_link__3SxWO",summaryInfo:"TitleSection_summaryInfo__3H2nJ",summary:"TitleSection_summary__1Zt4x",titleCN:"TitleSection_titleCN__u42vh",titleJP:"TitleSection_titleJP__3P7_p",time:"TitleSection_time__4SDfX",bangumiRating:"TitleSection_bangumiRating__2WuG3"}},,,,,function(e,a,t){e.exports={card:"AnimeMiniCard_card__tSoTm",rating:"AnimeMiniCard_rating__26fkT",coverImage:"AnimeMiniCard_coverImage__1ZsbD",content:"AnimeMiniCard_content__2Z1QK",title:"AnimeMiniCard_title__3jPxR",divider:"AnimeMiniCard_divider__3pXN6",actions:"AnimeMiniCard_actions__3KrTI",favBtn:"AnimeMiniCard_favBtn__83vW4",favIcon:"AnimeMiniCard_favIcon__hSW77",moreBtn:"AnimeMiniCard_moreBtn__3WGn9",animeMenu:"AnimeMiniCard_animeMenu__pg7jN"}},,function(e,a,t){e.exports={card:"SeasonCard_card__XuWjl",pointer:"SeasonCard_pointer__3XG-N",coverImage:"SeasonCard_coverImage__m6pVn",imgTransform:"SeasonCard_imgTransform__sUFu1",leftCard:"SeasonCard_leftCard__2zK2N",centerCard:"SeasonCard_centerCard__3RDhP",rightCard:"SeasonCard_rightCard__1T6qE",bottomButton:"SeasonCard_bottomButton__3fv7O",moveButtonUp:"SeasonCard_moveButtonUp__37A8-",seasonIcon:"SeasonCard_seasonIcon__1KTt1",buttonText:"SeasonCard_buttonText__a9Ogt",buttonTextSeason:"SeasonCard_buttonTextSeason__16Wc3"}},,,,,,,,,,function(e,a,t){e.exports={about:"About_about__2FbB7",badges:"About_badges__1era_",badge:"About_badge__1EiAT",header:"About_header__1aaxA",header2:"About_header2__3PN2h",paragraph:"About_paragraph__U_BCT",notice:"About_notice__35CGD",apiList:"About_apiList__2kysV"}},,,,,,,function(e,a,t){e.exports={toolbar:"Topbar_toolbar__AKTpm",right:"Topbar_right__2lgr2",rightItem:"Topbar_rightItem__3BGv5",appbar:"Topbar_appbar__OJNqw",logo:"Topbar_logo__3pN_1",name:"Topbar_name__3uaUn"}},,,,,,,,function(e,a,t){e.exports={home:"Home_home__137cg",logo:"Home_logo__3ITRM",title:"Home_title__Gf5gg",arrowIcon:"Home_arrowIcon__3zeZZ",bounce:"Home_bounce__3zJQd",badges:"Home_badges__3j3LA",myne:"Home_myne__10x6Y"}},function(e,a,t){e.exports={ratingDetail:"RatingDetail_ratingDetail__3zxZ6",header:"RatingDetail_header__IIn0w",divider:"RatingDetail_divider__1ufDr",ratingChart:"RatingDetail_ratingChart__1vem6",ratingNum:"RatingDetail_ratingNum__3duMF",bar:"RatingDetail_bar__1JIEF"}},,,,function(e,a,t){e.exports=t.p+"static/media/logo.e676953a.png"},,,,,,,,function(e,a,t){e.exports={error:"Error_error__3DNgx",myne:"Error_myne__32-oe",buttons:"Error_buttons__2-qSD",button:"Error_button__2Nyj9"}},function(e,a,t){e.exports={characterCard:"CharacterCard_characterCard__1-Cs8",characterImage:"CharacterCard_characterImage__3Q5Rk",charaInfo:"CharacterCard_charaInfo__3VkhA",role:"CharacterCard_role__7haIg",actors:"CharacterCard_actors__25pJH"}},function(e,a,t){e.exports={tagsDetail:"TagDetail_tagsDetail__3ohCY",header:"TagDetail_header__3xPp5",divider:"TagDetail_divider__1nehO",tags:"TagDetail_tags__BJFsn",tag:"TagDetail_tag__1I20K"}},,,,,,,function(e,a,t){e.exports=t.p+"static/media/nocover.6ce0da62.jpg"},function(e,a,t){e.exports={detailSection:"DetailSection_detailSection__29Kz3",left:"DetailSection_left__1JRDM",center:"DetailSection_center__32w_H",right:"DetailSection_right__2mTHT"}},function(e,a,t){e.exports={header:"ProductionDetail_header__3eZJW",divider:"ProductionDetail_divider__32ANT",productionDetail:"ProductionDetail_productionDetail__3t9w0",parsedInfo:"ProductionDetail_parsedInfo__2K5ab"}},function(e,a,t){e.exports={episodeDetail:"EpisodeDetail_episodeDetail__300Xx",header:"EpisodeDetail_header__1sMUV",divider:"EpisodeDetail_divider__2tUEN",episodeList:"EpisodeDetail_episodeList__3fdxg"}},function(e,a,t){e.exports={characterDetail:"CharacterDetail_characterDetail__3LZdB",header:"CharacterDetail_header__3pD4-",divider:"CharacterDetail_divider__1Y9eU",characterList:"CharacterDetail_characterList__2c-hr"}},function(e,a,t){e.exports={staffCard:"StaffCard_staffCard__3rl-A",profileImage:"StaffCard_profileImage__2OnFc",staffInfo:"StaffCard_staffInfo__1PaQl",job:"StaffCard_job__2VTyN"}},function(e,a,t){e.exports={staffDetail:"StaffDetail_staffDetail__2RROj",header:"StaffDetail_header__3oF7t",divider:"StaffDetail_divider__1G-2F",staffList:"StaffDetail_staffList__lyEv8"}},,,,,,,,,,,,,,,,function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAIAAAAiOjnJAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA2LTI5VDIyOjAxOjI5LTA0OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA2LTI5VDIyOjAxOjI5LTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNi0yOVQyMjowMToyOS0wNDowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkYmVlYjA1NS1iOTY3LTU1NDktOTYxNy1iMjJjNWU1MmEwNTUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowMWU1ZWNiZS00NTdhLWQ3NDMtOWEw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"},function(e,a,t){e.exports={column:"AnimeColumnList_column__1oHE6",icon:"AnimeColumnList_icon__QEBr2",weekday:"AnimeColumnList_weekday__2FGpg"}},function(e,a,t){e.exports={loading:"Loading_loading__1maUo",logo:"Loading_logo__GvVD4",loadingText:"Loading_loadingText__qBqhS",animate:"Loading_animate__1pcRe"}},function(e,a,t){e.exports={contentsArea:"Layout_contentsArea__1vd0E",contentsAreaFullWidth:"Layout_contentsAreaFullWidth__1rF8W"}},,,,,,,,function(e,a,t){e.exports={year:"AnnualAnimeList_year__jsJ5b"}},function(e,a,t){e.exports={fullInfoPage:"FullAnimeInfo_fullInfoPage__3pW2Z",skeleton:"FullAnimeInfo_skeleton__3NzRO"}},,,,,,,,,,,,,,,,,,,,function(e,a,t){e.exports={list:"Sidebar_list__2-ib7",drawerPaper:"Sidebar_drawerPaper__1PZYU",ListItem:"Sidebar_ListItem__3D6sU"}},,,,function(e,a,t){e.exports={divider:"Setting_divider__3QaJX"}},function(e,a,t){e.exports={weeklyAnimeList:"WeeklyAnimeList_weeklyAnimeList__2y-2D"}},function(e,a,t){e.exports=t.p+"static/media/sunday.471b7676.svg"},function(e,a,t){e.exports=t.p+"static/media/monday.2022dabb.svg"},function(e,a,t){e.exports=t.p+"static/media/tuesday.ff792e59.svg"},function(e,a,t){e.exports=t.p+"static/media/wednesday.c5e355ed.svg"},function(e,a,t){e.exports=t.p+"static/media/thursday.ebe26385.svg"},function(e,a,t){e.exports=t.p+"static/media/friday.92565b85.svg"},function(e,a,t){e.exports=t.p+"static/media/saturday.4bb326a5.svg"},function(e,a,t){e.exports=t.p+"static/media/loading.d3377a06.svg"},function(e,a,t){e.exports=t.p+"static/media/season_empty.fb5137d2.jpg"},function(e,a,t){e.exports=t.p+"static/media/not_air.1bd30696.jpg"},function(e,a,t){e.exports=t.p+"static/media/spring.7be28865.svg"},function(e,a,t){e.exports=t.p+"static/media/summer.6738f47d.svg"},function(e,a,t){e.exports=t.p+"static/media/autumn.1d5b9e47.svg"},function(e,a,t){e.exports=t.p+"static/media/winter.50821822.svg"},function(e,a,t){e.exports={season:"SeasonCards_season__2ipDs",button:"SeasonCards_button__3WqOM",seasonCharacter:"SeasonCards_seasonCharacter__1C8C2",spring:"SeasonCards_spring__1Fkug",summer:"SeasonCards_summer__1sCj3",autumn:"SeasonCards_autumn__1v79u",winter:"SeasonCards_winter__3TduL"}},function(e,a,t){e.exports={pagination:"PaginationAnimeList_pagination__2CeFS"}},function(e,a,t){e.exports=t.p+"static/media/myne_sit.0e0ea202.png"},function(e,a,t){e.exports=t.p+"static/media/myne_cry.44285a86.png"},,function(e,a,t){e.exports={infoSection:"InfoSection_infoSection__3ehH_"}},function(e,a,t){e.exports={button:"EpisodeButton_button__kAg0h"}},,function(e,a,t){e.exports=t.p+"static/media/CharacterPlaceholder.cfa5cba7.jpg"},,,,,function(e,a,t){e.exports={breadcrumb:"Breadcrumb_breadcrumb__1wLMU"}},,,,,,,,,,,,,,,function(e,a,t){e.exports=t(210)},,,,,,,,,function(e,a,t){},,,,,,,,,,,,,,,,,,,,,,,function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(14),c=t.n(i),l=t(52),o=t(61),s=t(30),u=t(127),m=t(286),d=(t(187),t(87)),g=t(128),f=t(165),p=t(164),b=t(41),h=t(40),_=t.n(h),E=function(e,a){var t=0,n=0,r=e;return a>=1&&a<4?(t=1,n=4):a>=4&&a<7?(t=4,n=7):a>=7&&a<10?(t=7,n=10):a>=10&&(t=10,n=1,r++),[e+"-"+("0"+t).slice(-2)+"-01T00:00:00.000Z",r+"-"+("0"+n).slice(-2)+"-01T00:00:00.000Z"]},v=function(e){var a={weekly:"\u6bcf\u5468\u65b0\u756a",favorite:"\u6211\u7684\u6536\u85cf",about:"\u5173\u4e8e",instruction:"\u4f7f\u7528\u8bf4\u660e"};return a[e]?a[e]:e},I=function(e,a){var t=a.pathname.slice(1,5),n=new Date(e.slice(0,4),1),r=new Date(e.slice(4),1);if(parseInt(t)){var i=new Date(t,1);return n<=i&&i<=r}},N=function(e){return e.match(/\/\//g)?e.replace(/.+(?<=\/\/)/g,"https://"):"https://".concat(e)},S=function(e){return{type:"INITIALIZATION",initialized:e}},y=function(){return function(e){var a=localStorage.getItem("bd_version"),t=null;!localStorage.getItem("setting")&&localStorage.setItem("setting",JSON.stringify({cardApi:"default",pageApi:"default",cors:{proxy:"heroku",url:"https://cors-anywhere.herokuapp.com/"}})),!localStorage.getItem("favorite")&&localStorage.setItem("favorite","[]"),_.a.get("https://data.jsdelivr.com/v1/package/npm/bangumi-data").then((function(n){t=n.data.tags.latest,a!==t?_.a.get("https://cdn.jsdelivr.net/npm/bangumi-data@latest/dist/data.json").then((function(a){var n,r;n=t,r=a.data,localStorage.setItem("bd_version",n),localStorage.setItem("bd_site_meta",JSON.stringify(r.siteMeta)),localStorage.setItem("bd_items",JSON.stringify(r.items.filter((function(e){return void 0!==e.sites.find((function(e){return"bangumi"===e.site}))})))),function(e){var a=[];e.forEach((function(e){var t=new Date(e.begin).getFullYear();a.includes(t)||a.push(t)})),localStorage.setItem("years",JSON.stringify(a))}(a.data.items),e(S(!0))})):e(S(!0))}))}},O=t(111),C=t(89),j=t(63),A=t(7),w=t(239),k=t(212),x=t(241),D=t(293),M=t(245),T=t(246),L=t(247),R=t(19),B=t(242),W=t(243),G=t(129),J=t.n(G),Z=(t(207),t(130)),F=t.n(Z),z=Object(o.b)((function(e){return{years:e.bangumiData.years}}))((function(e){var a=Object(R.g)(),t=Object(R.f)(),i=Object(n.useState)({19601969:I("19601969",a),19701979:I("19701979",a),19801989:I("19801989",a),19901999:I("19901999",a),20002009:I("20002009",a),20102019:I("20102019",a),20202029:I("20202029",a)}),c=Object(A.a)(i,2),l=c[0],o=c[1],s=r.a.useState(a.pathname),u=Object(A.a)(s,2),m=u[0],d=u[1],g=JSON.parse(localStorage.getItem("years")),f=g?function(){for(var e=Math.min.apply(Math,Object(O.a)(g)),a=Math.max.apply(Math,Object(O.a)(g)),t=10*parseInt(e/10),n=[],i=function(e){n.push(r.a.createElement(w.a,{in:l[""+e+(e+9)],key:"c"+e+(e+9),unmountOnExit:!0},g.filter((function(a){return a>=e&&a<e+10})).map((function(e){return r.a.createElement(k.a,{key:e,selected:m==="/"+e,button:!0,onClick:function(){return p("/"+e)}},r.a.createElement(x.a,null,e))})).reverse())),n.push(r.a.createElement(k.a,{button:!0,key:""+e+(e+9),onClick:function(){return a=""+e+(e+9),void o(Object(j.a)(Object(j.a)({},l),{},Object(C.a)({},a,!l[a])));var a}},r.a.createElement(x.a,null,e," - ",e+9),l[""+e+(e+9)]?r.a.createElement(B.a,null):r.a.createElement(W.a,null)))},c=t;c<=a;c+=10)i(c);return n.reverse()}():[],p=function(a){t.push(a),d(a),b.isMobile&&e.closeSidebar()};return r.a.createElement(D.a,{anchor:"left",open:e.openSidebar,variant:b.isMobile?"temporary":"persistent",onClose:e.closeSidebar},r.a.createElement(J.a,null,r.a.createElement(M.a,{className:F.a.list,style:{marginTop:!b.isMobile&&"64px"}},r.a.createElement(k.a,{button:!0,selected:"/"===m,onClick:function(){return p("/")}},r.a.createElement(x.a,null,"\u9996\u9875")),r.a.createElement(k.a,{button:!0,selected:"/about"===m,onClick:function(){return p("/about")}},r.a.createElement(x.a,null,"\u5173\u4e8e")),r.a.createElement(T.a,{disableSticky:!0},"\u756a\u5267"),r.a.createElement(L.a,null),r.a.createElement(k.a,{button:!0,selected:"/weekly"===m,onClick:function(){return p("/weekly")}},r.a.createElement(x.a,null,"\u65b0\u756a\u5468\u8868")),r.a.createElement(k.a,{button:!0,selected:"/favorite"===m,onClick:function(){return p("/favorite")}},r.a.createElement(x.a,null,"\u6211\u7684\u6536\u85cf")),r.a.createElement(T.a,{disableSticky:!0},"\u5386\u53f2\u6570\u636e"),r.a.createElement(L.a,null),f.map((function(e){return e})))))})),Y=t(255),P=t(256),U=t(214),H=t(50),V=t(257),Q=t(258),X=t(259),K=t(260),q=t(46),$=t.n(q),ee=t(59),ae=t.n(ee),te=t(248),ne=t(249),re=t(250),ie=t(251),ce=t(252),le=t(253),oe=t(215),se=function(e){var a=Object(n.useState)(!0),t=Object(A.a)(a,2),i=t[0],c=t[1],l=Object(R.f)();return r.a.createElement(te.a,{open:e.open,onClose:e.close,maxWidth:"xs","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(ne.a,null,"\u6e05\u9664\u672c\u5730\u6240\u6709\u6570\u636e"),r.a.createElement(re.a,null,r.a.createElement(ie.a,null,"\u6e05\u9664\u7684\u6570\u636e\u90fd\u662f\u50a8\u5b58\u5728\u6d4f\u89c8\u5668\u7684localStorage\u91cc\u9762\u7684\u6570\u636e\uff0c\u5305\u62ec\u672c\u5730bangumi-data\u6570\u636e\u4e0e\u6536\u85cf\u7684\u756a\u5267\u6570\u636e\uff0c\u4ee5\u53ca\u8bbe\u7f6e\u6570\u636e\u3002\u4f60\u786e\u5b9a\u8981\u6e05\u9664\u4e48\uff1f"),r.a.createElement(L.a,null),r.a.createElement(ie.a,null,"\u4fdd\u7559\u6536\u85cf",r.a.createElement(ce.a,{checked:i,onChange:function(){c((function(e){return!e}))},size:"small"}))),r.a.createElement(le.a,null,r.a.createElement(oe.a,{onClick:e.close,variant:"outlined",color:"secondary"},"\u53d6\u6d88"),r.a.createElement(oe.a,{onClick:function(){if(i){var a=localStorage.getItem("favorite");localStorage.clear(),localStorage.setItem("favorite",a)}else localStorage.clear();e.close(),l.push("/"),window.location.reload()},variant:"outlined",color:"primary"},"\u786e\u5b9a")))},ue=t(294),me=t(295),de=t(296),ge=t(254),fe=t(290),pe=t(134),be=t.n(pe),he=function(e){var a=Object(n.useState)(JSON.parse(localStorage.getItem("setting")).cardApi),t=Object(A.a)(a,2),i=t[0],c=t[1],l=Object(n.useState)(JSON.parse(localStorage.getItem("setting")).pageApi),o=Object(A.a)(l,1)[0],s=Object(n.useState)(JSON.parse(localStorage.getItem("setting")).cors.proxy),u=Object(A.a)(s,1)[0],m=Object(n.useState)(JSON.parse(localStorage.getItem("setting")).cors.url),d=Object(A.a)(m,1)[0];return r.a.createElement(te.a,{open:e.open,onClose:e.close,maxWidth:"lg","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(ne.a,null,"\u8bbe\u7f6e"),r.a.createElement(re.a,null,r.a.createElement(ue.a,{component:"fieldset"},r.a.createElement(me.a,{component:"legend"},"\u756a\u5267\u5217\u8868API\u6e90"),r.a.createElement(de.a,{value:i,onChange:function(e){c(e.target.value)}},r.a.createElement(ge.a,{control:r.a.createElement(fe.a,{color:"primary"}),value:"default",label:"Bangumi-GA(\u9ed8\u8ba4)"}),r.a.createElement(ge.a,{control:r.a.createElement(fe.a,{color:"primary"}),value:"bangumiSubject",label:"Bangumi-Subject"})),r.a.createElement(L.a,{className:be.a.divider}))),r.a.createElement(le.a,null,r.a.createElement(oe.a,{onClick:e.close,variant:"outlined",color:"secondary"},"\u53d6\u6d88"),r.a.createElement(oe.a,{onClick:function(){localStorage.setItem("setting",JSON.stringify({cardApi:i,pageApi:o,cors:{proxy:u,url:"custom"===u?"/"!==d.slice(-1)?d+"/":d:"https://cors-anywhere.herokuapp.com/"}})),e.close(),window.location.reload()},variant:"outlined",color:"primary"},"\u5e94\u7528")))},_e=function(e){var a=Object(n.useState)(!1),t=Object(A.a)(a,2),i=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(A.a)(l,2),s=o[0],u=o[1],m=Object(R.f)(),d=function(){m.push("/")};return r.a.createElement(Y.a,{className:$.a.appbar,position:"static"},r.a.createElement(P.a,{className:$.a.toolbar},r.a.createElement(U.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:e.toggleSidebar},r.a.createElement(V.a,null)),!b.isMobile&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:$.a.logo,src:ae.a,alt:"logo",onClick:d}),r.a.createElement(H.a,{className:$.a.name,variant:"h6",onClick:d},"Bangumi")),r.a.createElement("div",{className:$.a.right},r.a.createElement(U.a,{className:$.a.rightItem,edge:"end",color:"inherit","aria-label":"github",onClick:function(){window.open("https://github.com/developer-haku/bangumi")}},r.a.createElement(Q.a,null)),r.a.createElement(U.a,{className:$.a.rightItem,edge:"end",onClick:function(){c(!0)},color:"inherit","aria-label":"cached"},r.a.createElement(X.a,null)),r.a.createElement(U.a,{className:$.a.rightItem,onClick:function(){u(!0)},edge:"end",color:"inherit","aria-label":"menu"},r.a.createElement(K.a,null)),i&&r.a.createElement(se,{open:i,close:function(){c(!1)}}),s&&r.a.createElement(he,{open:s,close:function(){u(!1)}}))))},Ee=t(135),ve=t.n(Ee),Ie=t(261),Ne=t(266),Se=t(267),ye=t(268),Oe=t(269),Ce=t(291),je=t(168),Ae=t(262),we=t(263),ke=t(264),xe=t(265),De=t(270),Me=t(271),Te=t(272),Le=t(11),Re=t.n(Le),Be=t(21),We=function(){var e=Object(Be.a)(Re.a.mark((function e(a){var t;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("https://cdn.jsdelivr.net/gh/czy0729/Bangumi-Subject@master/data/".concat(parseInt(a/100),"/").concat(a,".json")).catch((function(e){return console.log("FAILED TO FETCH ID ".concat(a," "))}));case 2:return t=e.sent,e.abrupt("return",t?t.data:null);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ge=function(e){var a,t,n={};return n.name=e?e.name:null,n.nameCn=null,n.image=e&&e.image?N((a=e.image,t="l",a.replace(/(?<=cover)(\/)(.)(\/)/g,"/".concat(t,"/")))):"",n.score=e&&e.rating?e.rating.score:0,n},Je=function(){var e=Object(Be.a)(Re.a.mark((function e(a){return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,We(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(Be.a)(Re.a.mark((function e(a){var t,n;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.next=3,We(a).then((function(e){return t=e}));case 3:return n=Ge(t),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(Be.a)(Re.a.mark((function e(a,t,n){var r;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(n,"https://api.bgm.tv/subject/").concat(a,"?responseGroup=").concat(t)).catch((function(e){return console.log(e)}));case 2:return r=e.sent,e.abrupt("return","404"!==r.data.code?r.data:null);case 4:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),ze=function(e){var a={};return a.name=e?e.name:null,a.nameCn=e&&""!==e.name_cn?e.name_cn:null,a.image=e&&e.images?N(e.images.large):"",a.score=e&&e.rating?e.rating.score:0,a},Ye=function(){var e=Object(Be.a)(Re.a.mark((function e(a,t){return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(a,"large",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(Be.a)(Re.a.mark((function e(a,t){var n,r;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.next=3,Fe(a,"small",t).then((function(e){return n=e}));case 3:return r=ze(n),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(Be.a)(Re.a.mark((function e(a){var t,n;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={subject:{},history:[]},e.next=3,_.a.get("https://api.netaba.re/archive/".concat(a)).catch((function(e){return console.log(e)}));case 3:return n=e.sent,e.abrupt("return",n.data!==t?n.data.subject:null);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),He=function(e){var a={};return a.name=e?e.name:null,a.nameCn=e&&""!==e.name_cn?e.name_cn:null,a.image=e&&e.images?N(e.images.large):"",a.score=e&&e.rating?e.rating.score:0,a},Ve=function(){var e=Object(Be.a)(Re.a.mark((function e(a){return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(Be.a)(Re.a.mark((function e(a){var t,n;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.next=3,Ue(a).then((function(e){return t=e}));case 3:return n=He(t),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(Be.a)(Re.a.mark((function e(a){var t;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("https://cdn.jsdelivr.net/gh/developer-haku/bangumi-ga@master/data/".concat(parseInt(a/100),"/").concat(a,".json")).catch((function(e){return console.log("FAILED TO FETCH ID ".concat(a," "))}));case 2:return t=e.sent,e.abrupt("return",t?t.data:null);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ke=function(e){var a={};return a.name=e?e.name:null,a.nameCn=e&&""!==e.name_cn?e.name_cn:null,a.image=e&&e.images?N(e.images.large):"",a.score=e&&e.rating?e.rating.score:0,a},qe=function(){var e=Object(Be.a)(Re.a.mark((function e(a){return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),$e=function(){var e=Object(Be.a)(Re.a.mark((function e(a){var t,n;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.next=3,Xe(a).then((function(e){return t=e}));case 3:return n=Ke(t),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ea=function(){var e=Object(Be.a)(Re.a.mark((function e(a,t){var n,r;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(a,t);case 2:return n=e.sent,e.next=5,Je(a);case 5:return r=e.sent,n.production=r?r.info:"",n.tags=r?r.tags:[],n.cover=n.images?N(n.images.large):"",e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),aa=function(){var e=Object(Be.a)(Re.a.mark((function e(a){var t,n;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(a);case 2:return t=e.sent,e.next=5,Je(a);case 5:return n=e.sent,t.production=n?n.info:"",t.tags=n?n.tags:[],t.cover=t.images?N(t.images.large):"",e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ta=function(){var e=Object(Be.a)(Re.a.mark((function e(a){var t,n;return Re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qe(a);case 2:return t=e.sent,e.next=5,Je(a);case 5:return n=e.sent,t.production=n?n.info:"",t.tags=n?n.tags:[],t.cover=t.images?N(t.images.large):"",e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),na=function e(){var a=this;Object(d.a)(this,e),this.getBangumiDataBasic=function(e){switch(a.cardApi){case"default":return $e(e);case"bangumiSubject":return Ze(e);case"bangumiCORS":return Pe(e,a.corsUrl);case"netabare":return Qe(e);default:return null}},this.getBangumiDataFull=function(e){switch(a.pageApi){case"default":return ta(e);case"bangumiApi":return ea(e,a.corsUrl);case"netabare":return aa(e);default:return null}},this.cardApi=JSON.parse(localStorage.getItem("setting")).cardApi,this.pageApi=JSON.parse(localStorage.getItem("setting")).pageApi,this.corsUrl=JSON.parse(localStorage.getItem("setting")).cors.url},ra=t(27),ia=t.n(ra),ca=t(76),la=t.n(ca),oa=function(e){var a=Object(n.useState)(null),t=Object(A.a)(a,2),i=t[0],c=t[1],l=Object(n.useState)(null),o=Object(A.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)(!1),d=Object(A.a)(m,2),g=d[0],f=d[1],p=Object(n.useState)(!1),b=Object(A.a)(p,2),h=b[0],_=b[1],E=Object(R.f)(),v=Boolean(s),I=new na,N=JSON.parse(localStorage.getItem("bd_site_meta")),S=e.anime.sites.find((function(e){return"bangumi"===e.site})).id;Object(n.useEffect)((function(){i||I.getBangumiDataBasic(S).then((function(e){c(e)}))}),[I,i,S]),Object(n.useEffect)((function(){JSON.parse(localStorage.getItem("favorite")).includes(S)&&_(!0)}),[S]);var y=e.anime.titleTranslate["zh-Hans"]?e.anime.titleTranslate["zh-Hans"]:i?i.nameCn?i.nameCn:i.name:e.anime.title,O=i?0===i.score?"X":i.score:0,C=e.anime.sites.map((function(e){return r.a.createElement(Ie.a,{key:e.site,onClick:function(){return w(e.site,e.id)}},"bangumi"===e.site?r.a.createElement(Ae.a,{className:ia.a.animeMenuIcon}):r.a.createElement(we.a,{className:ia.a.animeMenuIcon}),N[e.site].title)})).sort((function(e,a){return"bangumi"===e.key?0:1}));C.unshift(r.a.createElement(Ie.a,{key:"official",onClick:function(){return j(e.anime.officialSite)}},r.a.createElement(ke.a,{className:ia.a.animeMenuIcon}),"\u5b98\u65b9\u7f51\u7ad9")),C.push(r.a.createElement(Ie.a,{key:"dmhy",onClick:function(){return j(N.dmhy.urlTemplate.replace("{{id}}",y))}},r.a.createElement(xe.a,{className:ia.a.animeMenuIcon}),"\u52a8\u6f2b\u82b1\u56ed"));var j=function(e){window.open(e)},w=function(e,a){window.open(N[e].urlTemplate.replace("{{id}}",a))},k=function(){E.push("/bangumi/"+S)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{variant:"outlined",className:ia.a.card},r.a.createElement(Se.a,{className:ia.a.coverImage,component:"div",image:i&&""!==i.image?i.image:la.a,onClick:k}),r.a.createElement(H.a,{className:ia.a.rating,variant:"caption"},O),r.a.createElement(ye.a,{className:ia.a.content},r.a.createElement(H.a,{className:ia.a.title,variant:"caption",onClick:k},y),r.a.createElement(Oe.a,{className:ia.a.actions},r.a.createElement(U.a,{className:ia.a.favBtn,size:"small",onClick:function(){var e=JSON.parse(localStorage.getItem("favorite"));e.includes(S)?e.splice(e.indexOf(S),1):e.push(S),localStorage.setItem("favorite",JSON.stringify(e)),_(!h)}},h?r.a.createElement(De.a,{className:ia.a.favIcon}):r.a.createElement(Me.a,{className:ia.a.favIcon})),r.a.createElement(U.a,{className:ia.a.moreBtn,size:"small",onClick:function(e){u(e.currentTarget),f(!g)}},r.a.createElement(Te.a,null))))),r.a.createElement(Ce.a,{elevation:1,className:ia.a.animeMenu,id:"simple-menu",keepMounted:!0,anchorEl:s,open:v,onClose:function(){u(null)},TransitionComponent:je.a,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},C))},sa=t(99),ua=t.n(sa),ma=t(136),da=t.n(ma),ga=t(137),fa=t.n(ga),pa=t(138),ba=t.n(pa),ha=t(139),_a=t.n(ha),Ea=t(140),va=t.n(Ea),Ia=t(141),Na=t.n(Ia),Sa=t(142),ya=t.n(Sa),Oa=function(e){var a=[da.a,fa.a,ba.a,_a.a,va.a,Na.a,ya.a];return r.a.createElement("div",{className:ua.a.column},r.a.createElement("img",{className:ua.a.icon,src:a[e.weekday],alt:"weekday-icon"}),r.a.createElement(H.a,{className:ua.a.weekday,variant:"h6"},["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"][e.weekday]),e.list.map((function(a){return r.a.createElement(oa,{key:e.list.indexOf(a),anime:a})})))},Ca=function(e){for(var a=JSON.parse(localStorage.getItem("bd_items")),t=E((new Date).getFullYear(),(new Date).getMonth()+1),n=a.filter((function(e){return new Date(e.begin)>=new Date(t[0])&&new Date(e.begin)<new Date(t[1])})),i=[],c=function(e){i.push(n.filter((function(a){return new Date(a.begin).getDay()===e})))},l=0;l<7;l++)c(l);return r.a.createElement("div",{className:ve.a.weeklyAnimeList},i.map((function(e){return r.a.createElement(Oa,{key:i.indexOf(e),list:e,weekday:i.indexOf(e)})})))},ja=t(285),Aa=t(299),wa=t(274),ka=t(15),xa=t.n(ka),Da=t(143),Ma=t.n(Da),Ta=r.a.memo((function(e){var a=Object(n.useState)(null),t=Object(A.a)(a,2),i=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(A.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)(null),d=Object(A.a)(m,2),g=d[0],f=d[1],p=Object(n.useState)(!1),h=Object(A.a)(p,2),_=h[0],E=h[1],v=Object(R.f)(),I=Boolean(g),N=JSON.parse(localStorage.getItem("bd_site_meta")),S=new na;Object(n.useEffect)((function(){i||S.getBangumiDataBasic(e.bangumiId).then((function(e){c(e)}))}),[S,i,e.bangumiId]),Object(n.useEffect)((function(){JSON.parse(localStorage.getItem("favorite")).includes(e.bangumiId)&&E(!0)}),[e.bangumiId]);var y=e.anime.titleTranslate["zh-Hans"]?e.anime.titleTranslate["zh-Hans"]:i?i.nameCn?i.nameCn:i.name:e.anime.title,O=i?i.score:0,C=e.anime.sites.map((function(e){return r.a.createElement(Ie.a,{key:e.site,className:xa.a.menuItem,onClick:function(){return w(e.site,e.id)}},"bangumi"===e.site?r.a.createElement(Ae.a,{className:xa.a.animeMenuIcon}):r.a.createElement(we.a,{className:xa.a.animeMenuIcon}),N[e.site].title)})).sort((function(e,a){return"bangumi"===e.key?0:1}));C.unshift(r.a.createElement(Ie.a,{key:"official",className:xa.a.menuItem,onClick:function(){return j(e.anime.officialSite)}},r.a.createElement(ke.a,{className:xa.a.animeMenuIcon}),"\u5b98\u65b9\u7f51\u7ad9")),C.push(r.a.createElement(Ie.a,{key:"dmhy",className:xa.a.menuItem,onClick:function(){return j(N.dmhy.urlTemplate.replace("{{id}}",y))}},r.a.createElement(xe.a,{className:xa.a.animeMenuIcon}),"\u52a8\u6f2b\u82b1\u56ed"));var j=function(e){window.open(e)},w=function(e,a){window.open(N[e].urlTemplate.replace("{{id}}",a))},k=function(){v.push("/bangumi/"+e.bangumiId)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{className:xa.a.card},r.a.createElement(Se.a,{className:xa.a.coverImage,image:i?i.image?i.image:la.a:Ma.a,title:y,onClick:k}),r.a.createElement(ye.a,{className:xa.a.cardContent},r.a.createElement(H.a,{variant:b.isMobile?"caption":"subtitle2",className:xa.a.title,onClick:k},y)),r.a.createElement(ye.a,{className:xa.a.rating},r.a.createElement(Aa.a,{name:"bangumi-rating",size:"small",defaultValue:0,value:O/2,precision:.1,disabled:!O,readOnly:!0}),r.a.createElement(ja.a,{className:xa.a.ratingNum},O||"")),r.a.createElement(L.a,null),r.a.createElement(Oe.a,{className:xa.a.cardActions},r.a.createElement(U.a,{className:xa.a.favBtn,size:"small",onClick:function(){var a=JSON.parse(localStorage.getItem("favorite"));a.includes(e.bangumiId)?a.splice(a.indexOf(e.bangumiId),1):a.push(e.bangumiId),localStorage.setItem("favorite",JSON.stringify(a)),E(!_)}},_?r.a.createElement(De.a,{className:xa.a.favIcon}):r.a.createElement(Me.a,{className:xa.a.favIcon})),r.a.createElement(U.a,{className:xa.a.moreBtn,size:"small",onClick:function(e){f(e.currentTarget),u(!s)}},r.a.createElement(wa.a,null)))),r.a.createElement(Ce.a,{className:xa.a.animeMenu,id:"simple-menu",keepMounted:!0,anchorEl:g,open:I,onClose:function(){f(null)},TransitionComponent:je.a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"}},C))})),La=r.a.memo((function(e){return r.a.createElement(r.a.Fragment,null,e.list.map((function(e){var a=e.sites.find((function(e){return"bangumi"===e.site})).id;return r.a.createElement(Ta,{key:a,anime:e,bangumiId:a})})))})),Ra=t(275),Ba=function(){return r.a.createElement(Ne.a,{className:xa.a.card},r.a.createElement(Ra.a,{height:225,variant:"rect",animation:"wave",className:xa.a.coverImage}),r.a.createElement(ye.a,{className:xa.a.cardContent},r.a.createElement(Ra.a,{variant:"text",animation:"wave",className:xa.a.title})),r.a.createElement(ye.a,{className:xa.a.rating},r.a.createElement(Ra.a,{variant:"text",animation:"wave",width:"60%",className:xa.a.ratingSkl})),r.a.createElement(L.a,null),r.a.createElement(Oe.a,{className:xa.a.cardActions},r.a.createElement(Ra.a,{variant:"circle",animation:"wave",height:28,width:28,className:xa.a.favIcon})))},Wa=function(){for(var e=[],a=0;a<60;a++)e.push(a);return r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement(Ba,{key:e})})))},Ga=function(){var e=Object(n.useState)(!0),a=Object(A.a)(e,2),t=a[0],i=a[1],c=Object(n.useState)([]),l=Object(A.a)(c,2),o=l[0],s=l[1],u=Object(R.h)(),m=u.year,d=u.month,g=Object(R.f)();return parseInt(m)&&parseInt(d)||g.replace("/error"),Object(n.useEffect)((function(){var e=E(m,d),a=JSON.parse(localStorage.getItem("bd_items")).filter((function(a){return new Date(a.begin)>=new Date(e[0])&&new Date(a.begin)<new Date(e[1])}));s(a),i(!1)}),[d,s,m]),t?r.a.createElement(Wa,null):r.a.createElement(La,{list:o})},Ja=t(166),Za=t(287),Fa=t(277),za=t(109),Ya=t.n(za),Pa=t(276),Ua=t(29),Ha=t.n(Ua),Va=t(144),Qa=t.n(Va),Xa=t(145),Ka=t.n(Xa),qa=t(146),$a=t.n(qa),et=t(147),at=t.n(et),tt=t(148),nt=t.n(tt),rt=t(149),it=t.n(rt);var ct=function(e){var a=Object(n.useState)(Ha.a.bottomButton),t=Object(A.a)(a,2),i=t[0],c=t[1],l=Object(n.useState)(""),o=Object(A.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)(Ha.a.coverImage),d=Object(A.a)(m,2),g=d[0],f=d[1],p=Object(R.g)(),b=Object(R.f)(),h=function(e){var a=Object(n.useRef)();return Object(n.useEffect)((function(){a.current=e})),a.current}(e.year),_=new na,v=Ha.a.card,I=new Date(e.year,parseInt(e.month)-1)<new Date,N="SPRING"===e.season?$a.a:"SUMMER"===e.season?at.a:"AUTUMN"===e.season?nt.a:it.a;Object(n.useEffect)((function(){if(""===s||h!==e.year){var a=function(e,a){var t=E(parseInt(e),parseInt(a)),n=JSON.parse(localStorage.getItem("bd_items")).filter((function(e){return new Date(e.begin)>=new Date(t[0])&&new Date(e.begin)<new Date(t[1])}));return 0===n.length?0:n[Math.floor(Math.random()*n.length)].sites.find((function(e){return"bangumi"===e.site})).id}(e.year,e.month);0!==a?_.getBangumiDataBasic(a).then((function(e){u(e.image)})):u(Qa.a)}}),[_,s,h,e.month,e.year]),e.left?v+=" "+Ha.a.leftCard:e.center?v+=" "+Ha.a.centerCard:e.right&&(v+=" "+Ha.a.rightCard),I&&(v+=" "+Ha.a.pointer);return r.a.createElement(Ne.a,{className:v,onMouseOver:function(){I&&(c(i+" "+Ha.a.moveButtonUp),f(g+" "+Ha.a.imgTransform))},onMouseOut:function(){c(Ha.a.bottomButton),f(Ha.a.coverImage)},onClick:function(){I&&b.push(p.pathname+"/"+e.month)}},r.a.createElement(Se.a,{className:g,component:"img",image:I?s:Ka.a}),r.a.createElement("div",{className:i},r.a.createElement("div",{className:Ha.a.buttonText},r.a.createElement("img",{className:Ha.a.seasonIcon,src:N,alt:e.season}),r.a.createElement("p",{className:Ha.a.buttonTextSeason},e.year+"\u5e74"+parseInt(e.month)+"\u6708\u756a"))))},lt=t(150),ot=t.n(lt),st=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null),r.a.createElement(Pa.a,{className:ot.a.season},r.a.createElement(ct,{season:"WINTER",character:"\u51ac",left:!0,year:e.year,month:"01"}),r.a.createElement(ct,{season:"SPRING",character:"\u6625",center:!0,year:e.year,month:"04"}),r.a.createElement(ct,{season:"SUMMER",character:"\u590f",center:!0,year:e.year,month:"07"}),r.a.createElement(ct,{season:"AUTUMN",character:"\u79cb",right:!0,year:e.year,month:"10"})))},ut=t(288),mt=t(151),dt=t.n(mt),gt=function(){return 3*parseInt((window.screen.width-250)/160)},ft=function(e){var a=Object(n.useState)(!0),t=Object(A.a)(a,2),i=t[0],c=t[1],l=Object(n.useState)([]),o=Object(A.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)(1),d=Object(A.a)(m,2),g=d[0],f=d[1],p=Object(n.useState)([]),b=Object(A.a)(p,2),h=b[0],_=b[1],E=Object(n.useState)(gt()),v=Object(A.a)(E,1)[0];Object(n.useEffect)((function(){console.log("again");var a,t=[(a=e.year)+"-01-01T00:00:00.000Z",++a+"-01-01T00:00:00.000Z"],n=JSON.parse(localStorage.getItem("bd_items")).filter((function(e){return new Date(e.begin)>=new Date(t[0])&&new Date(e.begin)<new Date(t[1])}));u(n)}),[e.year]),Object(n.useEffect)((function(){var e=g*v,a=e-v,t=s.slice(a,e);_(t),c(!1)}),[v,s,g]);return r.a.createElement("div",null,i?r.a.createElement(Wa,null):r.a.createElement(La,{list:h}),r.a.createElement(ut.a,{className:dt.a.pagination,count:Math.ceil(s.length/v),page:g,onChange:function(e,a){return f(a)},showFirstButton:!0,showLastButton:!0}))};function pt(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}function bt(e){var a=e.children,t=e.value,n=e.index,i=Object(Ja.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},i),t===n&&r.a.createElement("div",null,a))}var ht=function(e){var a=Object(R.h)().year,t=Object(R.f)();parseInt(a)||t.replace("/error");var n=r.a.useState(0),i=Object(A.a)(n,2),c=i[0],l=i[1];return r.a.createElement("div",{className:e.openSidebar?Ya.a.seasons:Ya.a.seasonsFullWidth},r.a.createElement(Za.a,{value:c,onChange:function(e,a){l(a)},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example"},r.a.createElement(Fa.a,Object.assign({label:"\u5b63\u5ea6\u9009\u62e9"},pt(0))),r.a.createElement(Fa.a,Object.assign({label:"\u5168\u5e74\u756a\u5267"},pt(1)))),r.a.createElement(bt,{value:c,index:0},r.a.createElement(st,{year:a})),r.a.createElement(bt,{value:c,index:1},r.a.createElement(ft,{year:a})))},_t=t(278),Et=t(279),vt=t(152),It=t.n(vt),Nt=t(54),St=t.n(Nt),yt=function(){return r.a.createElement("div",{className:St.a.home},r.a.createElement("img",{className:St.a.logo,src:ae.a,alt:"logo"}),r.a.createElement(H.a,{className:St.a.title,variant:"h2",align:"center"},"Bangumi"),r.a.createElement(H.a,{paragraph:!0,align:"center"},"\u672c\u7f51\u7ad9\u63d0\u4f9b\u65e5\u672c\u52a8\u753b\u756a\u5267\u5bfc\u822a\uff0c\u7f51\u7ad9\u57fa\u4e8e\u591a\u4e2aAPI\u7684\u7684\u6570\u636e\u6e90\u751f\u6210\u3002\u8be6\u7ec6\u8bf7\u770b",r.a.createElement(_t.a,{color:"secondary",href:"/about"},"\u5173\u4e8e"),"\u9875\u9762\u3002"),r.a.createElement(H.a,{paragraph:!0,align:"center"},r.a.createElement(Et.a,{className:St.a.arrowIcon}),"\u8bf7\u6d3b\u7528\u4fa7\u8fb9\u680f\u6765\u9009\u62e9\u4f60\u8981\u67e5\u770b\u7684\u8d44\u6599\u3002\u7f51\u7ad9\u7684\u4e00\u4e9b\u4f7f\u7528\u8bf4\u660e\u8bf7\u5230",r.a.createElement(_t.a,{color:"secondary",href:"/instruction"},"\u8bf4\u660e"),"\u9875\u9762\u3002"),r.a.createElement(H.a,{paragraph:!0,align:"center"},"\u5982\u679c\u7f51\u7ad9\u51fa\u73b0\u95ee\u9898\u6216\u8005\u4efb\u4f55bug\u3002\u8bf7\u70b9\u51fb\u4e0b\u9762\u56fe\u6807\u5230GitHub\u63d0\u4ea4\u95ee\u9898"),r.a.createElement("div",{className:St.a.badges},r.a.createElement(_t.a,{target:"_blank",rel:"noreferrer",href:"https://github.com/developer-haku/bangumi/issues/new"},r.a.createElement("img",{alt:"GitHub Issue",src:"https://img.shields.io/badge/GitHub-%E6%8F%90%E4%BA%A4%E9%97%AE%E9%A2%98-red?style=flat-square&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xMSAxNWgydjJoLTJ6bTAtOGgydjZoLTJ6bS45OS01QzYuNDcgMiAyIDYuNDggMiAxMnM0LjQ3IDEwIDkuOTkgMTBDMTcuNTIgMjIgMjIgMTcuNTIgMjIgMTJTMTcuNTIgMiAxMS45OSAyek0xMiAyMGMtNC40MiAwLTgtMy41OC04LThzMy41OC04IDgtOCA4IDMuNTggOCA4LTMuNTggOC04IDh6Ii8%2BPC9zdmc%2B"}))),r.a.createElement("img",{className:St.a.myne,src:It.a,alt:"myne"}))},Ot=t(39),Ct=t.n(Ot),jt=function(){return r.a.createElement("div",{className:Ct.a.about},r.a.createElement(H.a,{className:Ct.a.header,variant:"h4"},"\u5173\u4e8eBangumi"),r.a.createElement(L.a,null),r.a.createElement("div",{className:Ct.a.badges},r.a.createElement(_t.a,{href:"https://github.com/developer-haku/bangumi/blob/master/LICENSE"},r.a.createElement("img",{className:Ct.a.badge,alt:"GitHub",src:"https://img.shields.io/github/license/developer-haku/bangumi?style=flat-square"})),r.a.createElement(_t.a,{href:"https://github.com/developer-haku/bangumi"},r.a.createElement("img",{className:Ct.a.badge,alt:"GitHub package.json version (branch)",src:"https://img.shields.io/github/package-json/v/developer-haku/bangumi/master?label=Build&logo=github&style=flat-square"})),r.a.createElement(_t.a,{href:"https://github.com/developer-haku/bangumi/issues/new"},r.a.createElement("img",{className:Ct.a.badge,alt:"GitHub Issue",src:"https://img.shields.io/badge/GitHub-%E6%8F%90%E4%BA%A4%E9%97%AE%E9%A2%98-red?style=flat-square&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xMSAxNWgydjJoLTJ6bTAtOGgydjZoLTJ6bS45OS01QzYuNDcgMiAyIDYuNDggMiAxMnM0LjQ3IDEwIDkuOTkgMTBDMTcuNTIgMjIgMjIgMTcuNTIgMjIgMTJTMTcuNTIgMiAxMS45OSAyek0xMiAyMGMtNC40MiAwLTgtMy41OC04LThzMy41OC04IDgtOCA4IDMuNTggOCA4LTMuNTggOC04IDh6Ii8%2BPC9zdmc%2B"})),r.a.createElement(_t.a,{href:"https://www.jsdelivr.com/package/npm/bangumi-data"},r.a.createElement("img",{className:Ct.a.badge,alt:"GitHub package.json version (branch)",src:"https://img.shields.io/github/package-json/v/bangumi-data/bangumi-data/master?label=bangumi-data&style=flat-square&logo=jsdelivr"})),r.a.createElement(_t.a,{href:"https://github.com/developer-haku/bangumi-ga"},r.a.createElement("img",{className:Ct.a.badge,alt:"GitHub release (latest by date)",src:"https://img.shields.io/github/v/release/developer-haku/bangumi-ga?color=orange&label=bangumi-ga&logo=GitHub&style=flat-square"}))),r.a.createElement(L.a,null),r.a.createElement(H.a,{className:Ct.a.paragraph,variant:"body1"},"--  \u672c\u7f51\u7ad9\uff0c\u4ee5\u53ca\u672c\u7f51\u7ad9\u6e90\u4ee3\u7801\u5df2\u7ecf\u505c\u6b62\u66f4\u65b0 --",r.a.createElement("br",null),"\u8fd9\u7f51\u7ad9\u662f\u57fa\u4e8ebangumi-data\u4f5c\u4e3a\u4e3b\u8981API\u751f\u6210\u5217\u8868\uff0cbangumi.tv api\u6570\u636e\u8865\u5168\u4fe1\u606f\uff0c\u4f7f\u7528React.js\u5f00\u53d1\u7684\u65e5\u672c\u52a8\u753b\u756a\u5267\u5bfc\u822a\u7f51\u7ad9\u3002",r.a.createElement("br",null),"\u56e0\u4e3aAPI\u57fa\u672c\u4e0a\u90fd\u5e26\u6709Bangumi\u8fd9\u8bcd\u6216\u8005\u4e0e\u5176\u76f8\u5173\uff0c\u6240\u4ee5\u5c31\u76f4\u63a5\u53eb\u4f5cBangumi\u4e86\u3002",r.a.createElement("br",null),"\u8fd9\u4e2a\u662f\u6211\u521a\u5b66React\u7684\u7b2c\u4e00\u4e2a\u4e2a\u4eba\u9879\u76ee\uff0c\u57fa\u672c\u7528\u4e8e\u7ec3\u624b\u3002\u6211\u7f51\u7ad9\u8bbe\u8ba1\u6bd4\u8f83\u83dc\uff0c\u6240\u4ee5\u5927\u591a\u6570\u90fd\u662f\u5957\u7528",r.a.createElement(_t.a,{target:"_blank",rel:"noreferrer",href:"https://github.com/developer-haku/bangumi/issues/new"},"Material-UI"),"\u7684\u7ec4\u4ef6\u3002",r.a.createElement("br",null)),r.a.createElement(L.a,null),r.a.createElement(H.a,{className:Ct.a.header2,variant:"h5"},"\u611f\u8c22"),r.a.createElement(L.a,null),r.a.createElement("ul",{className:Ct.a.apiList},r.a.createElement("li",null,r.a.createElement(_t.a,{target:"_blank",rel:"noreferrer",href:"https://github.com/bangumi-data/bangumi-data"},"bangumi-data")),r.a.createElement("li",null,r.a.createElement(_t.a,{target:"_blank",rel:"noreferrer",href:"https://github.com/bangumi/api"},"bangumi.tv api"))),r.a.createElement(L.a,null))},At=function(){var e=Object(n.useState)(!0),a=Object(A.a)(e,2),t=a[0],i=a[1],c=Object(n.useState)([]),l=Object(A.a)(c,2),o=l[0],s=l[1];return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("favorite")),a=JSON.parse(localStorage.getItem("bd_items")).filter((function(a){return e.includes(a.sites.find((function(e){return"bangumi"===e.site})).id)}));s(a),i(!1)}),[]),t?r.a.createElement(Wa,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{variant:"body1",align:"center"},"\u79fb\u9664\u6536\u85cf\u540e\u9700\u8981\u5237\u65b0\u4e00\u4e0b\u54e6~"),r.a.createElement(L.a,null),r.a.createElement(La,{list:o}))},wt=t(280),kt=t(153),xt=t.n(kt),Dt=t(67),Mt=t.n(Dt),Tt=function(){var e=Object(R.f)();return r.a.createElement("div",{className:Mt.a.error},r.a.createElement("img",{className:Mt.a.myne,src:xt.a,alt:"Myne"}),r.a.createElement(H.a,{variant:"h4",paragraph:!0,align:"center"},"\u3053\u3053\u306f\u51fa\u5165\u308a\u7981\u6b62\u3060\uff01"),r.a.createElement("div",{className:Mt.a.buttons},r.a.createElement(oe.a,{className:Mt.a.button,variant:"outlined",color:"primary",startIcon:r.a.createElement(wt.a,null),onClick:function(){e.goBack()}},"\u8fd4\u56de\u524d\u4e00\u9875"),r.a.createElement(oe.a,{className:Mt.a.button,variant:"outlined",color:"primary",startIcon:r.a.createElement(ke.a,null),onClick:function(){e.push("/")}},"\u56de\u5230\u9996\u9875")))},Lt=t(154),Rt=t(159),Bt=t(110),Wt=t.n(Bt),Gt=t(155),Jt=t.n(Gt),Zt=t(281),Ft=t(282),zt=t(22),Yt=t.n(zt),Pt=function(e){var a,t=Object(n.useState)(!1),i=Object(A.a)(t,2),c=i[0],l=i[1],o=["\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d","\u661f\u671f\u65e5"][e.weekday-1],s=JSON.parse(localStorage.getItem("bd_site_meta")),u=(a=e.id.toString(),JSON.parse(localStorage.getItem("bd_items")).filter((function(e){return e.sites.find((function(e){return"bangumi"===e.site})).id===a}))),m=null;Object(n.useEffect)((function(){JSON.parse(localStorage.getItem("favorite")).includes(e.id.toString())&&l(!0)}),[e.id]),1===u.length&&((m=u[0].sites.map((function(e){return r.a.createElement(_t.a,{className:Yt.a.link,color:"inherit",key:e.site,onClick:function(){return g(e.site,e.id)}},s[e.site].title)})).sort((function(e,a){return"bangumi"===e.key?0:1}))).unshift(r.a.createElement(_t.a,{className:Yt.a.link,key:"official",color:"inherit",onClick:function(){return d(u[0].officialSite)}},"\u5b98\u65b9\u7f51\u7ad9")),m.push(r.a.createElement(_t.a,{className:Yt.a.link,color:"inherit",key:"dmhy",onClick:function(){return d(s.dmhy.urlTemplate.replace("{{id}}",e.titleCN))}},"\u52a8\u6f2b\u82b1\u56ed")));var d=function(e){window.open(e)},g=function(e,a){window.open(s[e].urlTemplate.replace("{{id}}",a))};return r.a.createElement("div",{className:Yt.a.titleSection},r.a.createElement("img",{className:Yt.a.coverImage,src:e.image,alt:"coverimage"}),r.a.createElement("div",{className:Yt.a.titleInfo},r.a.createElement("div",{className:Yt.a.basicInfo},r.a.createElement(H.a,{variant:"h5",className:Yt.a.titleCN},""!==e.titleCN?e.titleCN:e.titleJP,r.a.createElement(U.a,{className:Yt.a.favIcon,size:"small",onClick:function(){var a=JSON.parse(localStorage.getItem("favorite"));a.includes(e.id.toString())?a.splice(a.indexOf(e.id.toString()),1):a.push(e.id.toString()),localStorage.setItem("favorite",JSON.stringify(a)),l(!c)}},c?r.a.createElement(De.a,null):r.a.createElement(Me.a,null))),r.a.createElement(H.a,{variant:"subtitle2",className:Yt.a.titleJP},e.titleJP),r.a.createElement(H.a,{className:Yt.a.bangumiRating,variant:"subtitle2"},"Bangumi\u8bc4\u5206\uff1a",r.a.createElement(Aa.a,{className:Yt.a.rating,name:"bangumi-rating",size:"small",max:10,defaultValue:0,value:e.rating,precision:.1,disabled:!e.rating,readOnly:!0}),e.rating),r.a.createElement(H.a,{className:Yt.a.time,variant:"subtitle2"},r.a.createElement(Zt.a,{fontSize:"small",className:Yt.a.icon}),e.airDate," | ",r.a.createElement(Ft.a,{fontSize:"small",className:Yt.a.icon}),o),r.a.createElement(H.a,{className:Yt.a.links,variant:"subtitle2"},m.map((function(e){return[e,m.indexOf(e)===m.length-1?"":" | "]})))),r.a.createElement("div",{className:Yt.a.summaryInfo},r.a.createElement(H.a,{variant:"subtitle2",className:Yt.a.summary},e.summary))))},Ut=t(77),Ht=t.n(Ut),Vt=t(78),Qt=t.n(Vt),Xt=function(e){var a=e.info.match(/(?<=<li>)([\s\S]*?)(?=<\/li>)/gm),t=a&&a.map((function(e){return e.replace(/(<([^>]+)>)/gi,"")}));return r.a.createElement("div",{className:Qt.a.productionDetail},r.a.createElement(H.a,{variant:"body1",className:Qt.a.header},"\u5236\u4f5c\u4fe1\u606f"),r.a.createElement(L.a,{className:Qt.a.divider}),a&&t.map((function(e){return r.a.createElement(H.a,{className:Qt.a.parsedInfo,key:Math.random(),variant:"subtitle2"},e)})))},Kt=t(79),qt=t.n(Kt),$t=t(4),en=t(297),an=t(156),tn=t.n(an),nn=Object($t.a)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}}))(en.a),rn=function(e){return r.a.createElement(nn,{title:r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"\u7b2c"+e.eps.sort+"\u96c6"," ",""!==e.eps.name_cn?": "+e.eps.name_cn:""!==e.eps.name?"\uff1a"+e.eps.name:""),r.a.createElement("span",null,"\u5f00\u64ad\u65f6\u95f4\uff1a"+e.eps.airdate,"Air"===e.eps.status?"":"(\u672a\u5f00\u64ad)"))},r.a.createElement(oe.a,{"data-tip":!0,"data-for":""+e.eps.id,className:tn.a.button,variant:"Air"===e.eps.status?"contained":"outlined",size:"small",color:"primary",disableElevation:!0,disableRipple:!0,onClick:function(){window.open(e.eps.url)}},JSON.stringify(e.eps.sort)))},cn=function(e){return r.a.createElement("div",{className:qt.a.episodeDetail},r.a.createElement(H.a,{variant:"body1",className:qt.a.header},"\u9009\u96c6\u5217\u8868"),r.a.createElement(L.a,{className:qt.a.divider}),r.a.createElement("div",{className:qt.a.episodeList},e.episodes.map((function(e){return r.a.createElement(rn,{eps:e,key:e.id})}))))},ln=t(80),on=t.n(ln),sn=t(68),un=t.n(sn),mn=t(98),dn=t.n(mn),gn=t(158),fn=t.n(gn),pn=function(e){var a=e.character.images?e.character.images.large:fn.a,t=Object(n.useState)(a),i=Object(A.a)(t,2),c=i[0],l=i[1],o=[];return e.character.info&&(e.character.info.gender&&o.push(r.a.createElement(H.a,{key:"gender",variant:"body2"},"\u6027\u522b\uff1a"+e.character.info.gender)),e.character.info.birth&&o.push(r.a.createElement(H.a,{key:"birth",variant:"body2"},"\u751f\u65e5\uff1a"+e.character.info.birth)),e.character.info.height&&o.push(r.a.createElement(H.a,{key:"height",variant:"body2"},"\u8eab\u9ad8\uff1a"+e.character.info.height)),e.character.info.bloodtype&&o.push(r.a.createElement(H.a,{key:"bloodtype",variant:"body2"},"\u8840\u578b\uff1a"+e.character.info.bloodtype)),e.character.info.bwh&&o.push(r.a.createElement(H.a,{key:"bwh",variant:"body2"},"\u4e09\u56f4\uff1a"+e.character.info.bwh))),r.a.createElement(Ne.a,{className:un.a.characterCard},r.a.createElement(Se.a,{className:un.a.characterImage,image:c,onClick:function(){l(c===a?e.character.actors&&e.character.actors[0].images?e.character.actors[0].images.large:dn.a:a)}}),r.a.createElement("div",{className:un.a.charaInfo},r.a.createElement(H.a,{variant:"caption",className:un.a.role},e.character.role_name),r.a.createElement(H.a,{className:un.a.actors,variant:"caption"},e.character.actors?"CV: "+e.character.actors[0].name:"\u65e0CV"),r.a.createElement(H.a,{variant:"body1"},e.character.name),e.character.info&&e.character.info.alias&&e.character.info.alias.kana&&r.a.createElement(H.a,{variant:"body2"},"\u5047\u540d\uff1a"+e.character.info.alias.kana),""===e.character.name_cn?null:r.a.createElement(H.a,{variant:"body2"},"\u4e2d\u6587\u540d\uff1a"+e.character.name_cn),o))},bn=function(e){return r.a.createElement("div",{className:on.a.characterDetail},r.a.createElement(H.a,{variant:"body1",className:on.a.header},"\u89d2\u8272\u5217\u8868 ",r.a.createElement(H.a,{variant:"caption"},"(\u70b9\u51fb\u89d2\u8272\u56fe\u7247\u53ef\u67e5\u770b\u58f0\u4f18\u7167\u7247)")),r.a.createElement(L.a,{className:on.a.divider}),r.a.createElement("div",{className:on.a.characterList},e.characters.map((function(e){return r.a.createElement(pn,{key:e.id,character:e})}))))},hn=t(81),_n=t.n(hn),En=function(e){return r.a.createElement(Ne.a,{className:_n.a.staffCard},r.a.createElement(Se.a,{className:_n.a.profileImage,image:e.staff.images?e.staff.images.medium:dn.a,onClick:function(){window.open(e.staff.url)}}),r.a.createElement("div",{className:_n.a.staffInfo},r.a.createElement(H.a,{variant:"body1"},e.staff.name),""===e.staff.name_cn?null:r.a.createElement(H.a,{variant:"body2"},"\u4e2d\u6587\u540d\uff1a"+e.staff.name_cn),e.staff.jobs.map((function(e){return r.a.createElement(H.a,{key:e,className:_n.a.job,variant:"caption"},e)}))))},vn=t(82),In=t.n(vn),Nn=function(e){return r.a.createElement("div",{className:In.a.staffDetail},r.a.createElement(H.a,{variant:"body1",className:In.a.header},"\u5236\u4f5c\u4eba\u5458"),r.a.createElement(L.a,{className:In.a.divider}),r.a.createElement("div",{className:In.a.staffList},e.staffs.map((function(e){return r.a.createElement(En,{key:e.id,staff:e})}))))},Sn=t(283),yn=t(55),On=t.n(yn),Cn=function(e){for(var a=[],t=1;t<11;t++)a.push(r.a.createElement(r.a.Fragment,{key:t},r.a.createElement(H.a,{className:On.a.ratingNum,variant:"caption"},t),r.a.createElement(en.a,{title:e.rating.count["".concat(t)]},r.a.createElement(Sn.a,{className:On.a.bar,variant:"determinate",value:parseInt(e.rating.count["".concat(t)]/e.rating.total*100),valueBuffer:100}))));return r.a.createElement("div",{className:On.a.ratingDetail},r.a.createElement(H.a,{variant:"body1",className:On.a.header},"\u8bc4\u5206\u5206\u5e03"," ",r.a.createElement(H.a,{variant:"caption"},"(\u603b\u8bc4\u5206\u4eba\u6570\uff1a",e.rating.total,")")),r.a.createElement(L.a,{className:On.a.divider}),r.a.createElement("div",{className:On.a.ratingChart},a))},jn=t(69),An=t.n(jn),wn=function(e){return r.a.createElement("div",{className:An.a.tagsDetail},r.a.createElement(H.a,{variant:"body1",className:An.a.header},"\u6807\u7b7e\u4e91"),r.a.createElement(L.a,{className:An.a.divider}),r.a.createElement("div",{className:An.a.tags},e.tags.map((function(e){return r.a.createElement(en.a,{key:e.name,title:"\u6807\u8bb0\u6570\uff1a"+e.count,arrow:!0},r.a.createElement(H.a,{className:An.a.tag,variant:"subtitle2"},e.name))}))))},kn=function(e){return r.a.createElement("div",{className:Ht.a.detailSection},r.a.createElement("div",{className:Ht.a.left},r.a.createElement(Xt,{info:e.data.production})),r.a.createElement("div",{className:Ht.a.center},e.data.eps&&r.a.createElement(cn,{episodes:e.data.eps}),e.data.crt&&r.a.createElement(bn,{characters:e.data.crt}),e.data.staff&&r.a.createElement(Nn,{staffs:e.data.staff})),r.a.createElement("div",{className:Ht.a.right},e.data.rating&&r.a.createElement(Cn,{rating:e.data.rating}),r.a.createElement(wn,{tags:e.data.tags})))},xn=function(e){return r.a.createElement("div",{className:Jt.a.infoSection},r.a.createElement(Pt,{id:e.data.id,image:e.data.cover,titleCN:e.data.name_cn,titleJP:e.data.name,airDate:e.data.air_date,weekday:e.data.air_weekday,rating:e.data.rating&&e.data.rating.score,summary:e.data.summary}),r.a.createElement(kn,{data:e.data}))};function Dn(){var e=Object(Lt.a)(['\n  &::before {\n    width: 100%;\n    height: 100vh;\n    display: block;\n    content: "";\n    position: fixed;\n    background-size: cover;\n    background-image: url(',");\n    z-index: -1;\n    filter: blur(100px) brightness(0.7);\n  }\n"]);return Dn=function(){return e},e}var Mn=Rt.a.div(Dn(),(function(e){return e.image})),Tn=function(){var e=Object(n.useState)(!0),a=Object(A.a)(e,2),t=a[0],i=a[1],c=Object(n.useState)(null),l=Object(A.a)(c,2),o=l[0],s=l[1],u=Object(R.h)().bgmId,m=new na;return Object(n.useEffect)((function(){o||m.getBangumiDataFull(u).then((function(e){s(e),i(!1)}))}),[m,o,u]),t?r.a.createElement(Ra.a,{className:Wt.a.skeleton,animation:"wave",variant:"rect"}):r.a.createElement(Mn,{className:Wt.a.fullInfoPage,image:o.cover},r.a.createElement(xn,{data:o}))},Ln=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R.c,null,r.a.createElement(R.a,{path:"/",exact:!0,component:yt}),r.a.createElement(R.a,{path:"/about",exact:!0,component:jt}),r.a.createElement(R.a,{path:"/favorite",exact:!0,component:At}),r.a.createElement(R.a,{path:"/weekly",exact:!0,component:Ca}),r.a.createElement(R.a,{path:"/error",exact:!0,component:Tt}),r.a.createElement(R.a,{path:"/bangumi/:bgmId",component:Tn}),r.a.createElement(R.a,{path:"/:year/:month",component:Ga}),r.a.createElement(R.a,{path:"/:year",component:ht}),r.a.createElement(R.a,{path:"*",component:Tt})))},Rn=t(292),Bn=t(284),Wn=t(163),Gn=t.n(Wn),Jn=r.a.memo((function(){var e=Object(R.g)().pathname;if(["/","/error"].includes(e))return null;var a=Object(R.f)(),t=e.split("/").filter((function(e){return""!==e})),n=function(e){a.push(e)},i=[r.a.createElement(_t.a,{key:"home",color:"inherit",onClick:function(){return n("/")}},"\u9996\u9875")];return t.forEach((function(e){t.indexOf(e)!==t.length-1?"bangumi"!==e&&i.push(r.a.createElement(_t.a,{key:e,color:"inherit",onClick:function(){return n("/"+e)}},v(e))):i.push(r.a.createElement(H.a,{key:e,color:"textPrimary"},v(e)))})),r.a.createElement(r.a.Fragment,null,r.a.createElement(Rn.a,{className:Gn.a.breadcrumb,separator:r.a.createElement(Bn.a,{fontSize:"small"}),"aria-label":"breadcrumb"},i),r.a.createElement(L.a,null))})),Zn=t(100),Fn=t.n(Zn),zn=function(){return r.a.createElement("div",{className:Fn.a.loading},r.a.createElement("img",{className:Fn.a.logo,src:ae.a,alt:"logo"}),r.a.createElement(H.a,{className:Fn.a.loadingText,variant:"h3",align:"center"},"Loading..."))},Yn=t(101),Pn=t.n(Yn),Un=function(e){Object(f.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=a.call.apply(a,[this].concat(r))).state={openSidebar:!0},e.siderbarHandler=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===a?e.setState((function(e){return{openSidebar:!e.openSidebar}})):e.setState({openSidebar:a})},e}return Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.initialization(),b.isMobile&&this.setState({openSidebar:!1})}},{key:"render",value:function(){var e=this;return this.props.initialized?r.a.createElement(r.a.Fragment,null,r.a.createElement(_e,{toggleSidebar:function(){return e.siderbarHandler()}}),r.a.createElement(z,{openSidebar:this.state.openSidebar,closeSidebar:function(){return e.siderbarHandler(!1)}}),r.a.createElement("div",{className:b.isMobile?Pn.a.contentsAreaFullWidth:this.state.openSidebar?Pn.a.contentsArea:Pn.a.contentsAreaFullWidth},r.a.createElement(Jn,null),r.a.createElement(Ln,null))):r.a.createElement(zn,null)}}]),t}(n.PureComponent),Hn=Object(o.b)((function(e){return{initialized:e.bangumiData.initialized}}),(function(e){return{initialization:function(){return e(y())}}}))(Un);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Vn={initialized:!1},Qn=function(e,a){return Object(j.a)(Object(j.a)({},e),{},{initialized:a.initialized})},Xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"INITIALIZATION":return Qn(e,a);default:return e}},Kn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,qn=Object(l.c)({bangumiData:Xn}),$n=Object(l.e)(qn,Kn(Object(l.a)(u.a)));c.a.render(r.a.createElement(o.a,{store:$n},r.a.createElement(s.a,null,r.a.createElement(m.b,{injectFirst:!0},r.a.createElement(Hn,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[178,1,2]]]);
//# sourceMappingURL=main.a8368ada.chunk.js.map