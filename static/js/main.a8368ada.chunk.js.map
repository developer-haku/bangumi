{"version":3,"sources":["components/AnimeCard/AnimeCard.module.css","components/FullAnimeInfo/InfoSection/TitleSection/TitleSection.module.css","components/AnimeMiniCard/AnimeMiniCard.module.css","components/AnimeList/AnnualAnimeList/SeasonCards/SeasonCard/SeasonCard.module.css","pages/About/About.module.css","components/Topbar/Topbar.module.css","pages/Home/Home.module.css","components/FullAnimeInfo/InfoSection/DetailSection/RatingDetail/RatingDetail.module.css","assets/images/logo.png","pages/Error/Error.module.css","components/FullAnimeInfo/InfoSection/DetailSection/CharacterDetail/CharacterCard/CharacterCard.module.css","components/FullAnimeInfo/InfoSection/DetailSection/TagDetail/TagDetail.module.css","assets/images/nocover.jpg","components/FullAnimeInfo/InfoSection/DetailSection/DetailSection.module.css","components/FullAnimeInfo/InfoSection/DetailSection/ProductionDetail/ProductionDetail.module.css","components/FullAnimeInfo/InfoSection/DetailSection/EpisodeDetail/EpisodeDetail.module.css","components/FullAnimeInfo/InfoSection/DetailSection/CharacterDetail/CharacterDetail.module.css","components/FullAnimeInfo/InfoSection/DetailSection/StaffDetail/StaffCard/StaffCard.module.css","components/FullAnimeInfo/InfoSection/DetailSection/StaffDetail/StaffDetail.module.css","assets/images/profile_placeholder.png","components/AnimeColumnList/AnimeColumnList.module.css","pages/Loading/Loading.module.css","components/Layout/Layout.module.css","components/AnimeList/AnnualAnimeList/AnnualAnimeList.module.css","components/FullAnimeInfo/FullAnimeInfo.module.css","components/Sidebar/Sidebar.module.css","components/Setting/Setting.module.css","components/AnimeList/WeeklyAnimeList/WeeklyAnimeList.module.css","assets/images/weekdays/sunday.svg","assets/images/weekdays/monday.svg","assets/images/weekdays/tuesday.svg","assets/images/weekdays/wednesday.svg","assets/images/weekdays/thursday.svg","assets/images/weekdays/friday.svg","assets/images/weekdays/saturday.svg","assets/images/loading.svg","assets/images/season_empty.jpg","assets/images/not_air.jpg","assets/images/seasons/spring.svg","assets/images/seasons/summer.svg","assets/images/seasons/autumn.svg","assets/images/seasons/winter.svg","components/AnimeList/AnnualAnimeList/SeasonCards/SeasonCards.module.css","components/AnimeList/AnnualAnimeList/PaginationAnimeList/PaginationAnimeList.module.css","assets/images/myne_sit.png","assets/images/myne_cry.png","components/FullAnimeInfo/InfoSection/InfoSection.module.css","components/FullAnimeInfo/InfoSection/DetailSection/EpisodeDetail/EpisodeButton/EpisodeButton.module.css","assets/images/CharacterPlaceholder.jpg","components/Breadcrumb/Breadcrumb.module.css","utils/utils.js","store/actions/apis/BangumiData.js","store/actions/ActionTypes.js","service/Initialization.js","components/Sidebar/Sidebar.js","components/Reset/Reset.js","components/Setting/Setting.js","components/Topbar/Topbar.js","service/api/BangumiSubject.js","service/api/BangumiApi.js","service/api/Netabare.js","service/api/BangumiGA.js","service/api/DataMix.js","service/AnimeDataService.js","components/AnimeMiniCard/AnimeMiniCard.js","components/AnimeColumnList/AnimeColumnList.js","components/AnimeList/WeeklyAnimeList/WeeklyAnimeList.js","components/AnimeCard/AnimeCard.js","components/AnimeList/AnimeList.js","components/AnimeCard/AnimeCardSkeleton.js","components/AnimeList/AnimeListSkeleton.js","components/AnimeList/SeasonAnimeList/SeasonAnimeList.js","components/AnimeList/AnnualAnimeList/SeasonCards/SeasonCard/SeasonCard.js","components/AnimeList/AnnualAnimeList/SeasonCards/SeasonCards.js","components/AnimeList/AnnualAnimeList/PaginationAnimeList/PaginationAnimeList.js","components/AnimeList/AnnualAnimeList/AnnualAnimeList.js","pages/Home/Home.js","pages/About/About.js","components/AnimeList/FavoritedAnimeList/FavoritedAnimeList.js","pages/Error/Error.js","components/FullAnimeInfo/InfoSection/TitleSection/TitleSection.js","components/FullAnimeInfo/InfoSection/DetailSection/ProductionDetail/ProductionDetail.js","components/FullAnimeInfo/InfoSection/DetailSection/EpisodeDetail/EpisodeButton/EpisodeButton.js","components/FullAnimeInfo/InfoSection/DetailSection/EpisodeDetail/EpisodeDetail.js","components/FullAnimeInfo/InfoSection/DetailSection/CharacterDetail/CharacterCard/CharacterCard.js","components/FullAnimeInfo/InfoSection/DetailSection/CharacterDetail/CharacterDetail.js","components/FullAnimeInfo/InfoSection/DetailSection/StaffDetail/StaffCard/StaffCard.js","components/FullAnimeInfo/InfoSection/DetailSection/StaffDetail/StaffDetail.js","components/FullAnimeInfo/InfoSection/DetailSection/RatingDetail/RatingDetail.js","components/FullAnimeInfo/InfoSection/DetailSection/TagDetail/TagDetail.js","components/FullAnimeInfo/InfoSection/DetailSection/DetailSection.js","components/FullAnimeInfo/InfoSection/InfoSection.js","components/FullAnimeInfo/FullAnimeInfo.js","router/index.js","components/Breadcrumb/Breadcrumb.js","pages/Loading/Loading.js","components/Layout/Layout.js","serviceWorker.js","store/reducers/BangumiDataReducer.js","index.js"],"names":["module","exports","getSeasonRange","year","month","startMonth","endMonth","endYear","slice","translateBreadcrumb","breadcrumb","translateData","weekly","favorite","about","instruction","initializedCollapseKey","key","location","path","pathname","start","Date","end","parseInt","curr","forceHttps","url","match","replace","setInitialization","initialized","type","initialization","dispatch","localVersion","localStorage","getItem","lastestVersion","setItem","JSON","stringify","cardApi","pageApi","cors","proxy","axios","get","then","res","data","tags","latest","version","siteMeta","items","filter","item","undefined","sites","find","i","site","years","forEach","b","begin","getFullYear","includes","push","init","connect","state","bangumiData","props","useLocation","history","useHistory","useState","collapseKeys","setCollapseKeys","React","selectedItem","setSelectedItem","parse","yearList","min","Math","max","Collapse","in","unmountOnExit","f","map","m","ListItem","selected","button","onClick","clickHandler","ListItemText","reverse","ExpandMore","ExpandLess","genenerateYearList","link","isMobile","closeSidebar","Drawer","anchor","open","openSidebar","variant","onClose","List","className","styles","list","style","marginTop","ListSubheader","disableSticky","Divider","Reset","ignoreFav","setIgnoreFav","Dialog","close","maxWidth","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","Switch","checked","onChange","prevState","size","DialogActions","Button","color","savedFav","clear","window","reload","Setting","setCardApi","corsUrl","FormControl","component","FormLabel","RadioGroup","value","event","target","FormControlLabel","control","Radio","label","divider","Topbar","openResetAlert","setOpenResetAlert","openMenu","setOpenMenu","backToHome","AppBar","appbar","position","Toolbar","toolbar","IconButton","edge","aria-label","toggleSidebar","Menu","Fragment","logo","src","alt","Typography","name","right","rightItem","GitHub","Cached","Settings","fetchBangumiSubjectData","id","a","catch","err","console","log","response","reassembleBasicData","reassembledData","nameCn","image","score","rating","getBangumiSubjectDataFull","getBangumiSubjectDataBasic","rawData","basicData","fetchBangumiApiData","code","images","large","getBangumiApiDataFull","getBangumiApiDataBasic","fetchNetabareData","EMPTY_OBJECT","subject","getNetabareDataFull","getNetabareDataBasic","fetchBangumiGaData","getBangumiGaDataFull","getBangumiGaDataBasic","subjectApiMix","bgmSbjData","production","info","cover","subjectNetabareMix","subjectGaMix","AnimeDataService","getBangumiDataBasic","API","getBangumiDataFull","this","AnimeMiniCard","animeData","setAnimeData","anchorEl","setAnchorEl","menuOpen","setMenuOpen","isFav","setIsFav","Boolean","ads","bangumiId","anime","useEffect","title","titleTranslate","bangumiRating","menuItem","MenuItem","siteHandler","Info","animeMenuIcon","PlayCircleFilled","sort","unshift","openTargetSite","officialSite","dmhy","urlTemplate","GetApp","goFullInfoPage","Card","card","CardMedia","coverImage","NoCoverPlaceholderImage","CardContent","content","CardActions","actions","favBtn","favList","splice","indexOf","Favorite","favIcon","FavoriteBorder","moreBtn","currentTarget","MoreHoriz","elevation","animeMenu","keepMounted","TransitionComponent","Fade","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","AnimeColumnList","weekdayIcon","SundayIcon","MondayIcon","TuesdayIcon","WednesdayIcon","ThursdayIcon","FridayIcon","SaturdayIcon","column","icon","weekday","l","WeeklyAnimeList","fullItems","range","getMonth","selectedItems","day","getDay","weeklyAnimeList","AnimeCard","memo","loadingPlaceHolderImage","cardContent","Rating","defaultValue","precision","disabled","readOnly","Box","ratingNum","cardActions","MoreVert","AnimeList","AnimeCardSkeleton","Skeleton","height","animation","width","ratingSkl","AnimeListSkeleton","SeasonAnimeList","loading","setLoading","seasonItems","setSeasonItems","useParams","SeasonCard","bottomButton","buttonStyle","setButtonStyle","setCoverImage","imageStyle","setImageStyle","prevYear","ref","useRef","current","usePrevious","cardStyle","seasonStarted","seasonIcon","season","SpringIcon","SummerIcon","AutumnIcon","WinterIcon","randomId","length","floor","random","getRandomAnime","NotFoundImage","left","leftCard","center","centerCard","rightCard","pointer","onMouseOver","moveButtonUp","imgTransform","onMouseOut","NotAirImage","buttonText","buttonTextSeason","ButtonGroup","character","getAnimePerPageByResolution","screen","PaginationAnimeList","animes","setAnimes","currentPage","setCurrentPage","currentAnimes","setCurrentAnimes","animePerPage","indexOfLastAnime","indexOfFirstAnime","Pagination","pagination","count","ceil","page","showFirstButton","showLastButton","a11yProps","index","TabPanel","children","other","role","hidden","AnnualAnimeList","setValue","seasons","seasonsFullWidth","Tabs","newValue","indicatorColor","textColor","Tab","SeasonCards","Home","home","Logo","align","paragraph","Link","href","ArrowBackIosRounded","arrowIcon","badges","rel","myne","Myne","About","header","badge","header2","apiList","FavoritedAnimeList","setItems","filteredItems","Error","error","buttons","startIcon","History","goBack","TitleSection","toString","links","titleCN","titleSection","titleInfo","basicInfo","titleJP","time","AccessTime","fontSize","airDate","CalendarToday","summaryInfo","summary","ProductionDetail","infoList","parsedInfo","productionDetail","HtmlTooltip","withStyles","theme","tooltip","backgroundColor","typography","pxToRem","border","Tooltip","EpisodeButton","eps","airdate","status","data-tip","data-for","disableElevation","disableRipple","EpisodeDetail","episodeDetail","episodeList","episodes","CharacterCard","characterImage","CharacterPlaceholderImage","cardImage","setCardImage","gender","birth","bloodtype","bwh","characterCard","actors","ProfilePlaceholderImage","charaInfo","alias","kana","CharacterDetail","characterDetail","characterList","characters","StaffCard","staffCard","profileImage","staff","medium","staffInfo","jobs","job","StaffDetail","staffDetail","staffList","staffs","RatingDetail","ratingChart","LinearProgress","bar","total","valueBuffer","ratingDetail","TagDetail","tagsDetail","tag","arrow","DetailSection","detailSection","crt","InfoSection","infoSection","name_cn","Div","styled","div","FullAnimeInfo","bangumiInfo","setBangumiInfo","bgmId","skeleton","fullInfoPage","Router","exact","ErrorPage","Breadcrumb","crumbs","split","linkHandler","crumbLinks","Breadcrumbs","separator","NavigateNext","BangumiDataLoading","loadingText","Layout","siderbarHandler","setState","contentsAreaFullWidth","contentsArea","Loading","PureComponent","action","hostname","defaultState","reducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","bangumiDataReducer","store","createStore","applyMiddleware","ReduxThunk","ReactDOM","render","StylesProvider","injectFirst","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.a8368ada.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"AnimeCard_card__3mKKU\",\"title\":\"AnimeCard_title__cmLwT\",\"cardContent\":\"AnimeCard_cardContent__2cgvU\",\"coverImage\":\"AnimeCard_coverImage__M5KCu\",\"rating\":\"AnimeCard_rating__2D9_M\",\"ratingNum\":\"AnimeCard_ratingNum__2hl96\",\"cardActions\":\"AnimeCard_cardActions__3QKGL\",\"favBtn\":\"AnimeCard_favBtn__3JlnM\",\"moreBtn\":\"AnimeCard_moreBtn__1xbM7\",\"animeMenu\":\"AnimeCard_animeMenu__261Wu\",\"animeMenuIcon\":\"AnimeCard_animeMenuIcon__3m3EC\",\"menuItem\":\"AnimeCard_menuItem__1G27J\",\"ratingSkl\":\"AnimeCard_ratingSkl__3f8F-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleSection\":\"TitleSection_titleSection__1ZckJ\",\"coverImage\":\"TitleSection_coverImage__2Le7j\",\"titleInfo\":\"TitleSection_titleInfo__VBKDK\",\"basicInfo\":\"TitleSection_basicInfo__r5tPk\",\"favIcon\":\"TitleSection_favIcon__3wQTv\",\"icon\":\"TitleSection_icon__2I8XQ\",\"rating\":\"TitleSection_rating__2BNAe\",\"links\":\"TitleSection_links__TGMiN\",\"link\":\"TitleSection_link__3SxWO\",\"summaryInfo\":\"TitleSection_summaryInfo__3H2nJ\",\"summary\":\"TitleSection_summary__1Zt4x\",\"titleCN\":\"TitleSection_titleCN__u42vh\",\"titleJP\":\"TitleSection_titleJP__3P7_p\",\"time\":\"TitleSection_time__4SDfX\",\"bangumiRating\":\"TitleSection_bangumiRating__2WuG3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"AnimeMiniCard_card__tSoTm\",\"rating\":\"AnimeMiniCard_rating__26fkT\",\"coverImage\":\"AnimeMiniCard_coverImage__1ZsbD\",\"content\":\"AnimeMiniCard_content__2Z1QK\",\"title\":\"AnimeMiniCard_title__3jPxR\",\"divider\":\"AnimeMiniCard_divider__3pXN6\",\"actions\":\"AnimeMiniCard_actions__3KrTI\",\"favBtn\":\"AnimeMiniCard_favBtn__83vW4\",\"favIcon\":\"AnimeMiniCard_favIcon__hSW77\",\"moreBtn\":\"AnimeMiniCard_moreBtn__3WGn9\",\"animeMenu\":\"AnimeMiniCard_animeMenu__pg7jN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"SeasonCard_card__XuWjl\",\"pointer\":\"SeasonCard_pointer__3XG-N\",\"coverImage\":\"SeasonCard_coverImage__m6pVn\",\"imgTransform\":\"SeasonCard_imgTransform__sUFu1\",\"leftCard\":\"SeasonCard_leftCard__2zK2N\",\"centerCard\":\"SeasonCard_centerCard__3RDhP\",\"rightCard\":\"SeasonCard_rightCard__1T6qE\",\"bottomButton\":\"SeasonCard_bottomButton__3fv7O\",\"moveButtonUp\":\"SeasonCard_moveButtonUp__37A8-\",\"seasonIcon\":\"SeasonCard_seasonIcon__1KTt1\",\"buttonText\":\"SeasonCard_buttonText__a9Ogt\",\"buttonTextSeason\":\"SeasonCard_buttonTextSeason__16Wc3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"about\":\"About_about__2FbB7\",\"badges\":\"About_badges__1era_\",\"badge\":\"About_badge__1EiAT\",\"header\":\"About_header__1aaxA\",\"header2\":\"About_header2__3PN2h\",\"paragraph\":\"About_paragraph__U_BCT\",\"notice\":\"About_notice__35CGD\",\"apiList\":\"About_apiList__2kysV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toolbar\":\"Topbar_toolbar__AKTpm\",\"right\":\"Topbar_right__2lgr2\",\"rightItem\":\"Topbar_rightItem__3BGv5\",\"appbar\":\"Topbar_appbar__OJNqw\",\"logo\":\"Topbar_logo__3pN_1\",\"name\":\"Topbar_name__3uaUn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__137cg\",\"logo\":\"Home_logo__3ITRM\",\"title\":\"Home_title__Gf5gg\",\"arrowIcon\":\"Home_arrowIcon__3zeZZ\",\"bounce\":\"Home_bounce__3zJQd\",\"badges\":\"Home_badges__3j3LA\",\"myne\":\"Home_myne__10x6Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ratingDetail\":\"RatingDetail_ratingDetail__3zxZ6\",\"header\":\"RatingDetail_header__IIn0w\",\"divider\":\"RatingDetail_divider__1ufDr\",\"ratingChart\":\"RatingDetail_ratingChart__1vem6\",\"ratingNum\":\"RatingDetail_ratingNum__3duMF\",\"bar\":\"RatingDetail_bar__1JIEF\"};","module.exports = __webpack_public_path__ + \"static/media/logo.e676953a.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__3DNgx\",\"myne\":\"Error_myne__32-oe\",\"buttons\":\"Error_buttons__2-qSD\",\"button\":\"Error_button__2Nyj9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"characterCard\":\"CharacterCard_characterCard__1-Cs8\",\"characterImage\":\"CharacterCard_characterImage__3Q5Rk\",\"charaInfo\":\"CharacterCard_charaInfo__3VkhA\",\"role\":\"CharacterCard_role__7haIg\",\"actors\":\"CharacterCard_actors__25pJH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tagsDetail\":\"TagDetail_tagsDetail__3ohCY\",\"header\":\"TagDetail_header__3xPp5\",\"divider\":\"TagDetail_divider__1nehO\",\"tags\":\"TagDetail_tags__BJFsn\",\"tag\":\"TagDetail_tag__1I20K\"};","module.exports = __webpack_public_path__ + \"static/media/nocover.6ce0da62.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"detailSection\":\"DetailSection_detailSection__29Kz3\",\"left\":\"DetailSection_left__1JRDM\",\"center\":\"DetailSection_center__32w_H\",\"right\":\"DetailSection_right__2mTHT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ProductionDetail_header__3eZJW\",\"divider\":\"ProductionDetail_divider__32ANT\",\"productionDetail\":\"ProductionDetail_productionDetail__3t9w0\",\"parsedInfo\":\"ProductionDetail_parsedInfo__2K5ab\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"episodeDetail\":\"EpisodeDetail_episodeDetail__300Xx\",\"header\":\"EpisodeDetail_header__1sMUV\",\"divider\":\"EpisodeDetail_divider__2tUEN\",\"episodeList\":\"EpisodeDetail_episodeList__3fdxg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"characterDetail\":\"CharacterDetail_characterDetail__3LZdB\",\"header\":\"CharacterDetail_header__3pD4-\",\"divider\":\"CharacterDetail_divider__1Y9eU\",\"characterList\":\"CharacterDetail_characterList__2c-hr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"staffCard\":\"StaffCard_staffCard__3rl-A\",\"profileImage\":\"StaffCard_profileImage__2OnFc\",\"staffInfo\":\"StaffCard_staffInfo__1PaQl\",\"job\":\"StaffCard_job__2VTyN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"staffDetail\":\"StaffDetail_staffDetail__2RROj\",\"header\":\"StaffDetail_header__3oF7t\",\"divider\":\"StaffDetail_divider__1G-2F\",\"staffList\":\"StaffDetail_staffList__lyEv8\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAIAAAAiOjnJAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA2LTI5VDIyOjAxOjI5LTA0OjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA2LTI5VDIyOjAxOjI5LTA0OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNi0yOVQyMjowMToyOS0wNDowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpkYmVlYjA1NS1iOTY3LTU1NDktOTYxNy1iMjJjNWU1MmEwNTUiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowMWU1ZWNiZS00NTdhLWQ3NDMtOWEw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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"column\":\"AnimeColumnList_column__1oHE6\",\"icon\":\"AnimeColumnList_icon__QEBr2\",\"weekday\":\"AnimeColumnList_weekday__2FGpg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Loading_loading__1maUo\",\"logo\":\"Loading_logo__GvVD4\",\"loadingText\":\"Loading_loadingText__qBqhS\",\"animate\":\"Loading_animate__1pcRe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentsArea\":\"Layout_contentsArea__1vd0E\",\"contentsAreaFullWidth\":\"Layout_contentsAreaFullWidth__1rF8W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"year\":\"AnnualAnimeList_year__jsJ5b\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fullInfoPage\":\"FullAnimeInfo_fullInfoPage__3pW2Z\",\"skeleton\":\"FullAnimeInfo_skeleton__3NzRO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"Sidebar_list__2-ib7\",\"drawerPaper\":\"Sidebar_drawerPaper__1PZYU\",\"ListItem\":\"Sidebar_ListItem__3D6sU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"Setting_divider__3QaJX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"weeklyAnimeList\":\"WeeklyAnimeList_weeklyAnimeList__2y-2D\"};","module.exports = __webpack_public_path__ + \"static/media/sunday.471b7676.svg\";","module.exports = __webpack_public_path__ + \"static/media/monday.2022dabb.svg\";","module.exports = __webpack_public_path__ + \"static/media/tuesday.ff792e59.svg\";","module.exports = __webpack_public_path__ + \"static/media/wednesday.c5e355ed.svg\";","module.exports = __webpack_public_path__ + \"static/media/thursday.ebe26385.svg\";","module.exports = __webpack_public_path__ + \"static/media/friday.92565b85.svg\";","module.exports = __webpack_public_path__ + \"static/media/saturday.4bb326a5.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading.d3377a06.svg\";","module.exports = __webpack_public_path__ + \"static/media/season_empty.fb5137d2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/not_air.1bd30696.jpg\";","module.exports = __webpack_public_path__ + \"static/media/spring.7be28865.svg\";","module.exports = __webpack_public_path__ + \"static/media/summer.6738f47d.svg\";","module.exports = __webpack_public_path__ + \"static/media/autumn.1d5b9e47.svg\";","module.exports = __webpack_public_path__ + \"static/media/winter.50821822.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"season\":\"SeasonCards_season__2ipDs\",\"button\":\"SeasonCards_button__3WqOM\",\"seasonCharacter\":\"SeasonCards_seasonCharacter__1C8C2\",\"spring\":\"SeasonCards_spring__1Fkug\",\"summer\":\"SeasonCards_summer__1sCj3\",\"autumn\":\"SeasonCards_autumn__1v79u\",\"winter\":\"SeasonCards_winter__3TduL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"PaginationAnimeList_pagination__2CeFS\"};","module.exports = __webpack_public_path__ + \"static/media/myne_sit.0e0ea202.png\";","module.exports = __webpack_public_path__ + \"static/media/myne_cry.44285a86.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoSection\":\"InfoSection_infoSection__3ehH_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"EpisodeButton_button__kAg0h\"};","module.exports = __webpack_public_path__ + \"static/media/CharacterPlaceholder.cfa5cba7.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"breadcrumb\":\"Breadcrumb_breadcrumb__1wLMU\"};","/** This files store utility functions for the project. */\r\n\r\n/**\r\n * Pass the year and month and give back the start and end time of the season\r\n * @param {number} year The year of the selected season\r\n * @param {number} month Any month during the selected season\r\n * @returns The begin and end time string array of the selected season\r\n */\r\nexport const getSeasonRange = (year, month) => {\r\n  let startMonth = 0,\r\n    endMonth = 0,\r\n    endYear = year;\r\n\r\n  if (month >= 1 && month < 4) {\r\n    startMonth = 1;\r\n    endMonth = 4;\r\n  } else if (month >= 4 && month < 7) {\r\n    startMonth = 4;\r\n    endMonth = 7;\r\n  } else if (month >= 7 && month < 10) {\r\n    startMonth = 7;\r\n    endMonth = 10;\r\n  } else if (month >= 10) {\r\n    startMonth = 10;\r\n    endMonth = 1;\r\n    endYear++;\r\n  }\r\n\r\n  return [\r\n    year + \"-\" + (\"0\" + startMonth).slice(-2) + \"-01T00:00:00.000Z\",\r\n    endYear + \"-\" + (\"0\" + endMonth).slice(-2) + \"-01T00:00:00.000Z\",\r\n  ];\r\n};\r\n\r\n/**\r\n * Pass the year and give back the start and end time of the year\r\n * @param {number} year The year of the selected year\r\n * @returns The begin and end time string array of the selected year\r\n */\r\nexport const getAnnualRange = (year) => {\r\n  return [year + \"-01-01T00:00:00.000Z\", ++year + \"-01-01T00:00:00.000Z\"];\r\n};\r\n\r\n/**\r\n * Translate breadcrumb to property text\r\n * @param {string} breadcrumb breadcrumb string that was originally extract from the url\r\n * @returns translated breadcrumb\r\n */\r\nexport const translateBreadcrumb = (breadcrumb) => {\r\n  const translateData = {\r\n    weekly: \"每周新番\",\r\n    favorite: \"我的收藏\",\r\n    about: \"关于\",\r\n    instruction: \"使用说明\"\r\n  };\r\n\r\n  return translateData[breadcrumb] ? translateData[breadcrumb] : breadcrumb;\r\n};\r\n\r\n/**\r\n * Get a random anime from the season for season card display purpose\r\n * @param {number} year The year of the selected season\r\n * @param {number} month The month of the selected season\r\n * @returns a random bangumi id\r\n */\r\nexport const getRandomAnime = (year, month) => {\r\n  const range = getSeasonRange(parseInt(year), parseInt(month));\r\n\r\n  const items = JSON.parse(localStorage.getItem(\"bd_items\")).filter(\r\n    (item) =>\r\n      new Date(item.begin) >= new Date(range[0]) &&\r\n      new Date(item.begin) < new Date(range[1])\r\n  );\r\n\r\n  return items.length === 0\r\n    ? 0\r\n    : items[Math.floor(Math.random() * items.length)].sites.find(\r\n        (i) => i.site === \"bangumi\"\r\n      ).id;\r\n};\r\n\r\n/**\r\n * Check if the current location is in the decade of the selected key\r\n * @param {string} key collpase state key for the sidebar\r\n * @param {object} location current location/url\r\n * @returns boolean value for initializing the collpase state in the sidebar\r\n */\r\nexport const initializedCollapseKey = (key, location) => {\r\n  const path = location.pathname.slice(1, 5);\r\n  const start = new Date(key.slice(0, 4), 1),\r\n    end = new Date(key.slice(4), 1);\r\n  if (parseInt(path)) {\r\n    const curr = new Date(path, 1);\r\n    return start <= curr && curr <= end ? true : false;\r\n  }\r\n};\r\n\r\n/**\r\n * get bangumi-data from local storage by bangumi.tv subject id\r\n * @param {string} id bangumi.tv id\r\n * @returns anime data that matches the id\r\n */\r\nexport const getLocalBangumiDataById = (id) => {\r\n  return JSON.parse(localStorage.getItem(\"bd_items\")).filter(\r\n    (item) => item.sites.find((i) => i.site === \"bangumi\").id === id\r\n  );\r\n};\r\n\r\n/**\r\n * filter out items that do not have a bangumi.tv subject id\r\n * @param {Array} items items list from bangumi-data\r\n * @returns filtered array\r\n */\r\nexport const filterItemWithNoBangumiId = (items) => {\r\n  return items.filter(\r\n    (item) => item.sites.find((i) => i.site === \"bangumi\") !== undefined\r\n  );\r\n};\r\n\r\n/**\r\n * translate weekday number to chinese\r\n * @param {number} index number represent the weekday, mon = 1\r\n * @returns weekday in chinese\r\n */\r\nexport const translateWeekday = (index) => {\r\n  return [\"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\", \"星期日\"][\r\n    index - 1\r\n  ];\r\n};\r\n\r\n/**\r\n * convert the image url to another url with a different size\r\n * @param {string} url bangumi image url\r\n * @param {string} size single character: \"l\" = large | \"c\" = common | \"m\" = middle | \"s\" = small | \"g\" = grid\r\n * @returns an url with a different size\r\n */\r\nexport const swapCoverPictureSize = (url, size) => {\r\n  return url.replace(/(?<=cover)(\\/)(.)(\\/)/g, `/${size}/`)\r\n}\r\n\r\n\r\n/**\r\n * convert a url to one begin with https protocal\r\n * @param {string} url url of any kind\r\n * @returns url string begin with https protocal\r\n */\r\nexport const forceHttps = (url) => {\r\n  return url.match(/\\/\\//g) ? url.replace(/.+(?<=\\/\\/)/g, \"https://\") : `https://${url}`\r\n} ","import axios from \"axios\";\r\n\r\nimport * as actionType from \"../ActionTypes\";\r\nimport * as init from \"../../../service/Initialization\";\r\n\r\nexport const setInitialization = (initialized) => {\r\n  return {\r\n    type: actionType.INITIALIZATION,\r\n    initialized: initialized,\r\n  };\r\n};\r\n\r\nexport const initialization = () => {\r\n  return (dispatch) => {\r\n    const localVersion = localStorage.getItem(\"bd_version\");\r\n    let lastestVersion = null;\r\n\r\n    init.initializeLocalSetting();\r\n    init.initializeLocalFavorite();\r\n\r\n    axios\r\n      .get(\"https://data.jsdelivr.com/v1/package/npm/bangumi-data\")\r\n      .then((res) => {\r\n        lastestVersion = res.data.tags.latest;\r\n        if (localVersion !== lastestVersion) {\r\n          axios\r\n            .get(\r\n              `https://cdn.jsdelivr.net/npm/bangumi-data@latest/dist/data.json`\r\n            )\r\n            .then((res) => {\r\n              init.initializeLocalBangumiData(lastestVersion, res.data);\r\n              init.initializeLocalYearList(res.data.items);\r\n              dispatch(setInitialization(true));\r\n            });\r\n        } else {\r\n          dispatch(setInitialization(true));\r\n        }\r\n      });\r\n  };\r\n};\r\n","export const INITIALIZATION = \"INITIALIZATION\";\r\n","import { filterItemWithNoBangumiId } from \"../utils/utils\";\r\n\r\nexport const initializeLocalFavorite = () => {\r\n  !localStorage.getItem(\"favorite\") && localStorage.setItem(\"favorite\", \"[]\");\r\n};\r\n\r\nexport const initializeLocalSetting = () => {\r\n  !localStorage.getItem(\"setting\") &&\r\n    localStorage.setItem(\r\n      \"setting\",\r\n      JSON.stringify({\r\n        cardApi: \"default\",\r\n        pageApi: \"default\",\r\n        cors: {\r\n          proxy: \"heroku\",\r\n          url: \"https://cors-anywhere.herokuapp.com/\",\r\n        },\r\n      })\r\n    );\r\n};\r\n\r\nexport const initializeLocalYearList = (items) => {\r\n  let years = [];\r\n  items.forEach((b) => {\r\n    const year = new Date(b.begin).getFullYear();\r\n    if (!years.includes(year)) years.push(year);\r\n  });\r\n  localStorage.setItem(\"years\", JSON.stringify(years));\r\n};\r\n\r\nexport const initializeLocalBangumiData = (version, data) => {\r\n  localStorage.setItem(\"bd_version\", version);\r\n  localStorage.setItem(\"bd_site_meta\", JSON.stringify(data.siteMeta));\r\n  localStorage.setItem(\r\n    \"bd_items\",\r\n    JSON.stringify(filterItemWithNoBangumiId(data.items))\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Drawer,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Collapse,\r\n  ListSubheader,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { ExpandMore, ExpandLess } from \"@material-ui/icons\";\r\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nimport \"react-perfect-scrollbar/dist/css/styles.css\";\r\nimport styles from \"./Sidebar.module.css\";\r\nimport { initializedCollapseKey } from \"../../utils/utils\";\r\n\r\nconst Sidebar = (props) => {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [collapseKeys, setCollapseKeys] = useState({\r\n    \"19601969\": initializedCollapseKey(\"19601969\", location),\r\n    \"19701979\": initializedCollapseKey(\"19701979\", location),\r\n    \"19801989\": initializedCollapseKey(\"19801989\", location),\r\n    \"19901999\": initializedCollapseKey(\"19901999\", location),\r\n    \"20002009\": initializedCollapseKey(\"20002009\", location),\r\n    \"20102019\": initializedCollapseKey(\"20102019\", location),\r\n    \"20202029\": initializedCollapseKey(\"20202029\", location),\r\n  });\r\n  const [selectedItem, setSelectedItem] = React.useState(location.pathname);\r\n  const years = JSON.parse(localStorage.getItem(\"years\"));\r\n\r\n  const collapseHandler = (key) => {\r\n    setCollapseKeys({\r\n      ...collapseKeys,\r\n      [key]: !collapseKeys[key],\r\n    });\r\n  };\r\n\r\n  const genenerateYearList = () => {\r\n    const min = Math.min(...years); // get the first year.\r\n    const max = Math.max(...years); // get the last years.\r\n    const start = parseInt(min / 10) * 10; //get the first year of the first decade\r\n\r\n    let yearList = [];\r\n    for (let i = start; i <= max; i += 10) {\r\n      yearList.push(\r\n        <Collapse\r\n          in={collapseKeys[\"\" + i + (i + 9)]}\r\n          key={\"c\" + i + (i + 9)}\r\n          unmountOnExit\r\n        >\r\n          {years\r\n            .filter((f) => f >= i && f < i + 10)\r\n            .map((m) => {\r\n              return (\r\n                <ListItem\r\n                  key={m}\r\n                  selected={selectedItem === \"/\" + m}\r\n                  button\r\n                  onClick={() => clickHandler(\"/\" + m)}\r\n                >\r\n                  <ListItemText>{m}</ListItemText>\r\n                </ListItem>\r\n              );\r\n            })\r\n            .reverse()}\r\n        </Collapse>\r\n      );\r\n      yearList.push(\r\n        <ListItem\r\n          button\r\n          key={\"\" + i + (i + 9)}\r\n          onClick={() => collapseHandler(\"\" + i + (i + 9))}\r\n        >\r\n          <ListItemText>\r\n            {i} - {i + 9}\r\n          </ListItemText>\r\n          {collapseKeys[\"\" + i + (i + 9)] ? <ExpandMore /> : <ExpandLess />}\r\n        </ListItem>\r\n      );\r\n    }\r\n\r\n    return yearList.reverse();\r\n  };\r\n\r\n  const yearList = years ? genenerateYearList() : [];\r\n\r\n  const clickHandler = (link) => {\r\n    history.push(link);\r\n    setSelectedItem(link);\r\n    isMobile && props.closeSidebar();\r\n  };\r\n\r\n  return (\r\n    <Drawer\r\n      anchor=\"left\"\r\n      open={props.openSidebar}\r\n      variant={isMobile ? \"temporary\" : \"persistent\"}\r\n      onClose={props.closeSidebar}\r\n    >\r\n      <PerfectScrollbar>\r\n        <List\r\n          className={styles.list}\r\n          style={{ marginTop: !isMobile && \"64px\" }}\r\n        >\r\n          <ListItem\r\n            button\r\n            selected={selectedItem === \"/\"}\r\n            onClick={() => clickHandler(\"/\")}\r\n          >\r\n            <ListItemText>首页</ListItemText>\r\n          </ListItem>\r\n          <ListItem\r\n            button\r\n            selected={selectedItem === \"/about\"}\r\n            onClick={() => clickHandler(\"/about\")}\r\n          >\r\n            <ListItemText>关于</ListItemText>\r\n          </ListItem>\r\n\r\n          <ListSubheader disableSticky>番剧</ListSubheader>\r\n          <Divider />\r\n          <ListItem\r\n            button\r\n            selected={selectedItem === \"/weekly\"}\r\n            onClick={() => clickHandler(\"/weekly\")}\r\n          >\r\n            <ListItemText>新番周表</ListItemText>\r\n          </ListItem>\r\n          <ListItem\r\n            button\r\n            selected={selectedItem === \"/favorite\"}\r\n            onClick={() => clickHandler(\"/favorite\")}\r\n          >\r\n            <ListItemText>我的收藏</ListItemText>\r\n          </ListItem>\r\n          <ListSubheader disableSticky>历史数据</ListSubheader>\r\n          <Divider />\r\n          {yearList.map((m) => {\r\n            return m;\r\n          })}\r\n        </List>\r\n      </PerfectScrollbar>\r\n    </Drawer>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    years: state.bangumiData.years,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Sidebar);\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogActions,\r\n  Switch,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Reset = (props) => {\r\n  const [ignoreFav, setIgnoreFav] = useState(true);\r\n  const history = useHistory();\r\n\r\n  const reset = () => {\r\n    if (ignoreFav) {\r\n      const savedFav = localStorage.getItem(\"favorite\");\r\n      localStorage.clear();\r\n      localStorage.setItem(\"favorite\", savedFav);\r\n    } else {\r\n      localStorage.clear();\r\n    }\r\n    props.close();\r\n    history.push(\"/\");\r\n    window.location.reload();\r\n  };\r\n\r\n  const ignoreFavHandler = () => {\r\n    setIgnoreFav((prevState) => !prevState);\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={props.open}\r\n      onClose={props.close}\r\n      maxWidth=\"xs\"\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle>{\"清除本地所有数据\"}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText>\r\n          清除的数据都是储存在浏览器的localStorage里面的数据，包括本地bangumi-data数据与收藏的番剧数据，以及设置数据。你确定要清除么？\r\n        </DialogContentText>\r\n        <Divider />\r\n        <DialogContentText>\r\n          保留收藏\r\n          <Switch\r\n            checked={ignoreFav}\r\n            onChange={ignoreFavHandler}\r\n            size=\"small\"\r\n          />\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={props.close} variant=\"outlined\" color=\"secondary\">\r\n          取消\r\n        </Button>\r\n        <Button onClick={reset} variant=\"outlined\" color=\"primary\">\r\n          确定\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default Reset;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  FormControl,\r\n  FormLabel,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  Radio,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\n\r\nimport styles from \"./Setting.module.css\";\r\n\r\nconst Setting = (props) => {\r\n  const [cardApi, setCardApi] = useState(\r\n    JSON.parse(localStorage.getItem(\"setting\")).cardApi\r\n  );\r\n  const [pageApi] = useState(\r\n    JSON.parse(localStorage.getItem(\"setting\")).pageApi\r\n  );\r\n  const [cors] = useState(\r\n    JSON.parse(localStorage.getItem(\"setting\")).cors.proxy\r\n  );\r\n  const [corsUrl] = useState(\r\n    JSON.parse(localStorage.getItem(\"setting\")).cors.url\r\n  );\r\n\r\n  const apply = () => {\r\n    localStorage.setItem(\r\n      \"setting\",\r\n      JSON.stringify({\r\n        cardApi: cardApi,\r\n        pageApi: pageApi,\r\n        cors: {\r\n          proxy: cors,\r\n          url:\r\n            cors === \"custom\"\r\n              ? corsUrl.slice(-1) !== \"/\"\r\n                ? corsUrl + \"/\"\r\n                : corsUrl\r\n              : \"https://cors-anywhere.herokuapp.com/\",\r\n        },\r\n      })\r\n    );\r\n    props.close();\r\n    window.location.reload();\r\n  };\r\n\r\n  const cardApiChangeHandler = (event) => {\r\n    setCardApi(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={props.open}\r\n      onClose={props.close}\r\n      maxWidth=\"lg\"\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle>设置</DialogTitle>\r\n      <DialogContent>\r\n        <FormControl component=\"fieldset\">\r\n          <FormLabel component=\"legend\">番剧列表API源</FormLabel>\r\n          <RadioGroup value={cardApi} onChange={cardApiChangeHandler}>\r\n            <FormControlLabel\r\n              control={<Radio color=\"primary\" />}\r\n              value=\"default\"\r\n              label=\"Bangumi-GA(默认)\"\r\n            />\r\n            <FormControlLabel\r\n              control={<Radio color=\"primary\" />}\r\n              value=\"bangumiSubject\"\r\n              label=\"Bangumi-Subject\"\r\n            />\r\n          </RadioGroup>\r\n          <Divider className={styles.divider} />\r\n        </FormControl>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={props.close} variant=\"outlined\" color=\"secondary\">\r\n          取消\r\n        </Button>\r\n        <Button onClick={apply} variant=\"outlined\" color=\"primary\">\r\n          应用\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default Setting;\r\n","import React, { useState } from \"react\";\r\nimport { AppBar, Toolbar, IconButton, Typography } from \"@material-ui/core\";\r\nimport { Menu, Settings, GitHub, Cached } from \"@material-ui/icons\";\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nimport styles from \"./Topbar.module.css\";\r\nimport logo from \"../../assets/images/logo.png\";\r\nimport ResetAlert from \"../Reset/Reset\";\r\nimport SettingMenu from \"../Setting/Setting\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Topbar = (props) => {\r\n  const [openResetAlert, setOpenResetAlert] = useState(false);\r\n  const [openMenu, setOpenMenu] = useState(false);\r\n  let history = useHistory();\r\n\r\n  const resetAlert = () => {\r\n    setOpenResetAlert(true);\r\n  };\r\n\r\n  const closeAlert = () => {\r\n    setOpenResetAlert(false);\r\n  };\r\n\r\n  const settingMenu = () => {\r\n    setOpenMenu(true);\r\n  };\r\n\r\n  const closeMenu = () => {\r\n    setOpenMenu(false);\r\n  };\r\n\r\n  const forwardGithub = () => {\r\n    window.open(\"https://github.com/developer-haku/bangumi\");\r\n  };\r\n\r\n  const backToHome = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <AppBar className={styles.appbar} position=\"static\">\r\n      <Toolbar className={styles.toolbar}>\r\n        <IconButton\r\n          edge=\"start\"\r\n          color=\"inherit\"\r\n          aria-label=\"menu\"\r\n          onClick={props.toggleSidebar}\r\n        >\r\n          <Menu />\r\n        </IconButton>\r\n        {!isMobile && (\r\n          <React.Fragment>\r\n            <img\r\n              className={styles.logo}\r\n              src={logo}\r\n              alt=\"logo\"\r\n              onClick={backToHome}\r\n            />\r\n            <Typography\r\n              className={styles.name}\r\n              variant=\"h6\"\r\n              onClick={backToHome}\r\n            >\r\n              Bangumi\r\n            </Typography>\r\n          </React.Fragment>\r\n        )}\r\n        <div className={styles.right}>\r\n          <IconButton\r\n            className={styles.rightItem}\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            aria-label=\"github\"\r\n            onClick={forwardGithub}\r\n          >\r\n            <GitHub />\r\n          </IconButton>\r\n          <IconButton\r\n            className={styles.rightItem}\r\n            edge=\"end\"\r\n            onClick={resetAlert}\r\n            color=\"inherit\"\r\n            aria-label=\"cached\"\r\n          >\r\n            <Cached />\r\n          </IconButton>\r\n          <IconButton\r\n            className={styles.rightItem}\r\n            onClick={settingMenu}\r\n            edge=\"end\"\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n          >\r\n            <Settings />\r\n          </IconButton>\r\n          {openResetAlert && (\r\n            <ResetAlert open={openResetAlert} close={closeAlert} />\r\n          )}\r\n          {openMenu && <SettingMenu open={openMenu} close={closeMenu} />}\r\n        </div>\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Topbar;\r\n","import axios from \"axios\";\r\n\r\nimport { swapCoverPictureSize, forceHttps } from \"../../utils/utils\";\r\n\r\nconst fetchBangumiSubjectData = async (id) => {\r\n  const response = await axios\r\n    .get(\r\n      `https://cdn.jsdelivr.net/gh/czy0729/Bangumi-Subject@master/data/${parseInt(\r\n        id / 100\r\n      )}/${id}.json`\r\n    )\r\n    .catch((err) => console.log(`FAILED TO FETCH ID ${id} `));\r\n\r\n  return response ? response.data : null;\r\n};\r\n\r\nconst reassembleBasicData = (data) => {\r\n  let reassembledData = {};\r\n  reassembledData.name = data ? data.name : null;\r\n  reassembledData.nameCn = null;\r\n  reassembledData.image = data\r\n    ? data.image\r\n      ? forceHttps(swapCoverPictureSize(data.image, \"l\"))\r\n      : \"\"\r\n    : \"\";\r\n  reassembledData.score = data ? (data.rating ? data.rating.score : 0) : 0;\r\n  return reassembledData;\r\n};\r\n\r\nexport const getBangumiSubjectDataFull = async (id) => {\r\n  return await fetchBangumiSubjectData(id);\r\n};\r\n\r\nexport const getBangumiSubjectDataBasic = async (id) => {\r\n  let rawData = null;\r\n  await fetchBangumiSubjectData(id).then((data) => (rawData = data));\r\n  const basicData = reassembleBasicData(rawData);\r\n  return basicData;\r\n};\r\n","import axios from \"axios\";\r\n\r\nimport { forceHttps } from \"../../utils/utils\";\r\n\r\nconst fetchBangumiApiData = async (id, size, corsUrl) => {\r\n  const response = await axios\r\n    .get(`${corsUrl}https://api.bgm.tv/subject/${id}?responseGroup=${size}`)\r\n    .catch((err) => console.log(err));\r\n    \r\n  return response.data.code !== \"404\" ? response.data : null;\r\n};\r\n\r\nconst reassembleBasicData = (data) => {\r\n  let reassembledData = {};\r\n  reassembledData.name = data ? data.name : null;\r\n  reassembledData.nameCn = data ? (data[\"name_cn\"] !== \"\" ? data[\"name_cn\"] : null) : null;\r\n  reassembledData.image = data ? (data.images ? forceHttps(data.images.large) : \"\") : \"\";\r\n  reassembledData.score = data ? (data.rating ? data.rating.score : 0) : 0;\r\n  return reassembledData;\r\n};\r\n\r\nexport const getBangumiApiDataFull = async (id, corsUrl) => {\r\n  return await fetchBangumiApiData(id, \"large\", corsUrl);\r\n};\r\n\r\nexport const getBangumiApiDataBasic = async (id, corsUrl) => {\r\n  let rawData = null;\r\n  await fetchBangumiApiData(id, \"small\", corsUrl).then((data) => (rawData = data));\r\n  const basicData = reassembleBasicData(rawData);\r\n  return basicData;\r\n};\r\n","import axios from \"axios\";\r\n\r\nimport { forceHttps } from \"../../utils/utils\";\r\n\r\nconst fetchNetabareData = async (id) => {\r\n  const EMPTY_OBJECT = { subject: {}, history: [] };\r\n  const response = await axios\r\n    .get(`https://api.netaba.re/archive/${id}`)\r\n    .catch((err) => console.log(err));\r\n\r\n  return response.data !== EMPTY_OBJECT ? response.data.subject : null;\r\n};\r\n\r\nconst reassembleBasicData = (data) => {\r\n  let reassembledData = {};\r\n  reassembledData.name = data ? data.name : null;\r\n  reassembledData.nameCn = data\r\n    ? data[\"name_cn\"] !== \"\"\r\n      ? data[\"name_cn\"]\r\n      : null\r\n    : null;\r\n  reassembledData.image = data ? (data.images ? forceHttps(data.images.large) : \"\") : \"\";\r\n  reassembledData.score = data ? (data.rating ? data.rating.score : 0) : 0;\r\n  return reassembledData;\r\n};\r\n\r\nexport const getNetabareDataFull = async (id) => {\r\n  return await fetchNetabareData(id);\r\n};\r\n\r\nexport const getNetabareDataBasic = async (id) => {\r\n  let rawData = null;\r\n  await fetchNetabareData(id).then((data) => (rawData = data));\r\n  const basicData = reassembleBasicData(rawData);\r\n  return basicData;\r\n};\r\n","import axios from \"axios\";\r\n\r\nimport { forceHttps } from \"../../utils/utils\";\r\n\r\nconst fetchBangumiGaData = async (id) => {\r\n  const response = await axios\r\n    .get(\r\n      `https://cdn.jsdelivr.net/gh/developer-haku/bangumi-ga@master/data/${\r\n        parseInt(id / 100)\r\n      }/${id}.json`\r\n    )\r\n    .catch((err) => console.log(`FAILED TO FETCH ID ${id} `));\r\n\r\n  return response ? response.data : null;\r\n};\r\n\r\nconst reassembleBasicData = (data) => {\r\n    let reassembledData = {};\r\n    reassembledData.name = data ? data.name : null;\r\n    reassembledData.nameCn = data ? (data[\"name_cn\"] !== \"\" ? data[\"name_cn\"] : null) : null;\r\n    reassembledData.image = data ? (data.images ? forceHttps(data.images.large) : \"\") : \"\";\r\n    reassembledData.score = data ? (data.rating ? data.rating.score : 0) : 0;\r\n    return reassembledData;\r\n  };\r\n  \r\n  export const getBangumiGaDataFull = async (id) => {\r\n    return await fetchBangumiGaData(id);\r\n  };\r\n  \r\n  export const getBangumiGaDataBasic = async (id) => {\r\n    let rawData = null;\r\n    await fetchBangumiGaData(id).then((data) => (rawData = data));\r\n    const basicData = reassembleBasicData(rawData);\r\n    return basicData;\r\n  };\r\n  ","import {\r\n  getBangumiApiDataFull,\r\n  getBangumiGaDataFull,\r\n  getBangumiSubjectDataFull,\r\n  getNetabareDataFull,\r\n} from \"./index\";\r\nimport { forceHttps } from \"../../utils/utils\";\r\n\r\nexport const subjectApiMix = async (id, corsUrl) => {\r\n  let data = await getBangumiApiDataFull(id, corsUrl);\r\n  const bgmSbjData = await getBangumiSubjectDataFull(id);\r\n  data.production = bgmSbjData ? bgmSbjData.info : \"\";\r\n  data.tags = bgmSbjData ? bgmSbjData.tags : [];\r\n  data.cover = data.images ? forceHttps(data.images.large) : \"\";\r\n  return data;\r\n};\r\n\r\nexport const subjectNetabareMix = async (id) => {\r\n  let data = await getNetabareDataFull(id);\r\n  const bgmSbjData = await getBangumiSubjectDataFull(id);\r\n  data.production = bgmSbjData ? bgmSbjData.info : \"\";\r\n  data.tags = bgmSbjData ? bgmSbjData.tags : [];\r\n  data.cover = data.images ? forceHttps(data.images.large) : \"\";\r\n  return data;\r\n};\r\n\r\nexport const subjectGaMix = async (id) => {\r\n  let data = await getBangumiGaDataFull(id);\r\n  const bgmSbjData = await getBangumiSubjectDataFull(id);\r\n  data.production = bgmSbjData ? bgmSbjData.info : \"\";\r\n  data.tags = bgmSbjData ? bgmSbjData.tags : [];\r\n  data.cover = data.images ? forceHttps(data.images.large) : \"\";\r\n  return data;\r\n};","import * as API from \"./api\";\r\n\r\nexport default class AnimeDataService {\r\n  constructor() {\r\n    this.cardApi = JSON.parse(localStorage.getItem(\"setting\")).cardApi;\r\n    this.pageApi = JSON.parse(localStorage.getItem(\"setting\")).pageApi;\r\n    this.corsUrl = JSON.parse(localStorage.getItem(\"setting\")).cors.url;\r\n  }\r\n\r\n  getBangumiDataBasic = (id) => {\r\n    switch (this.cardApi) {\r\n      case \"default\":\r\n        return API.getBangumiGaDataBasic(id);\r\n      case \"bangumiSubject\":\r\n        return API.getBangumiSubjectDataBasic(id);\r\n      case \"bangumiCORS\":\r\n        return API.getBangumiApiDataBasic(id, this.corsUrl);\r\n      case \"netabare\":\r\n        return API.getNetabareDataBasic(id);\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  getBangumiDataFull = (id) => {\r\n    switch (this.pageApi) {\r\n      case \"default\":\r\n        return API.subjectGaMix(id);\r\n      case \"bangumiApi\":\r\n        return API.subjectApiMix(id, this.corsUrl);\r\n      case \"netabare\":\r\n        return API.subjectNetabareMix(id);\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Typography,\r\n  CardActions,\r\n  Menu,\r\n  MenuItem,\r\n  IconButton,\r\n  Fade,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  GetApp,\r\n  Home,\r\n  Info,\r\n  PlayCircleFilled,\r\n  Favorite,\r\n  FavoriteBorder,\r\n  MoreHoriz,\r\n} from \"@material-ui/icons\";\r\n\r\nimport AnimeDataService from \"../../service/AnimeDataService\";\r\nimport styles from \"./AnimeMiniCard.module.css\";\r\nimport NoCoverPlaceholderImage from \"../../assets/images/nocover.jpg\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst AnimeMiniCard = (props) => {\r\n  const [animeData, setAnimeData] = useState(null);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [isFav, setIsFav] = useState(false);\r\n  const history = useHistory();\r\n  const open = Boolean(anchorEl);\r\n  const ads = new AnimeDataService();\r\n  const siteMeta = JSON.parse(localStorage.getItem(\"bd_site_meta\"));\r\n  const bangumiId = props.anime.sites.find((i) => i.site === \"bangumi\").id;\r\n\r\n  useEffect(() => {\r\n    if (!animeData)\r\n      ads.getBangumiDataBasic(bangumiId).then((data) => {\r\n        setAnimeData(data);\r\n      });\r\n  }, [ads, animeData, bangumiId]);\r\n\r\n  useEffect(() => {\r\n    const favList = JSON.parse(localStorage.getItem(\"favorite\"));\r\n    if (favList.includes(bangumiId)) setIsFav(true);\r\n  }, [bangumiId]);\r\n\r\n  const title = props.anime.titleTranslate[\"zh-Hans\"]\r\n    ? props.anime.titleTranslate[\"zh-Hans\"]\r\n    : animeData\r\n    ? animeData.nameCn\r\n      ? animeData.nameCn\r\n      : animeData.name\r\n    : props.anime.title;\r\n\r\n  const bangumiRating = !animeData ? 0 : animeData.score === 0 ? \"X\" : animeData.score;\r\n\r\n  let menuItem = props.anime.sites\r\n    .map((site) => {\r\n      return (\r\n        <MenuItem\r\n          key={site.site}\r\n          onClick={() => siteHandler(site.site, site.id)}\r\n        >\r\n          {site.site === \"bangumi\" ? (\r\n            <Info className={styles.animeMenuIcon} />\r\n          ) : (\r\n            <PlayCircleFilled className={styles.animeMenuIcon} />\r\n          )}\r\n          {siteMeta[site.site].title}\r\n        </MenuItem>\r\n      );\r\n    })\r\n    .sort((a, b) => (a.key === \"bangumi\" ? 0 : 1));\r\n\r\n  menuItem.unshift(\r\n    <MenuItem\r\n      key=\"official\"\r\n      onClick={() => openTargetSite(props.anime.officialSite)}\r\n    >\r\n      <Home className={styles.animeMenuIcon} />\r\n      官方网站\r\n    </MenuItem>\r\n  );\r\n  menuItem.push(\r\n    <MenuItem\r\n      key=\"dmhy\"\r\n      onClick={() =>\r\n        openTargetSite(siteMeta.dmhy.urlTemplate.replace(\"{{id}}\", title))\r\n      }\r\n    >\r\n      <GetApp className={styles.animeMenuIcon} />\r\n      动漫花园\r\n    </MenuItem>\r\n  );\r\n\r\n  const openTargetSite = (url) => {\r\n    window.open(url);\r\n  };\r\n\r\n  const siteHandler = (site, id) => {\r\n    window.open(siteMeta[site].urlTemplate.replace(\"{{id}}\", id));\r\n  };\r\n\r\n  const menuOpenHandler = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setMenuOpen(!menuOpen);\r\n  };\r\n\r\n  const menuCloseHandler = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const fav = () => {\r\n    let favList = JSON.parse(localStorage.getItem(\"favorite\"));\r\n    if (favList.includes(bangumiId)) {\r\n      favList.splice(favList.indexOf(bangumiId), 1);\r\n    } else {\r\n      favList.push(bangumiId);\r\n    }\r\n    localStorage.setItem(\"favorite\", JSON.stringify(favList));\r\n    setIsFav(!isFav);\r\n  };\r\n\r\n  const goFullInfoPage = () => {\r\n    history.push(\"/bangumi/\" + bangumiId);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Card variant=\"outlined\" className={styles.card}>\r\n        <CardMedia\r\n          className={styles.coverImage}\r\n          component=\"div\"\r\n          image={\r\n            animeData\r\n              ? animeData.image !== \"\"\r\n                ? animeData.image\r\n                : NoCoverPlaceholderImage\r\n              : NoCoverPlaceholderImage\r\n          }\r\n          onClick={goFullInfoPage}\r\n        />\r\n        <Typography className={styles.rating} variant=\"caption\">{bangumiRating}</Typography>\r\n        <CardContent className={styles.content}>\r\n          <Typography\r\n            className={styles.title}\r\n            variant=\"caption\"\r\n            onClick={goFullInfoPage}\r\n          >\r\n            {title}\r\n          </Typography>\r\n          <CardActions className={styles.actions}>\r\n            <IconButton className={styles.favBtn} size=\"small\" onClick={fav}>\r\n              {isFav ? <Favorite className={styles.favIcon} /> : <FavoriteBorder className={styles.favIcon} />}\r\n            </IconButton>\r\n            <IconButton\r\n              className={styles.moreBtn}\r\n              size=\"small\"\r\n              onClick={menuOpenHandler}\r\n            >\r\n              <MoreHoriz />\r\n            </IconButton>\r\n          </CardActions>\r\n        </CardContent>\r\n      </Card>\r\n      <Menu\r\n        elevation={1}\r\n        className={styles.animeMenu}\r\n        id=\"simple-menu\"\r\n        keepMounted\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={menuCloseHandler}\r\n        TransitionComponent={Fade}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n      >\r\n        {menuItem}\r\n      </Menu>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AnimeMiniCard;\r\n","import React from \"react\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nimport AnimeMiniCard from \"../AnimeMiniCard/AnimeMiniCard\";\r\nimport styles from \"./AnimeColumnList.module.css\";\r\n\r\nimport SundayIcon from \"../../assets/images/weekdays/sunday.svg\";\r\nimport MondayIcon from \"../../assets/images/weekdays/monday.svg\";\r\nimport TuesdayIcon from \"../../assets/images/weekdays/tuesday.svg\";\r\nimport WednesdayIcon from \"../../assets/images/weekdays/wednesday.svg\";\r\nimport ThursdayIcon from \"../../assets/images/weekdays/thursday.svg\";\r\nimport FridayIcon from \"../../assets/images/weekdays/friday.svg\";\r\nimport SaturdayIcon from \"../../assets/images/weekdays/saturday.svg\";\r\n\r\nconst AnimeColumnList = (props) => {\r\n  const weekdayIcon = [\r\n    SundayIcon,\r\n    MondayIcon,\r\n    TuesdayIcon,\r\n    WednesdayIcon,\r\n    ThursdayIcon,\r\n    FridayIcon,\r\n    SaturdayIcon,\r\n  ];\r\n\r\n  const weekdayCN = [\r\n    \"星期日\",\r\n    \"星期一\",\r\n    \"星期二\",\r\n    \"星期三\",\r\n    \"星期四\",\r\n    \"星期五\",\r\n    \"星期六\",\r\n  ];\r\n\r\n  return (\r\n    <div className={styles.column}>\r\n      <img className={styles.icon} src={weekdayIcon[props.weekday]} alt=\"weekday-icon\" />\r\n      <Typography className={styles.weekday} variant=\"h6\" >{weekdayCN[props.weekday]}</Typography>\r\n      {props.list.map((l) => (\r\n        <AnimeMiniCard key={props.list.indexOf(l)} anime={l} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnimeColumnList;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./WeeklyAnimeList.module.css\";\r\nimport AnimeColumnList from \"../../AnimeColumnList/AnimeColumnList\";\r\nimport { getSeasonRange } from \"../../../utils/utils\";\r\n\r\nconst WeeklyAnimeList = (props) => {\r\n  const fullItems = JSON.parse(localStorage.getItem(\"bd_items\"));\r\n\r\n  const range = getSeasonRange(\r\n    new Date().getFullYear(),\r\n    new Date().getMonth() + 1\r\n  );\r\n\r\n  const selectedItems = fullItems.filter(\r\n    (item) =>\r\n      new Date(item.begin) >= new Date(range[0]) &&\r\n      new Date(item.begin) < new Date(range[1])\r\n  );\r\n\r\n  let list = [];\r\n\r\n  for (let day = 0; day < 7; day++) {\r\n    list.push(\r\n      selectedItems.filter((i) => {\r\n        return new Date(i.begin).getDay() === day;\r\n      })\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.weeklyAnimeList}>\r\n      {list.map((l) => {\r\n        return (\r\n          <AnimeColumnList\r\n            key={list.indexOf(l)}\r\n            list={l}\r\n            weekday={list.indexOf(l)}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WeeklyAnimeList;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  CardActions,\r\n  Divider,\r\n  Fade,\r\n  Typography,\r\n  CardMedia,\r\n  Menu,\r\n  MenuItem,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport { Rating } from \"@material-ui/lab\";\r\nimport {\r\n  MoreVert,\r\n  FavoriteBorder,\r\n  Favorite,\r\n  Home,\r\n  GetApp,\r\n  Info,\r\n  PlayCircleFilled,\r\n} from \"@material-ui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nimport styles from \"./AnimeCard.module.css\";\r\nimport NoCoverPlaceholderImage from \"../../assets/images/nocover.jpg\";\r\nimport loadingPlaceHolderImage from \"../../assets/images/loading.svg\";\r\nimport AnimeDataService from \"../../service/AnimeDataService\";\r\n\r\nconst AnimeCard = React.memo((props) => {\r\n  const [animeData, setAnimeData] = useState(null);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [isFav, setIsFav] = useState(false);\r\n  const history = useHistory();\r\n  const open = Boolean(anchorEl);\r\n  const siteMeta = JSON.parse(localStorage.getItem(\"bd_site_meta\"));\r\n  const ads = new AnimeDataService();\r\n\r\n  useEffect(() => {\r\n    if (!animeData) {\r\n      ads.getBangumiDataBasic(props.bangumiId).then((data) => {\r\n        setAnimeData(data);\r\n      });\r\n    }\r\n  }, [ads, animeData, props.bangumiId]);\r\n\r\n  useEffect(() => {\r\n    const favList = JSON.parse(localStorage.getItem(\"favorite\"));\r\n    if (favList.includes(props.bangumiId)) setIsFav(true);\r\n  }, [props.bangumiId]);\r\n\r\n  const title = props.anime.titleTranslate[\"zh-Hans\"]\r\n    ? props.anime.titleTranslate[\"zh-Hans\"]\r\n    : animeData\r\n    ? animeData.nameCn\r\n      ? animeData.nameCn\r\n      : animeData.name\r\n    : props.anime.title;\r\n\r\n  const bangumiRating = !animeData ? 0 : animeData.score;\r\n\r\n  let menuItem = props.anime.sites\r\n    .map((site) => {\r\n      return (\r\n        <MenuItem\r\n          key={site.site}\r\n          className={styles.menuItem}\r\n          onClick={() => siteHandler(site.site, site.id)}\r\n        >\r\n          {site.site === \"bangumi\" ? (\r\n            <Info className={styles.animeMenuIcon} />\r\n          ) : (\r\n            <PlayCircleFilled className={styles.animeMenuIcon} />\r\n          )}\r\n          {siteMeta[site.site].title}\r\n        </MenuItem>\r\n      );\r\n    })\r\n    .sort((a, b) => (a.key === \"bangumi\" ? 0 : 1));\r\n\r\n  menuItem.unshift(\r\n    <MenuItem\r\n      key=\"official\"\r\n      className={styles.menuItem}\r\n      onClick={() => openTargetSite(props.anime.officialSite)}\r\n    >\r\n      <Home className={styles.animeMenuIcon} />\r\n      官方网站\r\n    </MenuItem>\r\n  );\r\n  menuItem.push(\r\n    <MenuItem\r\n      key=\"dmhy\"\r\n      className={styles.menuItem}\r\n      onClick={() =>\r\n        openTargetSite(siteMeta.dmhy.urlTemplate.replace(\"{{id}}\", title))\r\n      }\r\n    >\r\n      <GetApp className={styles.animeMenuIcon} />\r\n      动漫花园\r\n    </MenuItem>\r\n  );\r\n\r\n  const openTargetSite = (url) => {\r\n    window.open(url);\r\n  };\r\n\r\n  const siteHandler = (site, id) => {\r\n    window.open(siteMeta[site].urlTemplate.replace(\"{{id}}\", id));\r\n  };\r\n\r\n  const menuOpenHandler = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setMenuOpen(!menuOpen);\r\n  };\r\n\r\n  const menuCloseHandler = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const fav = () => {\r\n    let favList = JSON.parse(localStorage.getItem(\"favorite\"));\r\n    if (favList.includes(props.bangumiId)) {\r\n      favList.splice(favList.indexOf(props.bangumiId), 1);\r\n    } else {\r\n      favList.push(props.bangumiId);\r\n    }\r\n    localStorage.setItem(\"favorite\", JSON.stringify(favList));\r\n    setIsFav(!isFav);\r\n  };\r\n\r\n  const goFullInfoPage = () => {\r\n    history.push(\"/bangumi/\" + props.bangumiId);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Card className={styles.card}>\r\n        <CardMedia\r\n          className={styles.coverImage}\r\n          image={\r\n            animeData\r\n              ? animeData.image\r\n                ? animeData.image\r\n                : NoCoverPlaceholderImage\r\n              : loadingPlaceHolderImage\r\n          }\r\n          title={title}\r\n          onClick={goFullInfoPage}\r\n        />\r\n        <CardContent className={styles.cardContent}>\r\n          <Typography\r\n            variant={isMobile ? \"caption\" : \"subtitle2\"}\r\n            className={styles.title}\r\n            onClick={goFullInfoPage}\r\n          >\r\n            {title}\r\n          </Typography>\r\n        </CardContent>\r\n        <CardContent className={styles.rating}>\r\n          <Rating\r\n            name=\"bangumi-rating\"\r\n            size=\"small\"\r\n            defaultValue={0}\r\n            value={bangumiRating / 2}\r\n            precision={0.1}\r\n            disabled={bangumiRating ? false : true}\r\n            readOnly\r\n          />\r\n          <Box className={styles.ratingNum}>\r\n            {bangumiRating ? bangumiRating : \"\"}\r\n          </Box>\r\n        </CardContent>\r\n        <Divider />\r\n        <CardActions className={styles.cardActions}>\r\n          <IconButton className={styles.favBtn} size=\"small\" onClick={fav}>\r\n            {isFav ? <Favorite className={styles.favIcon} /> : <FavoriteBorder className={styles.favIcon} />}\r\n          </IconButton>\r\n          <IconButton\r\n            className={styles.moreBtn}\r\n            size=\"small\"\r\n            onClick={menuOpenHandler}\r\n          >\r\n            <MoreVert />\r\n          </IconButton>\r\n        </CardActions>\r\n      </Card>\r\n      <Menu\r\n        className={styles.animeMenu}\r\n        id=\"simple-menu\"\r\n        keepMounted\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={menuCloseHandler}\r\n        TransitionComponent={Fade}\r\n        anchorOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n      >\r\n        {menuItem}\r\n      </Menu>\r\n    </React.Fragment>\r\n  );\r\n});\r\n\r\nexport default AnimeCard;\r\n","import React from \"react\";\r\n\r\nimport AnimeCard from \"../AnimeCard/AnimeCard\";\r\n\r\nconst AnimeList = React.memo((props) => {\r\n  return (\r\n    <React.Fragment>\r\n      {props.list.map((item) => {\r\n        const key = item.sites.find((i) => i.site === \"bangumi\").id;\r\n        return <AnimeCard key={key} anime={item} bangumiId={key} />;\r\n      })}\r\n    </React.Fragment>\r\n  );\r\n});\r\n\r\nexport default AnimeList;\r\n","import React from \"react\";\r\nimport { Card, CardContent, CardActions, Divider } from \"@material-ui/core\";\r\nimport { Skeleton } from \"@material-ui/lab\";\r\n\r\nimport styles from \"./AnimeCard.module.css\";\r\n\r\nconst AnimeCardSkeleton = () => {\r\n  return (\r\n    <Card className={styles.card}>\r\n      <Skeleton\r\n        height={225}\r\n        variant=\"rect\"\r\n        animation=\"wave\"\r\n        className={styles.coverImage}\r\n      />\r\n      <CardContent className={styles.cardContent}>\r\n        <Skeleton variant=\"text\" animation=\"wave\" className={styles.title} />\r\n      </CardContent>\r\n      <CardContent className={styles.rating}>\r\n        <Skeleton\r\n          variant=\"text\"\r\n          animation=\"wave\"\r\n          width=\"60%\"\r\n          className={styles.ratingSkl}\r\n        />\r\n      </CardContent>\r\n      <Divider />\r\n      <CardActions className={styles.cardActions}>\r\n        <Skeleton\r\n          variant=\"circle\"\r\n          animation=\"wave\"\r\n          height={28}\r\n          width={28}\r\n          className={styles.favIcon}\r\n        />\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default AnimeCardSkeleton;\r\n","import React from \"react\";\r\n\r\nimport AnimeCardSkeleton from \"../AnimeCard/AnimeCardSkeleton\";\r\n\r\nconst AnimeListSkeleton = () => {\r\n  let list = [];\r\n\r\n  for (let i = 0; i < 60; i++) {\r\n    list.push(i);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {list.map((l) => (\r\n        <AnimeCardSkeleton key={l} />\r\n      ))}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AnimeListSkeleton;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\n// import styles from \"./SeasonAnimeList.module.css\";\r\nimport AnimeList from \"../AnimeList\";\r\nimport AnimeListSkeleton from \"../AnimeListSkeleton\";\r\nimport { getSeasonRange } from \"../../../utils/utils\";\r\n\r\nconst SeasonAnimeList = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [seasonItems, setSeasonItems] = useState([]);\r\n  let { year, month } = useParams();\r\n  let history = useHistory();\r\n\r\n  if (!parseInt(year) || !parseInt(month)) {\r\n    history.replace(\"/error\");\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Get season begin time and end time\r\n    const range = getSeasonRange(year, month);\r\n    // Get all animes\r\n    const fullItems = JSON.parse(localStorage.getItem(\"bd_items\"));\r\n\r\n    // Filter Selected Season\r\n    const selectedItems = fullItems.filter(\r\n      (item) =>\r\n        new Date(item.begin) >= new Date(range[0]) &&\r\n        new Date(item.begin) < new Date(range[1])\r\n    );\r\n    setSeasonItems(selectedItems);\r\n    setLoading(false);\r\n  }, [month, setSeasonItems, year]);\r\n\r\n  return loading ? <AnimeListSkeleton /> : <AnimeList list={seasonItems} />;\r\n};\r\n\r\nexport default SeasonAnimeList;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Card, CardMedia } from \"@material-ui/core\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"./SeasonCard.module.css\";\r\nimport { getRandomAnime } from \"../../../../../utils/utils\";\r\nimport NotFoundImage from \"../../../../../assets/images/season_empty.jpg\";\r\nimport NotAirImage from \"../../../../../assets/images/not_air.jpg\";\r\nimport AnimeDataService from \"../../../../../service/AnimeDataService\";\r\n\r\n// Icon by mynamepong @ https://www.flaticon.com/authors/mynamepong\r\nimport SpringIcon from \"../../../../../assets/images/seasons/spring.svg\";\r\n// Icon by Freepik @ https://www.flaticon.com/authors/freepik\r\nimport SummerIcon from \"../../../../../assets/images/seasons/summer.svg\";\r\nimport AutumnIcon from \"../../../../../assets/images/seasons/autumn.svg\";\r\nimport WinterIcon from \"../../../../../assets/images/seasons/winter.svg\";\r\n\r\nconst SeasonCard = (props) => {\r\n  const [buttonStyle, setButtonStyle] = useState(styles.bottomButton);\r\n  const [coverImage, setCoverImage] = useState(\"\");\r\n  const [imageStyle, setImageStyle] = useState(styles.coverImage);\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const prevYear = usePrevious(props.year);\r\n  const ads = new AnimeDataService();\r\n\r\n  let cardStyle = styles.card;\r\n  const seasonStarted =\r\n    new Date(props.year, parseInt(props.month) - 1) < new Date();\r\n  const seasonIcon =\r\n    props.season === \"SPRING\"\r\n      ? SpringIcon\r\n      : props.season === \"SUMMER\"\r\n      ? SummerIcon\r\n      : props.season === \"AUTUMN\"\r\n      ? AutumnIcon\r\n      : WinterIcon;\r\n\r\n  useEffect(() => {\r\n    if (coverImage === \"\" || prevYear !== props.year) {\r\n      let randomId = getRandomAnime(props.year, props.month);\r\n      if (randomId !== 0)\r\n        ads.getBangumiDataBasic(randomId).then((data) => {\r\n          setCoverImage(data.image);\r\n        });\r\n      else setCoverImage(NotFoundImage);\r\n    }\r\n  }, [ads, coverImage, prevYear, props.month, props.year]);\r\n\r\n  /** code for css */\r\n  if (props.left) cardStyle += \" \" + styles.leftCard;\r\n  else if (props.center) cardStyle += \" \" + styles.centerCard;\r\n  else if (props.right) cardStyle += \" \" + styles.rightCard;\r\n\r\n  if (seasonStarted) cardStyle += \" \" + styles.pointer;\r\n\r\n  const showBottomButton = () => {\r\n    if (seasonStarted) {\r\n      setButtonStyle(buttonStyle + \" \" + styles.moveButtonUp);\r\n      setImageStyle(imageStyle + \" \" + styles.imgTransform);\r\n    }\r\n  };\r\n\r\n  const hideBottomButton = () => {\r\n    setButtonStyle(styles.bottomButton);\r\n    setImageStyle(styles.coverImage);\r\n  };\r\n\r\n  //********************************************************//\r\n\r\n  const seasonRedirect = () => {\r\n    if (seasonStarted) history.push(location.pathname + \"/\" + props.month);\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      className={cardStyle}\r\n      onMouseOver={showBottomButton}\r\n      onMouseOut={hideBottomButton}\r\n      onClick={seasonRedirect}\r\n    >\r\n      <CardMedia\r\n        className={imageStyle}\r\n        component=\"img\"\r\n        image={seasonStarted ? coverImage : NotAirImage}\r\n      />\r\n      <div className={buttonStyle}>\r\n        <div className={styles.buttonText}>\r\n          <img\r\n            className={styles.seasonIcon}\r\n            src={seasonIcon}\r\n            alt={props.season}\r\n          />\r\n          <p className={styles.buttonTextSeason}>\r\n            {props.year + \"年\" + parseInt(props.month) + \"月番\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\n// Custom hook\r\nfunction usePrevious(value) {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n}\r\n\r\nexport default SeasonCard;\r\n","import React from \"react\";\r\nimport { ButtonGroup, Divider } from \"@material-ui/core\";\r\n\r\nimport SeasonButton from \"./SeasonCard/SeasonCard\";\r\nimport styles from \"./SeasonCards.module.css\";\r\n\r\nconst SeasonCard = (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <Divider />\r\n      <ButtonGroup className={styles.season}>\r\n        <SeasonButton\r\n          season=\"WINTER\"\r\n          character=\"冬\"\r\n          left\r\n          year={props.year}\r\n          month=\"01\"\r\n        />\r\n        <SeasonButton\r\n          season=\"SPRING\"\r\n          character=\"春\"\r\n          center\r\n          year={props.year}\r\n          month=\"04\"\r\n        />\r\n        <SeasonButton\r\n          season=\"SUMMER\"\r\n          character=\"夏\"\r\n          center\r\n          year={props.year}\r\n          month=\"07\"\r\n        />\r\n        <SeasonButton\r\n          season=\"AUTUMN\"\r\n          character=\"秋\"\r\n          right\r\n          year={props.year}\r\n          month=\"10\"\r\n        />\r\n      </ButtonGroup>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default SeasonCard;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Pagination } from \"@material-ui/lab\";\r\n\r\nimport { getAnnualRange } from \"../../../../utils/utils\";\r\nimport AnimeList from \"../../AnimeList\";\r\nimport AnimeListSkeleton from \"../../AnimeListSkeleton\";\r\nimport styles from \"./PaginationAnimeList.module.css\";\r\n\r\nconst PaginationAnimeList = (props) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [animes, setAnimes] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [currentAnimes, setCurrentAnimes] = useState([]);\r\n  const [animePerPage] = useState(getAnimePerPageByResolution());\r\n\r\n  useEffect(() => {\r\n    console.log(\"again\");\r\n    // Get season begin time and end time\r\n    const range = getAnnualRange(props.year);\r\n    // Get all animes\r\n    const fullItems = JSON.parse(localStorage.getItem(\"bd_items\"));\r\n    // Filter Selected Season\r\n    const selectedItems = fullItems.filter(\r\n      (item) =>\r\n        new Date(item.begin) >= new Date(range[0]) &&\r\n        new Date(item.begin) < new Date(range[1])\r\n    );\r\n    setAnimes(selectedItems);\r\n  }, [props.year]);\r\n\r\n  useEffect(() => {\r\n    const indexOfLastAnime = currentPage * animePerPage;\r\n    const indexOfFirstAnime = indexOfLastAnime - animePerPage;\r\n    const slice = animes.slice(indexOfFirstAnime, indexOfLastAnime);\r\n    setCurrentAnimes(slice);\r\n    setLoading(false);\r\n  }, [animePerPage, animes, currentPage]);\r\n\r\n  const pageChangeHandler = (event, value) => setCurrentPage(value);\r\n\r\n  return (\r\n    <div>\r\n      {loading ? <AnimeListSkeleton /> : <AnimeList list={currentAnimes} />}\r\n      <Pagination\r\n        className={styles.pagination}\r\n        count={Math.ceil(animes.length / animePerPage)}\r\n        page={currentPage}\r\n        onChange={pageChangeHandler}\r\n        showFirstButton\r\n        showLastButton\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst getAnimePerPageByResolution = () => {\r\n  return parseInt((window.screen.width - 250) / 160) * 3;\r\n};\r\n\r\nexport default PaginationAnimeList;\r\n","import React from \"react\";\r\nimport { Tabs, Tab } from \"@material-ui/core\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport styles from \"./AnnualAnimeList.module.css\";\r\nimport SeasonCards from \"./SeasonCards/SeasonCards\";\r\nimport PaginationAnimeList from \"./PaginationAnimeList/PaginationAnimeList\";\r\n\r\nconst AnnualAnimeList = (props) => {\r\n  let { year } = useParams();\r\n  let history = useHistory();\r\n\r\n  if(!parseInt(year)) {\r\n    history.replace(\"/error\");\r\n  }\r\n\r\n  const [value, setValue] = React.useState(0);\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={props.openSidebar ? styles.seasons : styles.seasonsFullWidth}\r\n    >\r\n      <Tabs\r\n        value={value}\r\n        onChange={handleChange}\r\n        indicatorColor=\"primary\"\r\n        textColor=\"primary\"\r\n        variant=\"fullWidth\"\r\n        aria-label=\"full width tabs example\"\r\n      >\r\n        <Tab label=\"季度选择\" {...a11yProps(0)} />\r\n        <Tab label=\"全年番剧\" {...a11yProps(1)} />\r\n      </Tabs>\r\n      <TabPanel value={value} index={0}>\r\n        <SeasonCards year={year} />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <PaginationAnimeList year={year} />\r\n      </TabPanel>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `scrollable-auto-tab-${index}`,\r\n    \"aria-controls\": `scrollable-auto-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`scrollable-auto-tabpanel-${index}`}\r\n      aria-labelledby={`scrollable-auto-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && <div>{children}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AnnualAnimeList;\r\n","import React from \"react\";\r\nimport { Link, Typography } from \"@material-ui/core\";\r\nimport { ArrowBackIosRounded } from \"@material-ui/icons\";\r\n\r\nimport Logo from \"../../assets/images/logo.png\";\r\nimport Myne from \"../../assets/images/myne_sit.png\";\r\nimport styles from \"./Home.module.css\";\r\n\r\nconst Home = () => {\r\n  return (\r\n    <div className={styles.home}>\r\n      <img className={styles.logo} src={Logo} alt=\"logo\" />\r\n      <Typography className={styles.title} variant=\"h2\" align=\"center\">\r\n        Bangumi\r\n      </Typography>\r\n      <Typography paragraph align=\"center\">\r\n        本网站提供日本动画番剧导航，网站基于多个API的的数据源生成。详细请看\r\n        <Link color=\"secondary\" href=\"/about\">\r\n          关于\r\n        </Link>\r\n        页面。\r\n      </Typography>\r\n      <Typography paragraph align=\"center\">\r\n        <ArrowBackIosRounded className={styles.arrowIcon} />\r\n        请活用侧边栏来选择你要查看的资料。网站的一些使用说明请到\r\n        <Link color=\"secondary\" href=\"/instruction\">\r\n          说明\r\n        </Link>\r\n        页面。\r\n      </Typography>\r\n      <Typography paragraph align=\"center\">\r\n        如果网站出现问题或者任何bug。请点击下面图标到GitHub提交问题\r\n      </Typography>\r\n      <div className={styles.badges}>\r\n        <Link\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n          href=\"https://github.com/developer-haku/bangumi/issues/new\"\r\n        >\r\n          <img\r\n            alt=\"GitHub Issue\"\r\n            src=\"https://img.shields.io/badge/GitHub-%E6%8F%90%E4%BA%A4%E9%97%AE%E9%A2%98-red?style=flat-square&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xMSAxNWgydjJoLTJ6bTAtOGgydjZoLTJ6bS45OS01QzYuNDcgMiAyIDYuNDggMiAxMnM0LjQ3IDEwIDkuOTkgMTBDMTcuNTIgMjIgMjIgMTcuNTIgMjIgMTJTMTcuNTIgMiAxMS45OSAyek0xMiAyMGMtNC40MiAwLTgtMy41OC04LThzMy41OC04IDgtOCA4IDMuNTggOCA4LTMuNTggOC04IDh6Ii8%2BPC9zdmc%2B\"\r\n          />\r\n        </Link>\r\n      </div>\r\n      <img className={styles.myne} src={Myne} alt=\"myne\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { Link, Typography, Divider } from \"@material-ui/core\";\r\n\r\nimport styles from \"./About.module.css\";\r\n\r\nconst About = () => {\r\n  return (\r\n    <div className={styles.about}>\r\n      <Typography className={styles.header} variant=\"h4\">\r\n        关于Bangumi\r\n      </Typography>\r\n      <Divider />\r\n      <div className={styles.badges}>\r\n        <Link href=\"https://github.com/developer-haku/bangumi/blob/master/LICENSE\">\r\n          <img\r\n            className={styles.badge}\r\n            alt=\"GitHub\"\r\n            src=\"https://img.shields.io/github/license/developer-haku/bangumi?style=flat-square\"\r\n          />\r\n        </Link>\r\n        <Link href=\"https://github.com/developer-haku/bangumi\">\r\n          <img\r\n            className={styles.badge}\r\n            alt=\"GitHub package.json version (branch)\"\r\n            src=\"https://img.shields.io/github/package-json/v/developer-haku/bangumi/master?label=Build&logo=github&style=flat-square\"\r\n          />\r\n        </Link>\r\n        <Link href=\"https://github.com/developer-haku/bangumi/issues/new\">\r\n          <img\r\n            className={styles.badge}\r\n            alt=\"GitHub Issue\"\r\n            src=\"https://img.shields.io/badge/GitHub-%E6%8F%90%E4%BA%A4%E9%97%AE%E9%A2%98-red?style=flat-square&logo=data%3Aimage%2Fsvg%2Bxml%3Bbase64%2CPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0id2hpdGUiIHdpZHRoPSIxOHB4IiBoZWlnaHQ9IjE4cHgiPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMFYweiIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik0xMSAxNWgydjJoLTJ6bTAtOGgydjZoLTJ6bS45OS01QzYuNDcgMiAyIDYuNDggMiAxMnM0LjQ3IDEwIDkuOTkgMTBDMTcuNTIgMjIgMjIgMTcuNTIgMjIgMTJTMTcuNTIgMiAxMS45OSAyek0xMiAyMGMtNC40MiAwLTgtMy41OC04LThzMy41OC04IDgtOCA4IDMuNTggOCA4LTMuNTggOC04IDh6Ii8%2BPC9zdmc%2B\"\r\n          />\r\n        </Link>\r\n        <Link href=\"https://www.jsdelivr.com/package/npm/bangumi-data\">\r\n          <img\r\n            className={styles.badge}\r\n            alt=\"GitHub package.json version (branch)\"\r\n            src=\"https://img.shields.io/github/package-json/v/bangumi-data/bangumi-data/master?label=bangumi-data&style=flat-square&logo=jsdelivr\"\r\n          />\r\n        </Link>\r\n        <Link href=\"https://github.com/developer-haku/bangumi-ga\">\r\n          <img\r\n            className={styles.badge}\r\n            alt=\"GitHub release (latest by date)\"\r\n            src=\"https://img.shields.io/github/v/release/developer-haku/bangumi-ga?color=orange&label=bangumi-ga&logo=GitHub&style=flat-square\"\r\n          />\r\n        </Link>\r\n      </div>\r\n      <Divider />\r\n      <Typography className={styles.paragraph} variant=\"body1\">\r\n        --  本网站，以及本网站源代码已经停止更新 --\r\n        <br />\r\n        这网站是基于bangumi-data作为主要API生成列表，bangumi.tv\r\n        api数据补全信息，使用React.js开发的日本动画番剧导航网站。\r\n        <br />\r\n        因为API基本上都带有Bangumi这词或者与其相关，所以就直接叫作Bangumi了。\r\n        <br />\r\n        这个是我刚学React的第一个个人项目，基本用于练手。我网站设计比较菜，所以大多数都是套用\r\n        <Link\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n          href=\"https://github.com/developer-haku/bangumi/issues/new\"\r\n        >\r\n          Material-UI\r\n        </Link>\r\n        的组件。\r\n        <br />\r\n      </Typography>\r\n      <Divider />\r\n      <Typography className={styles.header2} variant=\"h5\">\r\n        感谢\r\n      </Typography>\r\n      <Divider />\r\n      <ul className={styles.apiList}>\r\n        <li>\r\n          <Link\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n            href=\"https://github.com/bangumi-data/bangumi-data\"\r\n          >\r\n            bangumi-data\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n            href=\"https://github.com/bangumi/api\"\r\n          >\r\n            bangumi.tv api\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n      <Divider />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport AnimeList from \"../AnimeList\";\r\nimport AnimeListSkeleton from \"../AnimeListSkeleton\";\r\nimport { Typography, Divider } from \"@material-ui/core\";\r\n\r\nconst FavoritedAnimeList = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [items, setItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const favorite = JSON.parse(localStorage.getItem(\"favorite\"));\r\n    const filteredItems = JSON.parse(localStorage.getItem(\"bd_items\")).filter(\r\n      (item) => {\r\n        return favorite.includes(\r\n          item.sites.find((i) => i.site === \"bangumi\").id\r\n        );\r\n      }\r\n    );\r\n    setItems(filteredItems);\r\n    setLoading(false);\r\n  }, []);\r\n  return loading ? (\r\n    <AnimeListSkeleton />\r\n  ) : (\r\n    <React.Fragment>\r\n      <Typography variant=\"body1\" align=\"center\">\r\n        移除收藏后需要刷新一下哦~\r\n      </Typography>\r\n      <Divider />\r\n      <AnimeList list={items} />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default FavoritedAnimeList;\r\n","import React from \"react\";\r\nimport { Button, Typography } from \"@material-ui/core\";\r\nimport { Home, History } from \"@material-ui/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Myne from \"../../assets/images/myne_cry.png\";\r\nimport styles from \"./Error.module.css\";\r\n\r\nconst Error = () => {\r\n  let history = useHistory();\r\n\r\n  const goHome = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  const goBack = () => {\r\n    history.goBack();\r\n  };\r\n\r\n  return (\r\n    <div className={styles.error}>\r\n      <img className={styles.myne} src={Myne} alt=\"Myne\" />\r\n      <Typography variant=\"h4\" paragraph align=\"center\">\r\n        ここは出入り禁止だ！\r\n      </Typography>\r\n      <div className={styles.buttons}>\r\n        <Button\r\n          className={styles.button}\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          startIcon={<History />}\r\n          onClick={goBack}\r\n        >\r\n          返回前一页\r\n        </Button>\r\n        <Button\r\n          className={styles.button}\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          startIcon={<Home />}\r\n          onClick={goHome}\r\n        >\r\n          回到首页\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Error;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, Typography, IconButton } from \"@material-ui/core\";\r\nimport {\r\n  AccessTime,\r\n  CalendarToday,\r\n  Favorite,\r\n  FavoriteBorder,\r\n} from \"@material-ui/icons\";\r\nimport { Rating } from \"@material-ui/lab\";\r\n\r\nimport styles from \"./TitleSection.module.css\";\r\nimport {\r\n  translateWeekday,\r\n  getLocalBangumiDataById,\r\n} from \"../../../../utils/utils\";\r\n\r\nconst TitleSection = (props) => {\r\n  const [isFav, setIsFav] = useState(false);\r\n  const weekday = translateWeekday(props.weekday);\r\n  const siteMeta = JSON.parse(localStorage.getItem(\"bd_site_meta\"));\r\n  const data = getLocalBangumiDataById(props.id.toString());\r\n  let links = null;\r\n\r\n  useEffect(() => {\r\n    const favList = JSON.parse(localStorage.getItem(\"favorite\"));\r\n    if (favList.includes(props.id.toString())) setIsFav(true);\r\n  }, [props.id]);\r\n\r\n  if (data.length === 1) {\r\n    links = data[0].sites\r\n      .map((site) => {\r\n        return (\r\n          <Link\r\n            className={styles.link}\r\n            color=\"inherit\"\r\n            key={site.site}\r\n            onClick={() => siteHandler(site.site, site.id)}\r\n          >\r\n            {siteMeta[site.site].title}\r\n          </Link>\r\n        );\r\n      })\r\n      .sort((a, b) => (a.key === \"bangumi\" ? 0 : 1));\r\n\r\n    links.unshift(\r\n      <Link\r\n        className={styles.link}\r\n        key=\"official\"\r\n        color=\"inherit\"\r\n        onClick={() => openTargetSite(data[0].officialSite)}\r\n      >\r\n        官方网站\r\n      </Link>\r\n    );\r\n\r\n    links.push(\r\n      <Link\r\n        className={styles.link}\r\n        color=\"inherit\"\r\n        key=\"dmhy\"\r\n        onClick={() =>\r\n          openTargetSite(\r\n            siteMeta.dmhy.urlTemplate.replace(\"{{id}}\", props.titleCN)\r\n          )\r\n        }\r\n      >\r\n        动漫花园\r\n      </Link>\r\n    );\r\n  }\r\n\r\n  const openTargetSite = (url) => {\r\n    window.open(url);\r\n  };\r\n\r\n  const siteHandler = (site, id) => {\r\n    window.open(siteMeta[site].urlTemplate.replace(\"{{id}}\", id));\r\n  };\r\n\r\n  const fav = () => {\r\n    let favList = JSON.parse(localStorage.getItem(\"favorite\"));\r\n    if (favList.includes(props.id.toString())) {\r\n      favList.splice(favList.indexOf(props.id.toString()), 1);\r\n    } else {\r\n      favList.push(props.id.toString());\r\n    }\r\n    localStorage.setItem(\"favorite\", JSON.stringify(favList));\r\n    setIsFav(!isFav);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.titleSection}>\r\n      <img className={styles.coverImage} src={props.image} alt=\"coverimage\" />\r\n      <div className={styles.titleInfo}>\r\n        <div className={styles.basicInfo}>\r\n          <Typography variant=\"h5\" className={styles.titleCN}>\r\n            {props.titleCN !== \"\" ? props.titleCN : props.titleJP}\r\n            <IconButton className={styles.favIcon} size=\"small\" onClick={fav}>\r\n              {isFav ? <Favorite /> : <FavoriteBorder />}\r\n            </IconButton>\r\n          </Typography>\r\n          <Typography variant=\"subtitle2\" className={styles.titleJP}>\r\n            {props.titleJP}\r\n          </Typography>\r\n          <Typography className={styles.bangumiRating} variant=\"subtitle2\">\r\n            Bangumi评分：\r\n            <Rating\r\n              className={styles.rating}\r\n              name=\"bangumi-rating\"\r\n              size=\"small\"\r\n              max={10}\r\n              defaultValue={0}\r\n              value={props.rating}\r\n              precision={0.1}\r\n              disabled={props.rating ? false : true}\r\n              readOnly\r\n            />\r\n            {props.rating}\r\n          </Typography>\r\n          <Typography className={styles.time} variant=\"subtitle2\">\r\n            <AccessTime fontSize=\"small\" className={styles.icon} />\r\n            {props.airDate}\r\n            {\" | \"}\r\n            <CalendarToday fontSize=\"small\" className={styles.icon} />\r\n            {weekday}\r\n          </Typography>\r\n          <Typography className={styles.links} variant=\"subtitle2\">\r\n            {links.map((link) => {\r\n              return [\r\n                link,\r\n                links.indexOf(link) === links.length - 1 ? \"\" : \" | \",\r\n              ];\r\n            })}\r\n          </Typography>\r\n        </div>\r\n        <div className={styles.summaryInfo}>\r\n          <Typography variant=\"subtitle2\" className={styles.summary}>\r\n            {props.summary}\r\n          </Typography>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TitleSection;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./ProductionDetail.module.css\";\r\nimport { Typography, Divider } from \"@material-ui/core\";\r\n\r\nconst ProductionDetail = (props) => {\r\n  const infoList = props.info.match(/(?<=<li>)([\\s\\S]*?)(?=<\\/li>)/gm);\r\n\r\n  const parsedInfo =\r\n    infoList && infoList.map((m) => m.replace(/(<([^>]+)>)/gi, \"\"));\r\n\r\n  return (\r\n    <div className={styles.productionDetail}>\r\n      <Typography variant=\"body1\" className={styles.header}>制作信息</Typography>\r\n      <Divider className={styles.divider} />\r\n      {infoList &&\r\n        parsedInfo.map((m) => {\r\n          return (\r\n            <Typography\r\n              className={styles.parsedInfo}\r\n              key={Math.random()}\r\n              variant=\"subtitle2\"\r\n            >\r\n              {m}\r\n            </Typography>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductionDetail;\r\n","import React from \"react\";\r\nimport { Button, Tooltip, withStyles } from \"@material-ui/core\";\r\n\r\nimport styles from \"./EpisodeButton.module.css\";\r\n\r\nconst HtmlTooltip = withStyles((theme) => ({\r\n  tooltip: {\r\n    backgroundColor: \"#f5f5f9\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    maxWidth: 220,\r\n    fontSize: theme.typography.pxToRem(12),\r\n    border: \"1px solid #dadde9\",\r\n  },\r\n}))(Tooltip);\r\n\r\nconst EpisodeButton = (props) => {\r\n  return (\r\n    // <React.Fragment>\r\n    <HtmlTooltip\r\n      title={\r\n        <React.Fragment>\r\n          <p>\r\n            {\"第\" + props.eps.sort + \"集\"}{\" \"}\r\n            {props.eps[\"name_cn\"] !== \"\"\r\n              ? \": \" + props.eps[\"name_cn\"]\r\n              : props.eps.name !== \"\"\r\n              ? \"：\" + props.eps.name\r\n              : \"\"}\r\n          </p>\r\n          <span>\r\n            {\"开播时间：\" + props.eps.airdate}\r\n            {props.eps.status === \"Air\" ? \"\" : \"(未开播)\"}\r\n          </span>\r\n        </React.Fragment>\r\n      }\r\n    >\r\n      <Button\r\n        data-tip\r\n        data-for={\"\" + props.eps.id}\r\n        className={styles.button}\r\n        variant={props.eps.status === \"Air\" ? \"contained\" : \"outlined\"}\r\n        size=\"small\"\r\n        color=\"primary\"\r\n        disableElevation\r\n        disableRipple\r\n        onClick={() => {\r\n          window.open(props.eps.url);\r\n        }}\r\n      >\r\n        {JSON.stringify(props.eps.sort)}\r\n      </Button>\r\n    </HtmlTooltip>\r\n  );\r\n};\r\n\r\nexport default EpisodeButton;\r\n","import React from \"react\";\r\nimport { Typography, Divider } from \"@material-ui/core\";\r\n\r\nimport styles from \"./EpisodeDetail.module.css\";\r\nimport EpisodeButton from \"./EpisodeButton/EpisodeButton\";\r\n\r\nconst EpisodeDetail = (props) => {\r\n  return (\r\n    <div className={styles.episodeDetail}>\r\n      <Typography variant=\"body1\" className={styles.header}>\r\n        选集列表\r\n      </Typography>\r\n      <Divider className={styles.divider} />\r\n      <div className={styles.episodeList}>\r\n        {props.episodes.map((eps) => (\r\n          <EpisodeButton eps={eps} key={eps.id} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EpisodeDetail;\r\n","import React, { useState } from \"react\";\r\nimport { Card, CardMedia, Typography } from \"@material-ui/core\";\r\n\r\nimport styles from \"./CharacterCard.module.css\";\r\nimport ProfilePlaceholderImage from \"../../../../../../assets/images/profile_placeholder.png\";\r\nimport CharacterPlaceholderImage from \"../../../../../../assets/images/CharacterPlaceholder.jpg\";\r\n\r\nconst CharacterCard = (props) => {\r\n  const characterImage = props.character.images\r\n    ? props.character.images.large\r\n    : CharacterPlaceholderImage;\r\n  const [cardImage, setCardImage] = useState(characterImage);\r\n\r\n  const swapImage = () => {\r\n    if (cardImage === characterImage) {\r\n      setCardImage(\r\n        props.character.actors && props.character.actors[0].images\r\n          ? props.character.actors[0].images.large\r\n          : ProfilePlaceholderImage\r\n      );\r\n    } else {\r\n      setCardImage(characterImage);\r\n    }\r\n  };\r\n\r\n  let info = [];\r\n  if (props.character.info) {\r\n    props.character.info.gender &&\r\n      info.push(\r\n        <Typography key=\"gender\" variant=\"body2\">\r\n          {\"性别：\" + props.character.info.gender}\r\n        </Typography>\r\n      );\r\n    props.character.info.birth &&\r\n      info.push(\r\n        <Typography key=\"birth\" variant=\"body2\">\r\n          {\"生日：\" + props.character.info.birth}\r\n        </Typography>\r\n      );\r\n    props.character.info.height &&\r\n      info.push(\r\n        <Typography key=\"height\" variant=\"body2\">\r\n          {\"身高：\" + props.character.info.height}\r\n        </Typography>\r\n      );\r\n    props.character.info.bloodtype &&\r\n      info.push(\r\n        <Typography key=\"bloodtype\" variant=\"body2\">\r\n          {\"血型：\" + props.character.info.bloodtype}\r\n        </Typography>\r\n      );\r\n    props.character.info.bwh &&\r\n      info.push(\r\n        <Typography key=\"bwh\" variant=\"body2\">\r\n          {\"三围：\" + props.character.info.bwh}\r\n        </Typography>\r\n      );\r\n  }\r\n\r\n  return (\r\n    <Card className={styles.characterCard}>\r\n      <CardMedia\r\n        className={styles.characterImage}\r\n        image={cardImage}\r\n        onClick={swapImage}\r\n      />\r\n      <div className={styles.charaInfo}>\r\n        <Typography variant=\"caption\" className={styles.role}>\r\n          {props.character[\"role_name\"]}\r\n        </Typography>\r\n        <Typography className={styles.actors} variant=\"caption\">\r\n          {props.character.actors\r\n            ? \"CV: \" + props.character.actors[0].name\r\n            : \"无CV\"}\r\n        </Typography>\r\n        <Typography variant=\"body1\">{props.character.name}</Typography>\r\n        {props.character.info &&\r\n          props.character.info.alias &&\r\n          props.character.info.alias.kana && (\r\n            <Typography variant=\"body2\">\r\n              {\"假名：\" + props.character.info.alias.kana}\r\n            </Typography>\r\n          )}\r\n        {props.character[\"name_cn\"] === \"\" ? null : (\r\n          <Typography variant=\"body2\">\r\n            {\"中文名：\" + props.character[\"name_cn\"]}\r\n          </Typography>\r\n        )}\r\n        {info}\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default CharacterCard;\r\n","import React from \"react\";\r\nimport { Typography, Divider } from \"@material-ui/core\";\r\n\r\nimport styles from \"./CharacterDetail.module.css\";\r\nimport CharacterCard from \"./CharacterCard/CharacterCard\";\r\n\r\nconst CharacterDetail = (props) => {\r\n  return (\r\n    <div className={styles.characterDetail}>\r\n      <Typography variant=\"body1\" className={styles.header}>\r\n        角色列表 <Typography variant=\"caption\">(点击角色图片可查看声优照片)</Typography>\r\n      </Typography>\r\n      <Divider className={styles.divider} />\r\n      <div className={styles.characterList} >\r\n        {props.characters.map((character) => (\r\n          <CharacterCard key={character.id} character={character} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CharacterDetail;\r\n","import React from \"react\";\r\nimport { Card, CardMedia, Typography } from \"@material-ui/core\";\r\n\r\nimport ProfilePlaceholderImage from \"../../../../../../assets/images/profile_placeholder.png\";\r\nimport styles from \"./StaffCard.module.css\";\r\n\r\nconst StaffCard = (props) => {\r\n  return (\r\n    <Card className={styles.staffCard}>\r\n      <CardMedia\r\n        className={styles.profileImage}\r\n        image={\r\n          props.staff.images\r\n            ? props.staff.images.medium\r\n            : ProfilePlaceholderImage\r\n        }\r\n        onClick={() => {\r\n          window.open(props.staff.url);\r\n        }}\r\n      />\r\n      <div className={styles.staffInfo}>\r\n        <Typography variant=\"body1\">{props.staff.name}</Typography>\r\n        {props.staff[\"name_cn\"] === \"\" ? null : (\r\n          <Typography variant=\"body2\">\r\n            {\"中文名：\" + props.staff[\"name_cn\"]}\r\n          </Typography>\r\n        )}\r\n        {props.staff.jobs.map((job) => (\r\n          <Typography key={job} className={styles.job} variant=\"caption\">\r\n            {job}\r\n          </Typography>\r\n        ))}\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default StaffCard;\r\n","import React from \"react\";\r\nimport { Typography, Divider } from \"@material-ui/core\";\r\n\r\nimport StaffCard from \"./StaffCard/StaffCard\";\r\nimport styles from \"./StaffDetail.module.css\";\r\n\r\nconst StaffDetail = (props) => {\r\n  return (\r\n    <div className={styles.staffDetail}>\r\n      <Typography variant=\"body1\" className={styles.header}>\r\n        制作人员\r\n      </Typography>\r\n      <Divider className={styles.divider} />\r\n      <div className={styles.staffList}>\r\n      {props.staffs.map((staff) => (\r\n        <StaffCard key={staff.id} staff={staff} />\r\n      ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffDetail;\r\n","import React from \"react\";\r\nimport {\r\n  LinearProgress,\r\n  Tooltip,\r\n  Typography,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\n\r\nimport styles from \"./RatingDetail.module.css\";\r\n\r\nconst RatingDetail = (props) => {\r\n  let ratingChart = [];\r\n\r\n  for (let i = 1; i < 11; i++) {\r\n    ratingChart.push(\r\n      <React.Fragment key={i}>\r\n        <Typography className={styles.ratingNum} variant=\"caption\">\r\n          {i}\r\n        </Typography>\r\n        <Tooltip title={props.rating.count[`${i}`]}>\r\n          <LinearProgress\r\n            className={styles.bar}\r\n            variant=\"determinate\"\r\n            value={parseInt(\r\n              (props.rating.count[`${i}`] / props.rating.total) * 100\r\n            )}\r\n            valueBuffer={100}\r\n          />\r\n        </Tooltip>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.ratingDetail}>\r\n      <Typography variant=\"body1\" className={styles.header}>\r\n        评分分布{\" \"}\r\n        <Typography variant=\"caption\">\r\n          (总评分人数：{props.rating.total})\r\n        </Typography>\r\n      </Typography>\r\n      <Divider className={styles.divider} />\r\n      <div className={styles.ratingChart}>{ratingChart}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RatingDetail;\r\n","import React from \"react\";\r\nimport { Typography, Tooltip, Divider } from \"@material-ui/core\";\r\n\r\nimport styles from \"./TagDetail.module.css\";\r\n\r\nconst TagDetail = (props) => {\r\n  return (\r\n    <div className={styles.tagsDetail}>\r\n      <Typography variant=\"body1\" className={styles.header}>\r\n        标签云\r\n      </Typography>\r\n      <Divider className={styles.divider} />\r\n      <div className={styles.tags}>\r\n        {props.tags.map((tag) => (\r\n          <Tooltip key={tag.name} title={\"标记数：\" + tag.count} arrow>\r\n            <Typography className={styles.tag} variant=\"subtitle2\">\r\n              {tag.name}\r\n            </Typography>\r\n          </Tooltip>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TagDetail;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./DetailSection.module.css\";\r\nimport ProductionDetail from \"./ProductionDetail/ProductionDetail\";\r\nimport EpisodeDetail from \"./EpisodeDetail/EpisodeDetail\";\r\nimport CharacterDetail from \"./CharacterDetail/CharacterDetail\";\r\nimport StaffDetail from \"./StaffDetail/StaffDetail\";\r\nimport RatingDetail from \"./RatingDetail/RatingDetail\";\r\nimport TagDetail from \"./TagDetail/TagDetail\";\r\n\r\nconst DetailSection = (props) => {\r\n  return (\r\n    <div className={styles.detailSection}>\r\n      <div className={styles.left}>\r\n        <ProductionDetail info={props.data.production} />\r\n      </div>\r\n      <div className={styles.center}>\r\n        {props.data.eps && <EpisodeDetail episodes={props.data.eps} />}\r\n        {props.data.crt && <CharacterDetail characters={props.data.crt} />}\r\n        {props.data.staff && <StaffDetail staffs={props.data.staff} />}\r\n      </div>\r\n      <div className={styles.right}>\r\n        {props.data.rating && <RatingDetail rating={props.data.rating} />}\r\n        <TagDetail tags={props.data.tags} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DetailSection;\r\n","import React from \"react\";\r\n\r\nimport styles from \"./InfoSection.module.css\";\r\nimport TitleSection from \"./TitleSection/TitleSection\";\r\nimport DetailSection from \"../InfoSection/DetailSection/DetailSection\";\r\n\r\nconst InfoSection = (props) => {\r\n  return (\r\n    <div className={styles.infoSection}>\r\n      <TitleSection\r\n        id={props.data.id}\r\n        image={props.data.cover}\r\n        titleCN={props.data.name_cn}\r\n        titleJP={props.data.name}\r\n        airDate={props.data[\"air_date\"]}\r\n        weekday={props.data[\"air_weekday\"]}\r\n        rating={props.data.rating && props.data.rating.score}\r\n        summary={props.data.summary}\r\n      />\r\n      <DetailSection data={props.data} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InfoSection;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Skeleton } from \"@material-ui/lab\";\r\nimport styled from \"styled-components\";\r\n\r\nimport styles from \"./FullAnimeInfo.module.css\";\r\nimport InfoSection from \"./InfoSection/InfoSection\";\r\nimport AnimeDataService from \"../../service/AnimeDataService\";\r\n\r\nconst Div = styled.div`\r\n  &::before {\r\n    width: 100%;\r\n    height: 100vh;\r\n    display: block;\r\n    content: \"\";\r\n    position: fixed;\r\n    background-size: cover;\r\n    background-image: url(${(props) => props.image});\r\n    z-index: -1;\r\n    filter: blur(100px) brightness(0.7);\r\n  }\r\n`;\r\n\r\nconst FullAnimeInfo = () => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [bangumiInfo, setBangumiInfo] = useState(null);\r\n  const { bgmId } = useParams();\r\n  const ads = new AnimeDataService();\r\n\r\n  useEffect(() => {\r\n    if (!bangumiInfo) {\r\n      ads.getBangumiDataFull(bgmId).then((data) => {\r\n        setBangumiInfo(data);\r\n        setLoading(false);\r\n      });\r\n    }\r\n  }, [ads, bangumiInfo, bgmId]);\r\n\r\n  return loading ? (\r\n    <Skeleton className={styles.skeleton} animation=\"wave\" variant=\"rect\" />\r\n  ) : (\r\n    <Div className={styles.fullInfoPage} image={bangumiInfo.cover}>\r\n      <InfoSection data={bangumiInfo} />\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default FullAnimeInfo;\r\n","import React from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\n\r\nimport WeeklyAnimeList from \"../components/AnimeList/WeeklyAnimeList/WeeklyAnimeList\";\r\nimport SeasonAnimeList from \"../components/AnimeList/SeasonAnimeList/SeasonAnimeList\";\r\nimport AnnualAnimeList from \"../components/AnimeList/AnnualAnimeList/AnnualAnimeList\";\r\nimport Home from \"../pages/Home/Home\";\r\nimport About from \"../pages/About/About\";\r\nimport FavoritedAnimeList from \"../components/AnimeList/FavoritedAnimeList/FavoritedAnimeList\";\r\nimport ErrorPage from \"../pages/Error/Error\";\r\nimport FullAnimeInfo from \"../components/FullAnimeInfo/FullAnimeInfo\";\r\n\r\nconst Router = (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/about\" exact component={About} />\r\n        <Route path=\"/favorite\" exact component={FavoritedAnimeList} />\r\n        <Route path=\"/weekly\" exact component={WeeklyAnimeList} />\r\n        <Route path=\"/error\" exact component={ErrorPage} />\r\n        <Route path=\"/bangumi/:bgmId\"component={FullAnimeInfo}/>\r\n        <Route path=\"/:year/:month\" component={SeasonAnimeList} />\r\n        <Route path=\"/:year\" component={AnnualAnimeList} />\r\n        <Route path=\"*\" component={ErrorPage} />\r\n      </Switch>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from \"react\";\r\nimport { Breadcrumbs, Link, Typography, Divider } from \"@material-ui/core\";\r\nimport { NavigateNext } from \"@material-ui/icons\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"./Breadcrumb.module.css\";\r\nimport { translateBreadcrumb } from \"../../utils/utils\";\r\n\r\nconst Breadcrumb = React.memo(() => {\r\n  const pathname = useLocation().pathname;\r\n  const noBreadcrumbPath = [\"/\", \"/error\"];\r\n\r\n  if (noBreadcrumbPath.includes(pathname)) {\r\n    return null;\r\n  }\r\n\r\n  const history = useHistory();\r\n  const crumbs = pathname.split(\"/\").filter((f) => f !== \"\");\r\n\r\n  const linkHandler = (link) => {\r\n    history.push(link);\r\n  };\r\n\r\n  let crumbLinks = [\r\n    <Link key=\"home\" color=\"inherit\" onClick={() => linkHandler(\"/\")}>\r\n      首页\r\n    </Link>,\r\n  ];\r\n\r\n  crumbs.forEach((l) => {\r\n    if (crumbs.indexOf(l) !== crumbs.length - 1) {\r\n      if (l !== \"bangumi\")\r\n        crumbLinks.push(\r\n          <Link key={l} color=\"inherit\" onClick={() => linkHandler(\"/\" + l)}>\r\n            {translateBreadcrumb(l)}\r\n          </Link>\r\n        );\r\n    } else {\r\n      crumbLinks.push(\r\n        <Typography key={l} color=\"textPrimary\">\r\n          {translateBreadcrumb(l)}\r\n        </Typography>\r\n      );\r\n    }\r\n  });\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Breadcrumbs\r\n        className={styles.breadcrumb}\r\n        separator={<NavigateNext fontSize=\"small\" />}\r\n        aria-label=\"breadcrumb\"\r\n      >\r\n        {crumbLinks}\r\n      </Breadcrumbs>\r\n      <Divider />\r\n    </React.Fragment>\r\n  );\r\n});\r\n\r\nexport default Breadcrumb;\r\n","import React from 'react'\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nimport Logo from \"../../assets/images/logo.png\";\r\nimport styles from \"./Loading.module.css\";\r\n\r\nconst BangumiDataLoading = () => {\r\n    return (\r\n        <div className={styles.loading}>\r\n            <img className={styles.logo} src={Logo} alt=\"logo\" />\r\n            <Typography className={styles.loadingText} variant=\"h3\" align=\"center\">Loading...</Typography>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BangumiDataLoading\r\n","import React, { PureComponent } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { isMobile } from \"react-device-detect\";\r\n\r\nimport * as action from \"../../store/actions\";\r\nimport Sidebar from \"../Sidebar/Sidebar\";\r\nimport Topbar from \"../Topbar/Topbar\";\r\nimport Router from \"../../router\";\r\nimport Breadcrumb from \"../Breadcrumb/Breadcrumb\";\r\nimport Loading from \"../../pages/Loading/Loading\";\r\nimport styles from \"./Layout.module.css\";\r\n\r\nclass Layout extends PureComponent {\r\n  state = {\r\n    openSidebar: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.initialization();\r\n    isMobile && this.setState({ openSidebar: false });\r\n  }\r\n\r\n  siderbarHandler = (openSidebar = null) => {\r\n    if (openSidebar === null) {\r\n      this.setState((prevState) => {\r\n        return { openSidebar: !prevState.openSidebar };\r\n      });\r\n    } else {\r\n      this.setState({ openSidebar: openSidebar });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return this.props.initialized ? (\r\n      <React.Fragment>\r\n        <Topbar toggleSidebar={() => this.siderbarHandler()} />\r\n        <Sidebar\r\n          openSidebar={this.state.openSidebar}\r\n          closeSidebar={() => this.siderbarHandler(false)}\r\n        />\r\n        <div\r\n          className={\r\n            isMobile\r\n              ? styles.contentsAreaFullWidth\r\n              : this.state.openSidebar\r\n              ? styles.contentsArea\r\n              : styles.contentsAreaFullWidth\r\n          }\r\n        >\r\n          <Breadcrumb />\r\n          <Router />\r\n        </div>\r\n      </React.Fragment>\r\n    ) : (\r\n      <Loading />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    initialized: state.bangumiData.initialized,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    initialization: () => dispatch(action.initialization()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import * as actionType from \"../actions/ActionTypes\";\r\n\r\nconst defaultState = {\r\n  initialized: false\r\n};\r\n\r\nconst initialization = (state, action) => {\r\n  return {\r\n    ...state,\r\n    initialized: action.initialized\r\n  }\r\n}\r\n\r\nconst reducer = (state = defaultState, action) => {\r\n  switch (action.type) {\r\n    case actionType.INITIALIZATION:\r\n      return initialization(state, action);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { createStore, applyMiddleware, combineReducers, compose } from \"redux\";\r\nimport { Provider } from \"react-redux\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport ReduxThunk from \"redux-thunk\";\r\nimport { StylesProvider } from \"@material-ui/core\";\r\n\r\nimport \"./index.css\";\r\nimport Layout from \"./components/Layout/Layout\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport bangumiDataReducer from \"./store/reducers/BangumiDataReducer\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst rootReducer = combineReducers({\r\n  bangumiData: bangumiDataReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(ReduxThunk))\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <StylesProvider injectFirst>\r\n        <Layout />\r\n      </StylesProvider>\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}